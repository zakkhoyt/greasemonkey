(self.webpackChunk_amzn_stores_content_rendering_server=self.webpackChunk_amzn_stores_content_rendering_server||[]).push([[6294],{63087:function(t,e,n){"use strict";n.d(e,{G3:function(){return ar},jQ:function(){return bn},nf:function(){return r}});var r,o;n(2437),n(6635),n(19324),n(42955),n(17135),n(43452),n(67237),n(72281),n(74354),n(74181),n(45864),n(21442),n(81892),n(19643),n(27678),n(76308),n(56750),n(60277),n(68064),n(69898),n(17965),n(28751),n(37192),n(27268),n(13156),n(63748);!function(t){t.title="title",t.marketplaceOfferSummary="marketplaceOfferSummary",t.customerReviewsSummary="customerReviewsSummary",t.energyEfficiency="energyEfficiency",t.featureBullets="featureBullets",t.links="links",t.productCategory="productCategory",t.productImages="productImages",t.productVideos="productVideos",t.twisterVariations="twisterVariations",t.buyingOptions_callToAction="buyingOptions_callToAction",t.buyingOptions_price="buyingOptions_price",t.buyingOptions_availability="buyingOptions_availability",t.buyingOptions_dealBadge="buyingOptions_dealBadge",t.buyingOptions_dealCustomerStatus="buyingOptions_dealCustomerStatus",t.buyingOptions_dealDetails="buyingOptions_dealDetails",t.buyingOptions_delivery="buyingOptions_delivery",t.buyingOptions_promotionsUnified="buyingOptions_promotionsUnified",t.buyingOptions_quantity="buyingOptions_quantity",t.buyingOptions_customerBenefitSavings="buyingOptions_customerBenefitSavings"}(r||(r={})),function(t){t.ONLY_CHILD_TO_PARENT="ONLY_CHILD_TO_PARENT",t.ONLY_PARENT_TO_BESTLANDING="ONLY_PARENT_TO_BESTLANDING",t.PARENT_TO_BESTLANDING_OR_CHILD_TO_PARENT="PARENT_TO_BESTLANDING_OR_CHILD_TO_PARENT"}(o||(o={}));class i extends Error{constructor(t,e){super(t),this.name="ApiError",this.resourceError=e,Object.setPrototypeOf(this,i.prototype)}toString(){return`${this.name}: ${this.message} ${JSON.stringify(this.resourceError)}`}}class u{constructor(t,e=[],n=[],r="json",o=!1){this.BASE_MEDIA_TYPE="application/vnd.com.amazon.api",this.entityType=t,this.expandFields=e,this.experiments=n,this.structure=r,this.skipMetadata=o}toString(){let t=`${this.BASE_MEDIA_TYPE}+${this.structure}; type="${this.entityType}"`;return this.expandFields&&this.expandFields.length>0&&(t+=`; expand="${this.expandFields.toString()}"`),this.skipMetadata&&(t+="; skipMetadata=true"),this.experiments&&this.experiments.length>0&&(t+=`; experiments="${this.experiments.toString()}"`),t}}var c=n(80064);class a{constructor(){this.body="",this.expandFields=[],this.experimentIds=[],this.method="GET",this.pathVars=new Map,this.paths=[],this.queryParams=new c.MultiMap}clone(){const t=(new a).withAcceptEntityType(this.acceptEntityType).withSendEntityType(this.sendEntityType).withBody(this.body).withExpansions(this.expandFields).withExperiments(...this.experimentIds).withMethod(this.method);return this.paths.forEach((e=>t.appendURIPath(e))),this.pathVars.forEach(((e,n)=>t.addPathVariable(n,e))),this.queryParams.forEach(((e,n)=>t.withQueryParam(n,e))),t}addPathVariable(t,e){return this.pathVars.set(t,e),this}removePathVariable(t){return this.pathVars.delete(t),this}withAcceptEntityType(t){return this.acceptEntityType=t,this}withSendEntityType(t){return t&&(this.sendEntityType=t),this}withExpansions(t){return t instanceof Array?t.forEach((t=>{this.expandFields.push(t)})):this.expandFields.push(t),this}withBody(t){return this.body=t,this}withMethod(t){return this.method=t,this}withURIPath(t){return this.paths=[t],this}appendURIPath(t){return t&&!this.paths.includes(t)&&this.paths.push(t),this}clearExpand(){return this.expandFields=[],this.queryParams.clear(),this}clear(){return this.expandFields=[],this.queryParams.clear(),this.pathVars.clear(),this.paths=[],this.acceptEntityType="",this.body="",this.expandFields=[],this.experimentIds=[],this}withQueryParam(t,e){return Array.isArray(e)?e.forEach((e=>this.withQueryParam(t,e))):this.queryParams.set(t,e.toString()),this}withExperiments(...t){return this.experimentIds=t,this}buildUri(){let t="";return this.paths.forEach((e=>{let n=e;n.startsWith("$")?this.pathVars.has(e.slice(1))&&(n=this.pathVars.get(e.slice(1)),t+="/"+n):n.startsWith("/")?t+=n:t+="/"+n})),this.queryParams&&this.queryParams.size>0&&(t+="?",[...this.queryParams.entries()].sort().forEach(((e,n)=>{t+=e[0]+"="+e[1]+"&"}))),t}buildAcceptApiMediaType(){return new u(this.acceptEntityType,this.expandFields,this.experimentIds,"json",!1)}buildSendApiMediaType(){if(this.sendEntityType)return new u(this.sendEntityType,[],[],"json",!1)}build(){const t=this.buildAcceptApiMediaType(),e=this.buildSendApiMediaType(),n=Object.assign(Object.assign({method:this.method,acceptHeader:t.toString()},void 0!==e&&{contentTypeHeader:e.toString()}),{body:this.body});return{path:this.buildUri(),options:n}}}class s{constructor(){}async fetch(){const t={headers:new Map([]),status:200,url:"",json(){return Promise.resolve(new Object)}};return Promise.resolve(t)}httpOptions(){return new a}modifyHttpOptions(t){return t(this.httpOptions()),this}clone(){return new s}logger(){return new LoggerStub(!0)}metrics(t){console.log(t)}}class f{constructor(t,e){this.client=t.clone(),this.defaultClient=new s,this.inlinedResponse=e}withExpansions(t){return this.client.httpOptions().withExpansions(t),this}toURLPath(){return this.client.httpOptions().build().path}async execute(){const t=await this.client.fetch(),e=Date.now(),n=await this.parseResponse(t),r=Date.now()-e;return this.client.metrics({values:[{key:"aapi-ts-client/parse-response",value:r,unit:"Milliseconds"}]}),n}async executeOrReject(){const t=await this.execute();return t instanceof i?Promise.reject(t):Promise.resolve(t)}withQueryParam(t,e){return this.client.httpOptions().withQueryParam(t,e),this}withExperiments(...t){return this.client.httpOptions().withExperiments(...t),this}}class l{constructor(t){this.requestFactory=t}createRequest(t,e){return this.requestFactory(t,e)}}class p{constructor(t){this.entries=t.map((t=>new p.Entry(t)))}async getSuccessfulEntries(){const t=new Array;for(let e of this.entries){const n=await e.get();n instanceof i||t.push(n)}return t}}!function(t){t.Entry=class{constructor(t){this.promise=t}get(){return this.promise}async getOrThrow(){const t=await this.promise;if(t instanceof i)throw t;return t}}}(p||(p={}));var y;n(66952);!function(t){class e{constructor(t,e){this.client=t.clone(),this.inlinedResponse=e}}t.Resource=e,function(t){t.Request=class extends f{constructor(t,e){super(t,e)}inlined(){return null==this.inlinedResponse?Promise.resolve(new i("Entity has not been inlined.")):Promise.resolve(this.inlinedResponse)}inlinedOrReject(){return null==this.inlinedResponse?Promise.reject(new i("Entity has not been inlined.")):this.inlinedResponse instanceof i?Promise.reject(this.inlinedResponse):Promise.resolve(this.inlinedResponse)}inlinedOrUndefined(){return null==this.inlinedResponse||this.inlinedResponse instanceof i?Promise.resolve(void 0):Promise.resolve(this.inlinedResponse)}async parseResponse(t){const e=await t.json();if(e.entity){const t=e.entity;return t.status&&200!=t.status?new i("Inlined "+t.status+" response received from the server.",t):t}return new i("Error response received from the server: "+JSON.stringify(e))}}}(e=t.Resource||(t.Resource={}))}(y||(y={}));y.Resource;var h;n(16120);!function(t){t.MOCK="mock-api",t.API="api",t.INTERNAL="internal",t.CUSTOM="custom"}(h||(h={}));class d{constructor(t,e){this.url=t,this.entity=e}}var b=n(62771),v=n.n(b),m=n(43653),w=n.n(m),g=n(88197),O=n.n(g);class P{convertToReference(t,e,n,r){return t instanceof d?(e.httpOptions().withURIPath(t.url),r?r(e):n(e,t.entity)):n(e,t)}getResponse(t,e="",n,r,o,u,c){if(t&&!O()(t)){let a=t;e&&(a=t[e]);for(let t of r.entries()){if(t[0]===n.get(a.type))return c&&u&&o&&(a.entity=this.formatResourceReferences(c,a.entity,o,u),a.entity instanceof i)?a.entity:new d(a.resource.url,a.entity);if(!a.entity&&a.resource)return new d(a.resource.url)}return new i("Entity inlined with an error.",a.entity)}return new i("Entity is not available.")}formatResourceReferences(t,e,n,r){try{let o=e;for(let[e,i]of r.entries()){const r=e.split(".");if(null==t||t.size<=0||!t.has(e))o=this.setFieldsWithoutArrays(r,n,o,i);else{const u=t.get(e);u&&(o=this.recurseFieldsWithArrays(r,u,n,o,i))}}return o}catch(t){return new i("Resource References Not Formatted Correctly",t)}}setFieldsWithoutArrays(t,e,n,r){const o=w()(n,t);return O()(o)?n:v()(n,t,r.resource(this.clearAndAssignURIPath(e,o)))}recurseFieldsWithArrays(t,e,n,r,o){let i=r;for(let[u,c]of t.entries()){if(e.includes(c)){const a=w()(i,c);if(!a||!a.length)return r;const s=u===t.length-1,f=s?a.map((t=>o.resource(this.clearAndAssignURIPath(n,t)))):a.map((r=>this.recurseFieldsWithArrays(t.slice(u+1),e,n,r,o)));return v()(r,s?t:t.slice(0,u),f)}if(i=w()(i,c),O()(i))return r}return v()(r,t,o.resource(this.clearAndAssignURIPath(n,i)))}clearAndAssignURIPath(t,e){return t.httpOptions().clear(),t.httpOptions().withURIPath(e.resource.url),t}}P.INSTANCE=new P;n(20148),n(99262);function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e,n){return e&&T(t.prototype,e),n&&T(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var k=function(){function t(){E(this,t)}return S(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"buyingOptions[].availability(".concat(n,")")}}]),t}();function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e,n){return e&&j(t.prototype,e),n&&j(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}k.INSTANCE=new k,function(t){var e=function(){function t(){E(this,t),this.availabilityV2="product.availability/v2"}return S(t,[{key:"get",value:function(t){return t===this.availabilityV2?"availabilityV2":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(k||(k={}));var I=function(){function t(){R(this,t)}return V(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"buyingOptions[].callToAction(".concat(n,")")}}]),t}();function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}I.INSTANCE=new I,function(t){var e=function(){function t(){R(this,t),this.callToActionV1="product.call-to-action/v1"}return V(t,[{key:"get",value:function(t){return t===this.callToActionV1?"callToActionV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(I||(I={}));var _=function(){function t(){N(this,t)}return C(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"buyingOptions[].customerBenefitSavings(".concat(n,")")}}]),t}();function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e,n){return e&&B(t.prototype,e),n&&B(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}_.INSTANCE=new _,function(t){var e=function(){function t(){N(this,t),this.customerBenefitSavingsV1="product.customer-benefit-savings/v1"}return C(t,[{key:"get",value:function(t){return t===this.customerBenefitSavingsV1?"customerBenefitSavingsV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(_||(_={}));var q=function(){function t(){x(this,t)}return D(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"buyingOptions[].price(".concat(n,")")}}]),t}();function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e,n){return e&&M(t.prototype,e),n&&M(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}q.INSTANCE=new q,function(t){var e=function(){function t(){x(this,t),this.priceV1="product.price/v1"}return D(t,[{key:"get",value:function(t){return t===this.priceV1?"priceV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(q||(q={}));var F=function(){function t(){U(this,t)}return L(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"buyingOptions[].dealBadge(".concat(n,")")}}]),t}();function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e,n){return e&&W(t.prototype,e),n&&W(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}F.INSTANCE=new F,function(t){var e=function(){function t(){U(this,t),this.dealBadgeV1="product.deal-badge/v1"}return L(t,[{key:"get",value:function(t){return t===this.dealBadgeV1?"dealBadgeV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(F||(F={}));var H=function(){function t(){$(this,t)}return z(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"buyingOptions[].promotionsUnified(".concat(n,")")}}]),t}();function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e,n){return e&&J(t.prototype,e),n&&J(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}H.INSTANCE=new H,function(t){var e=function(){function t(){$(this,t),this.promotionsUnifiedV1="product.promotions-unified/v1"}return z(t,[{key:"get",value:function(t){return t===this.promotionsUnifiedV1?"promotionsUnifiedV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(H||(H={}));var Y=function(){function t(){G(this,t)}return Q(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"buyingOptions[].dealDetails(".concat(n,")")}}]),t}();function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X(t,e,n){return e&&K(t.prototype,e),n&&K(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Y.INSTANCE=new Y,function(t){var e=function(){function t(){G(this,t),this.dealDetailsV1="product.deal-details/v1"}return Q(t,[{key:"get",value:function(t){return t===this.dealDetailsV1?"dealDetailsV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(Y||(Y={}));var tt=function(){function t(){Z(this,t)}return X(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"buyingOptions[].dealCustomerStatus(".concat(n,")")}}]),t}();function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n){return e&&nt(t.prototype,e),n&&nt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}tt.INSTANCE=new tt,function(t){var e=function(){function t(){Z(this,t),this.dealCustomerStatusV1="product.deal-customer-status/v1"}return X(t,[{key:"get",value:function(t){return t===this.dealCustomerStatusV1?"dealCustomerStatusV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(tt||(tt={}));var ot=function(){function t(){et(this,t)}return rt(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"buyingOptions[].delivery(".concat(n,")")}}]),t}();function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e,n){return e&&ut(t.prototype,e),n&&ut(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}ot.INSTANCE=new ot,function(t){var e=function(){function t(){et(this,t),this.deliveryBlockBadgeV1="product.delivery-block-badge/v1",this.deliveryBlockExtraSmallV1="product.delivery-block-extra-small/v1",this.deliveryBlockExtraSmallV2="product.delivery-block-extra-small/v2",this.deliveryBlockMediumV1="product.delivery-block-medium/v1",this.deliveryBlockMediumV2="product.delivery-block-medium/v2",this.deliveryBlockSmallV1="product.delivery-block-small/v1",this.deliveryBlockSmallV2="product.delivery-block-small/v2",this.liteV1="product.delivery.lite/v1",this.deliveryV1="product.delivery/v1",this.globalStoreDeliveryV1="product.global-store-delivery/v1",this.shippingCostV1="product.shipping-cost/v1"}return rt(t,[{key:"get",value:function(t){return t===this.deliveryBlockBadgeV1?"deliveryBlockBadgeV1":t===this.deliveryBlockExtraSmallV1?"deliveryBlockExtraSmallV1":t===this.deliveryBlockExtraSmallV2?"deliveryBlockExtraSmallV2":t===this.deliveryBlockMediumV1?"deliveryBlockMediumV1":t===this.deliveryBlockMediumV2?"deliveryBlockMediumV2":t===this.deliveryBlockSmallV1?"deliveryBlockSmallV1":t===this.deliveryBlockSmallV2?"deliveryBlockSmallV2":t===this.liteV1?"liteV1":t===this.deliveryV1?"deliveryV1":t===this.globalStoreDeliveryV1?"globalStoreDeliveryV1":t===this.shippingCostV1?"shippingCostV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(ot||(ot={}));var at=function(){function t(){it(this,t)}return ct(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"buyingOptions[].quantity(".concat(n,")")}}]),t}();function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}at.INSTANCE=new at,function(t){var e=function(){function t(){it(this,t),this.quantityV2="product.quantity/v2"}return ct(t,[{key:"get",value:function(t){return t===this.quantityV2?"quantityV2":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(at||(at={}));var ft=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"availability",get:function(){return k.INSTANCE}},{key:"dealBadge",get:function(){return F.INSTANCE}},{key:"promotionsUnified",get:function(){return H.INSTANCE}},{key:"dealDetails",get:function(){return Y.INSTANCE}},{key:"dealCustomerStatus",get:function(){return tt.INSTANCE}},{key:"delivery",get:function(){return ot.INSTANCE}},{key:"price",get:function(){return q.INSTANCE}},{key:"customerBenefitSavings",get:function(){return _.INSTANCE}},{key:"callToAction",get:function(){return I.INSTANCE}},{key:"quantity",get:function(){return at.INSTANCE}}])&&st(e.prototype,n),r&&st(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t,e,n){return e&&pt(t.prototype,e),n&&pt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}ft.INSTANCE=new ft;var ht=function(){function t(){lt(this,t)}return yt(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"title(".concat(n,")")}}]),t}();function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vt(t,e,n){return e&&bt(t.prototype,e),n&&bt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}ht.INSTANCE=new ht,function(t){var e=function(){function t(){lt(this,t),this.catalogTitleV1="product.offer.catalog-title/v1",this.titleV1="product.offer.title/v1"}return yt(t,[{key:"get",value:function(t){return t===this.catalogTitleV1?"catalogTitleV1":t===this.titleV1?"titleV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(ht||(ht={}));var mt=function(){function t(){dt(this,t)}return vt(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"marketplaceOfferSummary(".concat(n,")")}}]),t}();function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e,n){return e&&gt(t.prototype,e),n&&gt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}mt.INSTANCE=new mt,function(t){var e=function(){function t(){dt(this,t),this.marketplaceOfferSummaryV2="product.marketplace-offer-summary/v2"}return vt(t,[{key:"get",value:function(t){return t===this.marketplaceOfferSummaryV2?"marketplaceOfferSummaryV2":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(mt||(mt={}));var Pt=function(){function t(){wt(this,t)}return Ot(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"productImages(".concat(n,")")}}]),t}();function Et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e,n){return e&&Tt(t.prototype,e),n&&Tt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Pt.INSTANCE=new Pt,function(t){var e=function(){function t(){wt(this,t),this.productImagesV2="product.product-images/v2"}return Ot(t,[{key:"get",value:function(t){return t===this.productImagesV2?"productImagesV2":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(Pt||(Pt={}));var kt=function(){function t(){Et(this,t)}return St(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"productVideos(".concat(n,")")}}]),t}();function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t,e,n){return e&&jt(t.prototype,e),n&&jt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}kt.INSTANCE=new kt,function(t){var e=function(){function t(){Et(this,t),this.mediablockV1="product.offer.product-videos.mediablock/v1",this.productVideosV1="product.offer.product-videos/v1"}return St(t,[{key:"get",value:function(t){return t===this.mediablockV1?"mediablockV1":t===this.productVideosV1?"productVideosV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(kt||(kt={}));var It=function(){function t(){Rt(this,t)}return Vt(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"productCategory(".concat(n,")")}}]),t}();function Nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ct(t,e,n){return e&&At(t.prototype,e),n&&At(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}It.INSTANCE=new It,function(t){var e=function(){function t(){Rt(this,t),this.productCategoryV1="product.offer.product-category/v1"}return Vt(t,[{key:"get",value:function(t){return t===this.productCategoryV1?"productCategoryV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(It||(It={}));var _t=function(){function t(){Nt(this,t)}return Ct(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"featureBullets(".concat(n,")")}}]),t}();function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dt(t,e,n){return e&&Bt(t.prototype,e),n&&Bt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}_t.INSTANCE=new _t,function(t){var e=function(){function t(){Nt(this,t),this.featureBulletsV1="product.offer.feature-bullets/v1"}return Ct(t,[{key:"get",value:function(t){return t===this.featureBulletsV1?"featureBulletsV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(_t||(_t={}));var qt=function(){function t(){xt(this,t)}return Dt(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"energyEfficiency(".concat(n,")")}}]),t}();function Ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lt(t,e,n){return e&&Mt(t.prototype,e),n&&Mt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}qt.INSTANCE=new qt,function(t){var e=function(){function t(){xt(this,t),this.energyEfficiencyV1="product.offer.energy-efficiency/v1",this.energyEfficiencyV2="product.energy-efficiency/v2"}return Dt(t,[{key:"get",value:function(t){return t===this.energyEfficiencyV1?"energyEfficiencyV1":t===this.energyEfficiencyV2?"energyEfficiencyV2":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(qt||(qt={}));var Ft=function(){function t(){Ut(this,t)}return Lt(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"customerReviewsSummary(".concat(n,")")}}]),t}();function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t,e,n){return e&&Wt(t.prototype,e),n&&Wt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Ft.INSTANCE=new Ft,function(t){var e=function(){function t(){Ut(this,t),this.customerReviewsSummaryV1="product.customer-reviews-summary/v1"}return Lt(t,[{key:"get",value:function(t){return t===this.customerReviewsSummaryV1?"customerReviewsSummaryV1":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(Ft||(Ft={}));var Ht=function(){function t(){$t(this,t)}return zt(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"twisterVariations(".concat(n,")")}}]),t}();function Gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qt(t,e,n){return e&&Jt(t.prototype,e),n&&Jt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Ht.INSTANCE=new Ht,function(t){var e=function(){function t(){$t(this,t),this.twisterVariationsV2="product.twister-variations/v2"}return zt(t,[{key:"get",value:function(t){return t===this.twisterVariationsV2?"twisterVariationsV2":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(Ht||(Ht={}));var Yt=function(){function t(){Gt(this,t)}return Qt(t,[{key:"get",value:function(e){var n=e(new t.InclusionType);return"links(".concat(n,")")}}]),t}();function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Yt.INSTANCE=new Yt,function(t){var e=function(){function t(){Gt(this,t),this.linksV2="product.links/v2",this.linksV3="product.links/v3"}return Qt(t,[{key:"get",value:function(t){return t===this.linksV2?"linksV2":t===this.linksV3?"linksV3":"errorV1"}}]),t}();e.INSTANCE=new e,t.InclusionType=e}(Yt||(Yt={}));var Kt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"title",get:function(){return ht.INSTANCE}},{key:"marketplaceOfferSummary",get:function(){return mt.INSTANCE}},{key:"buyingOptions",get:function(){return ft.INSTANCE}},{key:"productImages",get:function(){return Pt.INSTANCE}},{key:"productVideos",get:function(){return kt.INSTANCE}},{key:"productCategory",get:function(){return It.INSTANCE}},{key:"featureBullets",get:function(){return _t.INSTANCE}},{key:"energyEfficiency",get:function(){return qt.INSTANCE}},{key:"customerReviewsSummary",get:function(){return Ft.INSTANCE}},{key:"twisterVariations",get:function(){return Ht.INSTANCE}},{key:"links",get:function(){return Yt.INSTANCE}}])&&Zt(e.prototype,n),r&&Zt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();Kt.INSTANCE=new Kt;n(38822);function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ee(t,e,n){return e&&te(t.prototype,e),n&&te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function re(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}function oe(t,e){return oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},oe(t,e)}function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ue(t);if(e){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ue(t)}var ce=function(t){re(n,t);var e=ie(n);function n(){return ne(this,n),e.apply(this,arguments)}return ee(n)}(y.Resource.Request),ae=function(t){re(n,t);var e=ie(n);function n(){return ne(this,n),e.apply(this,arguments)}return ee(n,[{key:"get",value:function(t){var e=t(new Proxy({},{get:function(){return new l((function(t,e){return new ce(t,e)}))}}));return e.createRequest(this.client,this.inlinedResponse)}}]),n}(y.Resource);function se(t,e,n){if(e[n]){var r=!(o=e[n]).type||o.type.startsWith("error")?new i("Entity inlined with an error.",o.entity):new d(null===(u=o.resource)||void 0===u?void 0:u.url,o.entity);return r instanceof d?(t.httpOptions().withURIPath(r.url),new ae(t,r.entity)):new ae(t,r)}var o,u;return new ae(t,null)}function fe(t,e){var n=(e.buyingOptions||[]).map((function(e){return new Proxy(e,{get:function(e,n){return"type"===n?e[n]:se(t,e,n)}})}));return new Proxy(e,{get:function(e,r){return"asin"===r?e[r]:"buyingOptions"===r?n:se(t,e,r)}})}function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}function pe(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ye(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function he(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function de(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){he(i,r,o,u,c,"next",t)}function c(t){he(i,r,o,u,c,"throw",t)}u(void 0)}))}}function be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function me(t,e,n){return e&&ve(t.prototype,e),n&&ve(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function we(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}function ge(t,e){return ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ge(t,e)}function Oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pe(t);if(e){var o=Pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Pe(t){return Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pe(t)}var Ee=function(t){we(n,t);var e=Oe(n);function n(){return be(this,n),e.apply(this,arguments)}return me(n,[{key:"productBatch",value:function(t){var e=t.join(",");return this.client.httpOptions().addPathVariable("asin",e),new n.ProductBatch(this.client)}}]),n}(y.Resource);function Te(t,e){return Se.apply(this,arguments)}function Se(){return Se=de(regeneratorRuntime.mark((function t(e,n){var r,o,u,c,a,s,f,l,y,h,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200===n.status){t.next=5;break}return t.next=3,n.json();case 3:return r=t.sent,t.abrupt("return",new i("".concat(n.status," response received from the server."),r));case 5:return(o=e.clone()).httpOptions().clear(),t.next=9,n.json();case 9:u=t.sent,c=[],a=pe(u.entities);try{for(a.s();!(s=a.n()).done;)f=s.value,l=f.entity,y="product/v2"!==f.type,l?y?(d=new i("Inlined ".concat(l.status," response received from the server."),l),c.push(Promise.resolve(d))):c.push(Promise.resolve(fe(o,l))):(h=new i("Error response received from the server: ".concat(JSON.stringify(f))),c.push(Promise.resolve(h)))}catch(t){a.e(t)}finally{a.f()}return t.abrupt("return",new p(c));case 14:case"end":return t.stop()}}),t)}))),Se.apply(this,arguments)}function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ve(t,e,n){return e&&je(t.prototype,e),n&&je(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ie(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ne(t,e)}function Ne(t,e){return Ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ne(t,e)}function Ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ce(t);if(e){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Ce(t){return Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ce(t)}!function(t){var e=me((function e(){be(this,e),this.productV2=new l((function(e,n){return new t.ProductBatch.GetProductV2RequestProductV2(e.modifyHttpOptions((function(t){return t.withAcceptEntityType("collection(product/v2)/v1")})),n)}))}));e.INSTANCE=new e,t.ProductBatchGetTypes=e;var n=function(n){we(o,n);var r=Oe(o);function o(){return be(this,o),r.apply(this,arguments)}return me(o,[{key:"get",value:function(t){return this.client.httpOptions().withMethod("GET"),t(e.INSTANCE).createRequest(this.client,this.inlinedResponse)}},{key:"canonicalProduct",value:function(){return this.client.httpOptions().appendURIPath("canonical"),new t.ProductBatch.CanonicalProduct(this.client)}}]),o}(y.Resource);t.ProductBatch=n,function(e){var n=function(t){we(r,t);var e,n=Oe(r);function r(){return be(this,r),n.apply(this,arguments)}return me(r,[{key:"parseResponse",value:(e=de(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Te(this.client,e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"inline",value:function(t){return this.withExpansions(t(Kt.INSTANCE)),this}}]),r}(y.Resource.Request);e.GetProductV2RequestProductV2=n;var r=me((function e(){be(this,e),this.productV2=new l((function(e,n){return new t.ProductBatch.CanonicalProduct.GetCanonicalProductV2RequestProductV2(e.modifyHttpOptions((function(t){return t.withAcceptEntityType("collection(product/v2)/v1").withSendEntityType("batch.request/v1")})),n)}))}));r.INSTANCE=new r,e.CanonicalProductGetTypes=r;var o=function(t){we(n,t);var e=Oe(n);function n(){return be(this,n),e.apply(this,arguments)}return me(n,[{key:"get",value:function(t){return this.client.httpOptions().withMethod("GET"),t(r.INSTANCE).createRequest(this.client,this.inlinedResponse)}}]),n}(y.Resource);e.CanonicalProduct=o,function(t){var e=function(t){we(r,t);var e,n=Oe(r);function r(){return be(this,r),n.apply(this,arguments)}return me(r,[{key:"parseResponse",value:(e=de(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Te(this.client,e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"inline",value:function(t){return this.withExpansions(t(Kt.INSTANCE)),this}},{key:"withSelectionType",value:function(t){return this.client.httpOptions().withQueryParam("selectionType",t),this}}]),r}(y.Resource.Request);t.GetCanonicalProductV2RequestProductV2=e}(o=e.CanonicalProduct||(e.CanonicalProduct={}))}(n=t.ProductBatch||(t.ProductBatch={}))}(Ee||(Ee={}));var _e=function(t){Ie(n,t);var e=Ae(n);function n(){return Re(this,n),e.apply(this,arguments)}return Ve(n,[{key:"marketplace",value:function(t){return this.client.httpOptions().addPathVariable("marketplaceId",t),new n.Marketplace(this.client)}}]),n}(y.Resource);function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function De(t,e){return De=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},De(t,e)}function qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ue(t);if(e){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Ue(t){return Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ue(t)}!function(t){var e=function(t){Ie(n,t);var e=Ae(n);function n(){return Re(this,n),e.apply(this,arguments)}return Ve(n,[{key:"productBatch",value:function(){var t=this.client.clone();t.httpOptions().appendURIPath("products").appendURIPath("$asin");for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new Ee(t).productBatch(n)}}]),n}(y.Resource);t.Marketplace=e}(_e||(_e={}));var Me,Le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&De(t,e)}(i,t);var e,n,r,o=qe(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"marketplace",value:function(t){return this.client.httpOptions().appendURIPath("marketplaces").appendURIPath("$marketplaceId"),new _e(this.client).marketplace(t)}}])&&Be(e.prototype,n),r&&Be(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Resource);function Fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $e=(Fe(Me={},r.title,{getResource:function(t){return t.title},getEntity:function(t){return t.get((function(t){return t.titleV1}))},setValue:function(t,e){t.title=e}}),Fe(Me,r.marketplaceOfferSummary,{getResource:function(t){return t.marketplaceOfferSummary},getEntity:function(t){return t.get((function(t){return t.marketplaceOfferSummaryV2}))},setValue:function(t,e){t.marketplaceOfferSummary=e}}),Fe(Me,r.customerReviewsSummary,{getResource:function(t){return t.customerReviewsSummary},getEntity:function(t){return t.get((function(t){return t.customerReviewsSummaryV1}))},setValue:function(t,e){t.customerReviewsSummary=e}}),Fe(Me,r.energyEfficiency,{getResource:function(t){return t.energyEfficiency},getEntity:function(t){return t.get((function(t){return t.energyEfficiencyV2}))},setValue:function(t,e){t.energyEfficiency=e}}),Fe(Me,r.featureBullets,{getResource:function(t){return t.featureBullets},getEntity:function(t){return t.get((function(t){return t.featureBulletsV1}))},setValue:function(t,e){t.featureBullets=e}}),Fe(Me,r.links,{getResource:function(t){return t.links},getEntity:function(t){return t.get((function(t){return t.linksV2}))},setValue:function(t,e){t.links=e}}),Fe(Me,r.productCategory,{getResource:function(t){return t.productCategory},getEntity:function(t){return t.get((function(t){return t.productCategoryV1}))},setValue:function(t,e){t.productCategory=e}}),Fe(Me,r.productImages,{getResource:function(t){return t.productImages},getEntity:function(t){return t.get((function(t){return t.productImagesV2}))},setValue:function(t,e){t.productImages=e}}),Fe(Me,r.productVideos,{getResource:function(t){return t.productVideos},getEntity:function(t){return t.get((function(t){return t.productVideosV1}))},setValue:function(t,e){t.productVideos=e}}),Fe(Me,r.twisterVariations,{getResource:function(t){return t.twisterVariations},getEntity:function(t){return t.get((function(t){return t.twisterVariationsV2}))},setValue:function(t,e){t.twisterVariations=e}}),Fe(Me,r.buyingOptions_price,{getResource:function(t){return t.price},getEntity:function(t){return t.get((function(t){return t.priceV1}))},setValue:function(t,e){t.price=e}}),Fe(Me,r.buyingOptions_callToAction,{getResource:function(t){return t.callToAction},getEntity:function(t){return t.get((function(t){return t.callToActionV1}))},setValue:function(t,e){t.callToAction=e}}),Fe(Me,r.buyingOptions_availability,{getResource:function(t){return t.availability},getEntity:function(t){return t.get((function(t){return t.availabilityV2}))},setValue:function(t,e){t.availability=e}}),Fe(Me,r.buyingOptions_dealBadge,{getResource:function(t){return t.dealBadge},getEntity:function(t){return t.get((function(t){return t.dealBadgeV1}))},setValue:function(t,e){t.dealBadge=e}}),Fe(Me,r.buyingOptions_dealCustomerStatus,{getResource:function(t){return t.dealCustomerStatus},getEntity:function(t){return t.get((function(t){return t.dealCustomerStatusV1}))},setValue:function(t,e){t.dealCustomerStatus=e}}),Fe(Me,r.buyingOptions_dealDetails,{getResource:function(t){return t.dealDetails},getEntity:function(t){return t.get((function(t){return t.dealDetailsV1}))},setValue:function(t,e){t.dealDetails=e}}),Fe(Me,r.buyingOptions_delivery,{getResource:function(t){return t.delivery},getEntity:function(t){return t.get((function(t){return t.deliveryV1}))},setValue:function(t,e){t.delivery=e}}),Fe(Me,r.buyingOptions_promotionsUnified,{getResource:function(t){return t.promotionsUnified},getEntity:function(t){return t.get((function(t){return t.promotionsUnifiedV1}))},setValue:function(t,e){t.promotionsUnified=e}}),Fe(Me,r.buyingOptions_quantity,{getResource:function(t){return t.quantity},getEntity:function(t){return t.get((function(t){return t.quantityV2}))},setValue:function(t,e){t.quantity=e}}),Fe(Me,r.buyingOptions_customerBenefitSavings,{getResource:function(t){return t.customerBenefitSavings},getEntity:function(t){return t.get((function(t){return t.customerBenefitSavingsV1}))},setValue:function(t,e){t.customerBenefitSavings=e}}),Me);function We(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function ze(t,e){var n=$e[e],r=n.getResource(t);return n.getEntity(r)}function He(t,e,n){$e[e].setValue(t,n)}function Ge(t,e){return e.map((function(e){return e.startsWith("buyingOptions_")?ze(t.buyingOptions,e):ze(t,e)}))}function Je(t,e){return Qe.apply(this,arguments)}function Qe(){var t;return t=regeneratorRuntime.mark((function t(e,n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={asin:e.asin},e.buyingOptions.length>0&&(r.buyingOptions=e.buyingOptions.map((function(t){return{type:t.type}}))),o=n.map((function(t){if(!t.startsWith("buyingOptions_"))return ze(e,t).inlinedOrUndefined().then((function(e){return He(r,t,e)}));var n=e.buyingOptions.map((function(e,n){return ze(e,t).inlinedOrUndefined().then((function(e){He(r.buyingOptions[n],t,e)}))}));return Promise.all(n)})),t.next=5,Promise.all(o);case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})),Qe=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){We(i,r,o,u,c,"next",t)}function c(t){We(i,r,o,u,c,"throw",t)}u(void 0)}))},Qe.apply(this,arguments)}class Ye{static findReferencesInJSON(t){const e=[];return this.findReferences(t,e),e}static findReferences(t,e){if(this.isReferenceObject(t)){let n=t;e.push(n)}for(let n in t)if("object"==typeof t[n])if(Array.isArray(t[n]))for(let r=0;r<t[n].length;r++)this.findReferences(t[n][r],e);else this.findReferences(t[n],e)}static isReferenceObject(t){return"object"==typeof t.resource&&"string"==typeof t.resource.url&&Array.isArray(t.resource.types)}}class Ze{static collectWeblabsFromJson(t,e){const n=new Map,r=new Set;if(this.parseMetadataForWeblabs(t,n,r),0!=r.size){const t=Array.from(r).join("\n");e.warn("Unable to parse "+r.size+" weblabs. Refer below for the exception reasons:\n"+t)}return n}static parseMetadataForWeblabs(t,e,n){Ye.findReferencesInJSON(t).forEach((t=>{let r=this.parseExperimentDataFromMetaData(t,n);if(r){r.split(",").forEach((t=>{const r=t.split(":");if(2!=r.length)return void n.add("Unable to find weblab name and treatment from response: "+t);const o=r[0].trim(),i=r[1].trim();o&&i?e.set(o,i):n.add("Weblab name or treamtent is undefined: "+t)}))}}))}static parseExperimentDataFromMetaData(t,e){if(t.metadata&&"object"==typeof t.metadata&&t.metadata["x-api-exp-data"]){if("string"==typeof t.metadata["x-api-exp-data"])return t.metadata["x-api-exp-data"];e.add('"x-api-exp-data" data in "metadata" object was not of type string')}return null}}class Ke{constructor(t){this.platform=t,this.requestOptionsBuilder=new a}of(t,e=h.API){return this.requestOptionsBuilder.withURIPath(e),new t(this)}async fetch(){const t=Date.now(),e=this.requestOptionsBuilder.build(),n=Date.now()-t,r=Date.now(),o=await this.platform.fetch(e),i=Date.now()-r;this.platform.metrics({values:[{key:"aapi-ts-client/build-request",value:n,unit:"Milliseconds"},{key:"aapi-ts-client/fetch-response",value:i,unit:"Milliseconds"}]}),"function"==typeof this.platform.triggerWeblabs&&this.collectAndTriggerWeblabs(o,this.platform.triggerWeblabs.bind(this.platform));const u=o.headers.get("x-amzn-service-hostname"),c=o.headers.get("x-amz-rid"),a=o.headers.get("date"),s=o.status;return this.platform.logger().info(`Received response code ${s} from AmazonAPI host ${u}, rid ${c} at ${a}`),o}httpOptions(){return this.requestOptionsBuilder}modifyHttpOptions(t){return t(this.httpOptions()),this}setHttpOptions(t){this.requestOptionsBuilder=t}clone(){const t=new Ke(this.platform);return t.setHttpOptions(this.requestOptionsBuilder.clone()),t}logger(){return this.platform.logger()}metrics(t){this.platform.metrics(t)}async collectAndTriggerWeblabs(t,e){t.json().then((t=>{try{const n=Ze.collectWeblabsFromJson(t,this.logger());e(n),this.platform.metrics({values:[{key:"aapi-ts-client/weblabs-parsed",value:n.size,unit:"Count"}]})}catch(t){this.logger().warn(`Encountered exception while triggering weblabs from AmazonAPI response: ${t}`),this.platform.metrics({values:[{key:"aapi-ts-client/weblabs-triggering-error",value:1,unit:"Count"}]})}})).catch((t=>{this.logger().warn(`Encountered exception while parsing AmazonAPI response: ${t}`),this.platform.metrics({values:[{key:"aapi-ts-client/response-json-error",value:1,unit:"Count"}]})}))}}var Xe=n(88382).Z;function tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function en(t,e,n){return e&&tn(t.prototype,e),n&&tn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var nn=en((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.marketplaceId,r=e.platformOptions,o=new Xe(r);this.client=new Ke(o),this.marketplaceId=n}));function rn(t){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(t)}function on(t){return function(t){if(Array.isArray(t))return un(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return un(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cn(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function an(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?an(Object(n),!0).forEach((function(e){fn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ln(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,e){return pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pn(t,e)}function yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function hn(t){return hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hn(t)}var dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pn(t,e)}(a,t);var e,n,r,i,u,c=yn(a);function a(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var e=sn(sn({},t),{},{platformOptions:sn(sn({},t.platformOptions),{},{metricsName:"ProductV2"})});return c.call(this,e)}return e=a,n=[{key:"getProducts",value:(i=regeneratorRuntime.mark((function t(e){var n,r,i,u,c,a,s,f,l,p,y,h,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.asinList,r=e.isCanonical,i=void 0!==r&&r,u=e.selectionContext,c=void 0===u?o.PARENT_TO_BESTLANDING_OR_CHILD_TO_PARENT:u,a=e.inclusions,s=this.client.of(Le).marketplace(this.marketplaceId),f=s.productBatch.apply(s,on(n)),l=i?f.canonicalProduct().get((function(t){return t.productV2})).withSelectionType(c):f.get((function(t){return t.productV2})),t.next=6,l.inline((function(t){return Ge(t,a)})).executeOrReject();case 6:return p=t.sent,t.next=9,p.getSuccessfulEntries();case 9:return y=t.sent,h=y.map((function(t){return Je(t,a)})),t.next=13,Promise.all(h);case 13:return d=t.sent,t.abrupt("return",{products:d});case 15:case"end":return t.stop()}}),t,this)})),u=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function u(t){cn(o,n,r,u,c,"next",t)}function c(t){cn(o,n,r,u,c,"throw",t)}u(void 0)}))},function(t){return u.apply(this,arguments)})}],n&&ln(e.prototype,n),r&&ln(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(nn),bn=dn;n(72416);function vn(t){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(t)}function mn(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function wn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function On(t,e,n){return e&&gn(t.prototype,e),n&&gn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&En(t,e)}function En(t,e){return En=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},En(t,e)}function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sn(t);if(e){var o=Sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Sn(t){return Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sn(t)}var kn=function(t){Pn(n,t);var e=Tn(n);function n(){return wn(this,n),e.apply(this,arguments)}return On(n,[{key:"layout",value:function(t){return this.client.httpOptions().addPathVariable("layout",t),new n.Layout(this.client)}}]),n}(y.Resource);function Rn(t){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(t)}function jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vn(t,e){return Vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vn(t,e)}function In(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nn(t);if(e){var o=Nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Nn(t){return Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nn(t)}!function(t){var e=On((function e(){wn(this,e),this.requestV1=new l((function(e,n){return new t.Layout.PostProductFaceoutRequestProductFaceout(e.modifyHttpOptions((function(t){return t.withAcceptEntityType("experiences.product-ui.faceout/v1").withSendEntityType("experiences.product-ui.faceout.request/v1")})),n)}))}));e.INSTANCE=new e,t.LayoutPostTypes=e;var n=function(t){Pn(r,t);var n=Tn(r);function r(){return wn(this,r),n.apply(this,arguments)}return On(r,[{key:"withProductFaceoutRequest",value:function(t){return this.client.httpOptions().withBody(JSON.stringify(t)),this}},{key:"post",value:function(t){return this.client.httpOptions().withMethod("POST"),t(e.INSTANCE).createRequest(this.client,this.inlinedResponse)}}]),r}(y.Resource);t.Layout=n,function(t){var e=function(t){Pn(o,t);var e,n,r=Tn(o);function o(){return wn(this,o),r.apply(this,arguments)}return On(o,[{key:"parseResponse",value:(e=regeneratorRuntime.mark((function t(e){var n,r,o,u,c,a,s,f,l,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200===e.status){t.next=5;break}return t.next=3,e.json();case 3:return n=t.sent,t.abrupt("return",new i("".concat(e.status," response received from the server."),n));case 5:return(r=this.client.clone()).httpOptions().clear(),t.next=9,e.json();case 9:if(o=t.sent,u=o.entity){t.next=13;break}return t.abrupt("return",new i("Error response received from the server: ".concat(JSON.stringify(o))));case 13:for(c=[],a=0;a<u.assets.length;a+=1)s=se(r,u.assets,a),c.push(s);for(f=[],l=0;l<u.renderedProducts.length;l+=1)p=se(r,u.renderedProducts,l),f.push(p);return t.abrupt("return",{assets:c,renderedProducts:f});case 18:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(t){mn(i,r,o,u,c,"next",t)}function c(t){mn(i,r,o,u,c,"throw",t)}u(void 0)}))},function(t){return n.apply(this,arguments)})}]),o}(y.Resource.Request);t.PostProductFaceoutRequestProductFaceout=e}(n=t.Layout||(t.Layout={}))}(kn||(kn={}));var An=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vn(t,e)}(i,t);var e,n,r,o=In(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"layout",value:function(t){return this.client.httpOptions().appendURIPath("layouts").appendURIPath("$layout"),new kn(this.client).layout(t)}}])&&jn(e.prototype,n),r&&jn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Resource);function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function _n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bn(t,e,n){return e&&xn(t.prototype,e),n&&xn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qn(t,e)}function qn(t,e){return qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qn(t,e)}function Un(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mn(t);if(e){var o=Mn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Mn(t){return Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mn(t)}var Ln=function(t){Dn(n,t);var e=Un(n);function n(){return _n(this,n),e.apply(this,arguments)}return Bn(n,[{key:"marketplace",value:function(t){return this.client.httpOptions().addPathVariable("marketplaceId",t),new n.Marketplace(this.client)}}]),n}(y.Resource);function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}function $n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wn(t,e){return Wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wn(t,e)}function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hn(t);if(e){var o=Hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Hn(t){return Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hn(t)}!function(t){var e=function(t){Dn(n,t);var e=Un(n);function n(){return _n(this,n),e.apply(this,arguments)}return Bn(n,[{key:"productUI",value:function(){return this.client.httpOptions().appendURIPath("product-ui"),new An(this.client)}}]),n}(y.Resource);t.Marketplace=e}(Ln||(Ln={}));var Gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wn(t,e)}(i,t);var e,n,r,o=zn(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"marketplace",value:function(t){return this.client.httpOptions().appendURIPath("marketplaces").appendURIPath("$marketplaceId"),new Ln(this.client).marketplace(t)}}])&&$n(e.prototype,n),r&&$n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Resource);function Jn(t){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(t)}function Qn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,c=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Yn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zn(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function Kn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){Zn(i,r,o,u,c,"next",t)}function c(t){Zn(i,r,o,u,c,"throw",t)}u(void 0)}))}}function Xn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xn(Object(n),!0).forEach((function(e){er(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function er(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rr(t,e){return rr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rr(t,e)}function or(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ir(t);if(e){var o=ir(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Jn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}var ur=function(t){if(!t)return"";var e=t.split("/");return e[e.length-1]},cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rr(t,e)}(u,t);var e,n,r,o,i=or(u);function u(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var e=tr(tr({},t),{},{platformOptions:tr(tr({},t.platformOptions),{},{metricsName:"PUIS"})});return i.call(this,e)}return e=u,n=[{key:"renderAsinFaceOut",value:(o=Kn(regeneratorRuntime.mark((function t(e){var n,r,o,i,u,c,a,s,f,l,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.layout,r=e.productRequest,t.next=3,this.client.of(Gn,"experiences").marketplace(this.marketplaceId).productUI().layout(n).withProductFaceoutRequest(r).post((function(t){return t.requestV1})).executeOrReject();case 3:return o=t.sent,i=o.assets,u=o.renderedProducts,c=i.map((function(t){return t.get((function(t){return t.assetV1})).inlinedOrUndefined()})),a=u.map(function(){var t=Kn(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.get((function(t){return t.productV1})),t.next=3,n.inlinedOrUndefined();case 3:return r=t.sent,o=n.toURLPath(),t.abrupt("return",{entity:r,urlPath:o});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=10,Promise.all([Promise.all(c),Promise.all(a)]);case 10:return s=t.sent,f=Qn(s,2),l=f[0],p=f[1],t.abrupt("return",{assets:l.filter((function(t){return void 0!==t})).map((function(t){return t.html})),products:p.filter((function(t){return void 0!==t.entity})).map((function(t){return{html:t.entity.html,asin:ur(t.urlPath)}}))});case 15:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})}],n&&nr(e.prototype,n),r&&nr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nn),ar=cr},88382:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});n(42955),n(27678),n(19324),n(67237),n(27268),n(13156);var r=n(89553),o=n.n(r);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(t,e){var n="function"==typeof t?t():t;"function"==typeof window.ueLogError?window.ueLogError(n,{logLevel:"ERROR",attribution:"AmazonStoresContentRendering-AmazonAPI:Ajax:Error"}):console.error(t,e)}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(45864),n(21442),n(81892),n(19643),n(76308);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){var e=t||{},n=e.encryptedSlateToken,r=e.aapiCsrfToken,o=e.currency;return function(t){var e={};return n&&(e["x-amzn-encrypted-slate-token"]=n),r&&(e["x-api-csrf-token"]=r),o&&(e["x-cc-currency-of-preference"]=o),t.headers=a(a({},t.headers),e),t}};n(2437),n(35442),n(43452),n(14244),n(8578),n(17135);function l(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function p(){var t;return t=regeneratorRuntime.mark((function t(e,n,r){var o,i,u,c,a,s,f,l,p,y,h,d,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.locale,i=r.baseURL,u=n.path,c=n.options,a=c.method,s=c.body,f=c.acceptHeader,l=c.contentTypeHeader,p={Accept:f,"Accept-Language":o},l&&(p["Content-Type"]=l),t.next=6,e({headers:p,method:a,url:u,data:s});case 6:return y=t.sent,h=y.status,d=y.data,b=y.headers,t.abrupt("return",{headers:new Map(Object.entries(b||{})),status:h,url:"".concat(i).concat(u),json:function(){return Promise.resolve(d)}});case 11:case"end":return t.stop()}}),t)})),p=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){l(i,r,o,u,c,"next",t)}function c(t){l(i,r,o,u,c,"throw",t)}u(void 0)}))},p.apply(this,arguments)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=e.encryptedSlateToken,i=e.aapiCsrfToken,c=e.endpoint,a=e.locale,s=e.requestInterceptors,l=void 0===s?[]:s,p=e.currency;if(!i)throw new Error("aapiCsrfToken is required for AjaxPlatform");this.baseURL="https://".concat(c),this.locale=a,this.axiosInstance=o().create({baseURL:this.baseURL,withCredentials:!0}),l.forEach((function(t){n.axiosInstance.interceptors.request.use(t)})),this.axiosInstance.interceptors.request.use(f({encryptedSlateToken:r,aapiCsrfToken:i,currency:p})),this.csmLogger=new u}var e,n,r;return e=t,n=[{key:"fetch",value:function(t){return function(t,e,n){return p.apply(this,arguments)}(this.axiosInstance,t,{baseURL:this.baseURL,locale:this.locale})}},{key:"logger",value:function(){return this.csmLogger}},{key:"metrics",value:function(t){void 0!==window.ue&&t.values.forEach((function(t){var e=t.key,n=t.value;window.ue.count("AmazonStoresContentRendering-AmazonAPI:".concat(e),n)}))}}],n&&y(e.prototype,n),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),d=h},66952:function(){},16120:function(){}}]);