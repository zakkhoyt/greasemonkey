'use strict';(function(w){var l=window.AmazonUIPageJS||window.P,A=l._namespace||l.attributeErrors,v=A?A("FollowButtonWidgetAssets",""):l;v.guardFatal?v.guardFatal(w)(v,window):v.execute(function(){w(v,window)})})(function(w,l,A){w.when("follow-button-utils","follow-button-events").register("follow-button-tooltip",function(d,f){function m(f,m){d.forEach(h[f]||[],function(d){d.hide(m)})}var h={};return{FollowButtonTooltip:function(m,q,l,t){function b(){f.trigger(a.eventNamespace,"closeClicked");a.hide()}
t=t||{};var a=this,c,k,g;this.findFirstByClass=function(b){return d.getElementsByClassName(b,{parentElement:a.element})[0]};this.show=function(b){if(!g){var c=d.merge({},{delay:500,duration:200},b),n=function(){d.fadeIn(a.element,c)},h=!1;d.forEach(k,function(a){a=a.hide({callback:n});h=h||a});h||n();g=!0}};this.hide=function(b){var c=g;g&&(b=d.merge({},{delay:0,duration:200},b),d.fadeOut(a.element,b),g=!1);return c};(function(){a.element=d.getElementsByClassName(q,{parentElement:m,tag:"div"})[0];
a.body=a.findFirstByClass("pr-fb-tooltip-body");a.eventNamespace=l+"-"+q;c=a.findFirstByClass("pr-fb-tooltip-close");g=!1;if(!a.element||!a.body||!c)throw Error("Error loading tooltip: "+q);k=h[l]||[];h[l]=k;k.push(a);var E=(t.tooltipPosition||"bottom left").split(" "),f=E[1];d.addClass(a.element,"pr-fb-tooltip-"+E[0]);d.addClass(a.element,"pr-fb-tooltip-"+f);c.onclick=b})()},hideAllTooltips:m,hideAllTooltipsForAllButtons:function(d){for(var f in h)h.hasOwnProperty(f)&&m(f,d)},removeTooltips:function(d){delete h[d]}}});
"use strict";w.when("follow-button-utils","follow-button-events","follow-button-metrics","follow-button-tooltip","follow-aapi","follow-horizonte").register("follow-button-v3",function(d,f,m,h,u,q){function r(a){document.body.appendChild(z);for(var b=d.getElementsByClassNames(["amazon-follow-v3"],{tagName:"div"}),c=0;c<b.length;c++)d.hasClass(b[c],"amazon-follow-initialized")||t(b[c],a,c)}function t(a,c,k){try{if(c&&a.classList.contains("amazon-follow-initialized"))throw Error("Attempting to initialize already initialized Follow button");
var g=new b(a,K,c,F,k);v.push(g);g.initialized()&&d.addClass(a,"amazon-follow-initialized")}catch(G){K.logClientError("initializeButton",G.toString()),F.log(G,"FATAL","Error initializing follow button.")}}function b(b,r,t,v,z){function fa(){u.getButton(e.entityId,e.type,e.aapiCsrf,e.language,e.ref,c,function(a,b){if(a)e.isFollowable=!1;else{e.isFollowable=!0;a=b.entity.action;e.signedIn=!a.signIn;e.isFollowing=!a.follow&&e.signedIn;e.signedIn&&(e.actionUrl=e.isFollowing?a.unfollow.resource.url:a.follow.resource.url);
a=b.entity.display;e.isFollowing?n.following=a:n.follow=a;a="ManageYourFollowPage"===e.subPageType;e.showTooltip=!!b.entity.tooltip&&!a;e.seenTooltip=!e.showTooltip;e.suggestionTooltip="show"===e.suggestionTooltip;if(e.showTooltip){(a=b.entity.tooltip)&&a.content&&a.content.fragments&&a.content.fragments[0]&&a.content.fragments[0].headingContent&&a.content.fragments[0].headingContent.content&&(n.introHeader=a.content.fragments[0].headingContent.content.text||"Follow on Amazon");if(a&&a.content&&a.content.fragments&&
a.content.fragments[1]){var c=a.content.fragments[1].text||"Follow to get new release updates, special offers (including promotional offers) and improved recommendations.";if(n.introTooltip)n.introTooltip[e.type]="\x3cp\x3e"+c+"\x3c/p\x3e";else{var k={},d=e.type;c="\x3cp\x3e"+c+"\x3c/p\x3e";d in k?Object.defineProperty(k,d,{value:c,enumerable:!0,configurable:!0,writable:!0}):k[d]=c;n.introTooltip=k}}a&&a.content&&a.content.fragments&&a.content.fragments[2]&&a.content.fragments[2].link&&a.content.fragments[2].link.content&&
(n.learnMore='\x3cp\x3e\x3ca href\x3d"'+(a.content.fragments[2].link.url||"#")+'"\x3e'+(a.content.fragments[2].link.content.text||"Learn More")+"\x3c/a\x3e\x3c/p\x3e");e.viewedTooltipUrl=u.getFollowsAAPIUrlFromRelativeUrl(b.entity.tooltip.viewedEducationalTooltip.resource.url)}L(b,"ViewFavoriteButton")}x.logDuration("total",new Date-S);f.trigger(e.followId,"statusLoaded")})}function M(){var a=q.FOLLOW_SERVICE_URL_V2+"follow/"+e.followId,b={logger:x.child("button"),successCallback:function(a){d.merge(e,
{csrf:a.csrf,isFollowing:a.isFollowing,isFollowable:a.isFollowable,onboardingRequired:a.onboardingRequired,signedIn:a.signedIn,seenTooltip:a.seenTooltip,showTooltip:"show"===e.tooltip||!e.tooltip&&!a.seenTooltip,showSuggestionTooltip:"show"===e.suggestionTooltip,logMetrics:a.logMetrics});x.logDuration("total",new Date-S);f.trigger(e.followId,"statusLoaded")}},c={include:[]};e.ref&&(c.ref=e.ref);e.tooltip||c.include.push("seenTooltip");c.ts=Date.now();a=d.createUrl(a,c);q.ajaxGetJson(a,b)}function ha(){var b=
e.language.replace("-","_"),c={cors:!0,logger:x.child("strings"),successCallback:function(c){c=c[b];var k=d.merge({},da,{nodeId:P[e.marketplaceId]||P.ATVPDKIKX0DER});e.suggestionTooltipText=e.suggestionTooltipText?e.suggestionTooltipText:c.follow_button_follow_suggestion;a||(n.follow=c.follow_button_follow,n.following=c.follow_button_following,n.learnMore='\x3cp\x3e\x3ca href\x3d"'+d.createUrl(w,k)+'"\x3e'+c.follow_button_learn_more+"\x3c/a\x3e\x3c/p\x3e",n.introHeader=c.follow_button_follow_on_amazon,
n.introTooltip={author:"\x3cp\x3e"+c.follow_button_intro_author+"\x3c/p\x3e",customer:"\x3cp\x3e"+c.follow_button_intro_customer+"\x3c/p\x3e",interest:"\x3cp\x3e"+c.follow_button_intro_interest+"\x3c/p\x3e",brand:"\x3cp\x3e"+c.follow_button_intro_brand+"\x3c/p\x3e",collection:"\x3cp\x3e"+c.follow_button_intro_collection+"\x3c/p\x3e"});n.onboard="\x3cp\x3e"+c.follow_button_onboarding+'\x3c/p\x3e\x3cp class\x3d"pr-fb-action"\x3e\x3ca href\x3d"/gp/profile/onboard?r\x3d{0}\x26ref\x3dfb_pr_onb"\x3e'+c.follow_button_complete_my_profile+
"\x3c/a\x3e\x3c/p\x3e";n.error={UNKNOWN:'\x3cp class\x3d"pr-fb-error"\x3e'+c.follow_button_error_unknown+"\x3c/p\x3e",SELF_FOLLOW_FORBIDDEN:"\x3cp\x3e"+c.follow_button_error_self_follow+"\x3c/p\x3e",PROFILE_REQUIRED:n.onBoard};n.suggestionHeader=c.follow_button_followed;n.seeMore=c.follow_button_see_more_recommendations;n.recsTooltip={author:c.follow_button_recs_tooltip_header_author,brand:c.follow_button_recs_tooltip_header_brand};f.trigger(e.followId,"stringsLoaded")}};q.getStrings(c)}function G(){if(e.isFollowable){x.dispatcher()&&
x.dispatcher().setEnabled(!0);d.removeClass(b,"pr-fb-unfollowable");p.onclick=Q;D(e.isFollowing);f.on(e.followId,"loaded",!0,e.onload);f.on(e.followId,"addFollow",!1,e.onadd);f.on(e.followId,"addFollowCompleted",!1,e.onaddcompleted);f.on(e.followId,"removeFollow",!1,e.onremove);f.on(e.followId,"removeFollowCompleted",!1,e.onremovecompleted);F();var c=null;ea()?a?e.isFollowing?T():U():V():function(){var a=z===k;c=function(){e.showTooltip&&a&&y.show()}}();d.fadeIn(p,{duration:e.fadeDuration,callback:c});
f.trigger(e.followId,"loaded",e)}else k++}function ea(){var a=encodeURIComponent(e.followId);if(W!==a||"undefined"===typeof sessionStorage)return!1;var c=sessionStorage.automaticProcessEntityId;sessionStorage.removeItem("automaticProcessEntityId");return c===a}function Q(){try{if(e.signedIn)if(e.isFollowing)if(a)T();else{var c={authenticity_token:encodeURIComponent(e.csrf),ref:e.ref||"",page_type:e.pageType,subpage_type:e.subPageType,experience_type:e.experienceType},b=q.FOLLOW_SERVICE_URL_V2+"follow/"+
e.followId+d.Uri.paramsToString(c);ia(b.toString())}else a?U():V();else N()}catch(R){K.logClientError("clickButton",R.toString()),v.log(R,"FATAL","Error clicking on follow button.")}}function N(){var a=d.formatString("{0}\x3d{1}","entity-to-process",e.followId);a=d.formatString("https://{0}{1}{2}",l.location.hostname,l.location.pathname,(l.location.search?l.location.search+"\x26":"?")+a);"undefined"!==typeof sessionStorage&&(sessionStorage.automaticProcessEntityId=encodeURIComponent(e.followId));
d.redirect_to_login(a)}function F(){var c=y.findFirstByClass("pr-fb-intro-text"),b=y.findFirstByClass("pr-fb-intro-header");e.showTooltip&&(c.innerHTML=n.introTooltip[e.type]+n.learnMore,b.innerHTML=n.introHeader);if(a)f.on(y.eventNamespace,"closeClicked",!0,X);else f.on(y.eventNamespace,"closeClicked",!0,Y);b=l.location.search.slice(1);c=H.findFirstByClass("pr-fb-onboard-text");b=encodeURIComponent(d.formatString("{0}?{1}\x3d{2}\x26message\x3donboarding_complete\x26{3}",l.location.pathname,"entity-to-process",
e.followId,b));c.innerHTML=d.formatString(n.onboard,b);b=d.Uri.parseUri(g);b.queryParams.ref||(b.queryParams.ref=e.ref?d.formatString("{0}_{1}","fb_recs_tt",e.ref):"fb_recs_tt");B.findFirstByClass("pr-fb-suggestion-header").innerHTML=n.recsTooltip[e.type];c=document.createElement("a");c.className="pr-fb-tooltip-see-more";c.href=b.toString();c.innerHTML=n.seeMore;b=B.findFirstByClass("pr-fb-suggestion-text");b.innerHTML="";b.appendChild(c)}function O(){var a={logger:x.child("recommendations"),successCallback:function(a){var c=
B.findFirstByClass("pr-fb-suggestion-list");c.innerHTML="";a.results[0]&&a.results[0].recommendations&&d.forEach(a.results[0].recommendations,function(a){c.appendChild(ja(a))});h.initialize();f.trigger(e.followId,"recommendationsLoaded")}};q.getRecommendations(e.type,e.entityId,a)}function ja(a){var c=d.Uri.parseUri(a.entity_data.url);c.queryParams.ref||(c.queryParams.ref=e.ref?d.formatString("{0}_{1}","fb_recs_tt",e.ref):"fb_recs_tt");var b=document.createElement("div");b.className="pr-fb-recs-tooltip-row";
var k=document.createElement("a");k.className="pr-fb-recs-tooltip-image-link";k.href=c.toString();b.appendChild(k);var g=document.createElement("div");g.className="pr-fb-recs-tooltip-image";g.style.backgroundImage=d.formatString("url({0})",a.entity_data.image_url);k.appendChild(g);g=document.createElement("div");g.className="pr-fb-recs-tooltip-details-column";b.appendChild(g);k=document.createElement("div");k.className="pr-fb-recs-tooltip-details";g.appendChild(k);g=document.createElement("a");g.className=
"pr-fb-recs-tooltip-link";g.href=c.toString();g.innerHTML=a.entity_data.name;k.appendChild(g);c=document.createElement("span");c.className="pr-fb-recs-tooltip-popular-items";k.appendChild(c);c.innerHTML=a.entity_data.data.map(function(a){return a.name}).join(", ");c=document.createElement("div");c.className="pr-fb-recs-tooltip-button-column";b.appendChild(c);k=document.createElement("div");k.className="amazon-follow-v3";k.setAttribute("data-size","small");k.setAttribute("data-suggestion-tooltip",
"hide");k.setAttribute("data-entity-id",a.entity_id);k.setAttribute("data-type",a.entity_type);k.setAttribute("data-language",e.language);k.setAttribute("data-ref",e.ref?d.formatString("{0}_{1}","fb_recs_tt",e.ref):"fb_recs_tt");c.appendChild(k);return b}function Y(){e.showTooltip&&!e.seenTooltip&&e.signedIn&&(e.seenTooltip=!0,q.setViewedTooltip({requestType:"POST",dataType:"json",contentType:"application/json; charset\x3dutf-8",data:JSON.stringify({authenticity_token:e.csrf,category:e.type,entity_id:e.entityId}),
logger:x.child("viewed_tooltip")}))}function X(){e.showTooltip&&!e.seenTooltip&&e.signedIn&&(e.seenTooltip=!0,u.viewedEducationalTooltip(e.viewedTooltipUrl,e.aapiCsrf,e.language,c,function(a,c){a&&console.log("Error calling ViewedEducationalTooltipAAPI")}))}function I(a){"PROFILE_REQUIRED"===a?H.show():(a=n.error[a]||n.error.UNKNOWN,J.findFirstByClass("pr-fb-error-text").innerHTML=a,J.show())}function U(){d.hasClass(p,"pr-fb-pending")||(d.addClass(p,"pr-fb-pending"),u.follow(e.actionUrl,e.aapiCsrf,
e.language,e.ref,c,function(a,c){a?("show"===e.errorTooltip&&I(),d.removeClass(p,"pr-fb-pending")):c.entity.unfollowButton.action.signIn?N():(f.trigger(e.followId,"addFollowCompleted",e),h.hideAllTooltips(e.followId),n.following=c.entity.unfollowButton.display,d.removeClass(p,"pr-fb-not-following"),d.addClass(p,"pr-fb-following"),p.setAttribute("aria-label",n.following),C.innerHTML=n.following,e.isFollowing=!0,L(c,"AddFavorite"))}),d.removeClass(p,"pr-fb-pending"),f.trigger(e.followId,"addFollow",
e),X())}function V(){var a=q.FOLLOW_SERVICE_URL_V2+"follow/",c={authenticity_token:e.csrf,entity_id:e.entityId,category:e.type,ref:e.ref||"",page_type:e.pageType,subpage_type:e.subPageType,experience_type:e.experienceType};Y();ka(a.toString(),c)}function T(){d.hasClass(p,"pr-fb-pending")||(d.addClass(p,"pr-fb-pending"),u.unfollow(e.actionUrl,e.aapiCsrf,e.language,e.ref,c,function(a,c){a?("show"===e.errorTooltip&&I(a),d.removeClass(p,"pr-fb-pending")):c.entity.followButton.action.signIn?N():(f.trigger(e.followId,
"removeFollowCompleted",e),h.hideAllTooltips(e.followId),n.follow=c.entity.followButton.display,d.removeClass(p,"pr-fb-following"),d.addClass(p,"pr-fb-not-following"),p.setAttribute("aria-label",n.follow),C.innerHTML=n.follow,e.isFollowing=!1,L(c,"RemoveFavorite"))}),d.removeClass(p,"pr-fb-pending"),f.trigger(e.followId,"removeFollow",e))}function L(a,c){e.loggedToNexus=!1;var b;a.metadata&&(b=a.metadata["x-amzn-metrics-id"]);"undefined"!==typeof l.csa&&b&&(l.csa("Events",{producerId:"follow_button"})("log",
{schemaId:"PIM.FollowEventInt.1",metricId:b,reftag:e.ref,eventType:c,entityId:e.entityId,entityType:e.type}),e.loggedToNexus=!0)}function ka(a,c){d.hasClass(p,"pr-fb-pending")||(d.addClass(p,"pr-fb-pending"),q.ajax(a,{requestType:"POST",data:JSON.stringify(c),dataType:"json",contentType:"application/json; charset\x3dutf-8",successCallback:function(){f.trigger(e.followId,"addFollowCompleted",e);e.showSuggestionTooltip?(h.hideAllTooltipsForAllButtons(),f.on(e.followId,"recommendationsLoaded",!0,function(){B.show()}),
O()):h.hideAllTooltips(e.followId)},failureCallback:function(a){D(!1);"show"===e.errorTooltip&&I(a.responseText)},completeCallback:function(){d.removeClass(p,"pr-fb-pending")},logger:x.child("add")}),D(!0),f.trigger(e.followId,"addFollow",e))}function ia(a){d.hasClass(p,"pr-fb-pending")||(d.addClass(p,"pr-fb-pending"),q.ajax(a,{requestType:"DELETE",successCallback:function(){f.trigger(e.followId,"removeFollowCompleted",e);h.hideAllTooltips(e.followId)},failureCallback:function(a){D(!0);"show"===e.errorTooltip&&
I(a.responseText)},completeCallback:function(){d.removeClass(p,"pr-fb-pending")},logger:x.child("remove")}),D(!1),f.trigger(e.followId,"removeFollow",e))}function D(a){d.removeClass(p,a?"pr-fb-not-following":"pr-fb-following");d.addClass(p,a?"pr-fb-following":"pr-fb-not-following");p.setAttribute("aria-label",a?n.following:n.follow);C.innerHTML=a?n.following:n.follow;e.isFollowing=a}r=r||m.noop;var e=d.merge({},ca),p,Z,aa,C,y,B,J,H,S=new Date,x=m.noop,ba=!1;this.element=b;this.id=function(){return e.followId};
this.isFollowing=function(){return e.isFollowing};this.loggedToNexus=function(){return e.loggedToNexus};this.isSignedIn=function(){return e.signedIn};this.introTooltip=function(){return y};this.showTooltip=function(a){y.show(a)};this.hideTooltip=function(a){y.hide(a)};this.initialized=function(){return ba};this.click=Q;(function(){var k=d.dataValues(b,E);d.merge(e,k);"undefined"===typeof e.entityId&&(e.entityId=e.asin);"undefined"===typeof e.type&&(e.type=e.category);x=r.child("follow_button",e.ref);
if(!e.entityId||!e.type)throw Error("A type and an entity id must be provided");e.followId=d.formatString("{0}_{1}",e.entityId,e.type);e.marketplaceId=d.marketplaceFromHostname(l.location.hostname);if(!t||"false"!==e.initialize||W===e.followId){f.on(e.followId,["htmlLoaded","statusLoaded","stringsLoaded"],!0,G);d.addClass(b,"pr-fb-unfollowable");d.detectIE()&&d.addClass(b,"pr-fb-ie"+d.detectIE());b.insertAdjacentHTML("afterbegin","\n          \x3cdiv class\x3d'pr-fb-container' style\x3d'display: none;'\x3e\n            \x3cbutton class\x3d'pr-fb' style\x3d'opacity:0;'\x3e\n              \x3cspan class\x3d'pr-fb-inner'\x3e\n                \x3cspan class\x3d'pr-fb-button'\x3e  \n                  \x3cspan class\x3d'pr-fb-icon' aria-hidden\x3d'true'\x3e\x3c/span\x3e\n                  \x3cspan class\x3d'pr-fb-text'\x3e\n                    $BUTTON_TEXT$\n                  \x3c/span\x3e\n                \x3c/span\x3e\n              \x3c/span\x3e\n            \x3c/button\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d'pr-fb-intro-tooltip' style\x3d'display:none;'\x3e\n            \x3cdiv class\x3d'pr-fb-tooltip-close'\x3e\n              \x3cdiv class\x3d'pr-fb-tooltip-close-icon'\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d'pr-fb-tooltip-body'\x3e\n              \x3cdiv class\x3d'pr-fb-intro-header'\x3e\n                $INTRO_HEADER$\n              \x3c/div\x3e\n              \x3cspan class\x3d'pr-fb-intro-text'\x3e\n                $INTRO_TOOLTIP_TEXT$\n              \x3c/span\x3e\n            \x3c/div\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d'pr-fb-suggestion-tooltip' style\x3d'display:none;'\x3e\n            \x3cdiv class\x3d'pr-fb-tooltip-close'\x3e\n              \x3cdiv class\x3d'pr-fb-tooltip-close-icon'\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d'pr-fb-tooltip-body'\x3e\n              \x3cdiv class\x3d'pr-fb-suggestion-header'\x3e\n                $SUGGESTION_HEADER$\n              \x3c/div\x3e\n              \x3cdiv class\x3d'pr-fb-suggestion-list'\x3e\x3c/div\x3e\n              \x3cspan class\x3d'pr-fb-suggestion-text'\x3e\n                $SUGGESTION_TOOLTIP_TEXT$\n              \x3c/span\x3e\n            \x3c/div\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d'pr-fb-error-tooltip' style\x3d'display:none;'\x3e\n            \x3cdiv class\x3d'pr-fb-tooltip-close'\x3e\n              \x3cdiv class\x3d'pr-fb-tooltip-close-icon'\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d'pr-fb-tooltip-body'\x3e\n              \x3cspan class\x3d'pr-fb-error-text'\x3e\n                $ERROR_TEXT$\n              \x3c/span\x3e\n            \x3c/div\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d'pr-fb-onboard-tooltip' style\x3d'display:none;'\x3e\n            \x3cdiv class\x3d'pr-fb-tooltip-close'\x3e\n              \x3cdiv class\x3d'pr-fb-tooltip-close-icon'\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d'pr-fb-tooltip-body'\x3e\n              \x3cspan class\x3d'pr-fb-onboard-text'\x3e\n                $ONBOARD_TEXT$\n              \x3c/span\x3e\n            \x3c/div\x3e\n          \x3c/div\x3e\n        ");
b.getElementsByTagName("span");p=b.querySelector(".pr-fb");Z=b.querySelector(".pr-fb-icon");aa=b.querySelector(".pr-fb-button");C=b.querySelector(".pr-fb-text");e.fontFamily&&(C.style.fontFamily=e.fontFamily);h.removeTooltips(e.followId);y=new h.FollowButtonTooltip(b,"pr-fb-intro-tooltip",e.followId,e);B=new h.FollowButtonTooltip(b,"pr-fb-suggestion-tooltip",e.followId,e);J=new h.FollowButtonTooltip(b,"pr-fb-error-tooltip",e.followId,e);H=new h.FollowButtonTooltip(b,"pr-fb-onboard-tooltip",e.followId,
e);if(!(p&&Z&&aa&&C&&y&&B&&J&&H))throw Error("Error loading the follow button");d.hasTouchEvents()?d.addClass(b,"pr-fb-mobile"):d.addClass(p,"pr-fb-no-touch");d.addClass(b,"pr-fb-"+e.size);e.color&&d.addClass(p,"pr-fb-"+e.color);f.trigger(e.followId,"htmlLoaded");x.child("html");a=!!e.aapiCsrf;c=(k=document.querySelector('meta[name\x3d"encrypted-slate-token"]'))?k.content:A;e.language||(e.language=a?u.DEFAULT_LANGUAGE:"en_US");ha();a?fa():M();ba=!0}})(t);return this}var a=!0,c=void 0,k=0,g=d.AMAZON_URL+
"/gp/profile/follow/recommendations",E="size font-family language asin entity-id category type tooltip tooltip-position error-tooltip onload onadd onaddcompleted onremove onremovecompleted ref color suggestion-tooltip suggestion-tooltip-text suggestion-tooltip-url fade-duration initialize page-type sub-page-type experience-type aapi-csrf".split(" "),ca={size:"base",tooltipPosition:"bottom left",onload:null,onadd:null,onaddcompleted:null,onremove:null,onremovecompleted:null,errorTooltip:"show",suggestionTooltip:"false",
suggestionTooltipText:null,suggestionTooltipUrl:d.AMAZON_URL+"/gp/profile/author_suggestions",fadeDuration:d.DEFAULT_FADE_DURATION,initialize:!0,pageType:"",subPageType:"",experienceType:"",aapiCsrf:""},n={},P={US_MARKETPLACE_ID:201813230,A2EUQ1WTGCTBG2:"GTM44YV8NNGGBZUS",A2Q3Y263D00KWC:201996080,A1AM78C64UM0Y8:201996080,A1F83G8C2ARO7P:202042520,A1PA6795UKMFR9:202060640,A13V1IB3VIYZZH:202060860,A21TJRUUN4KGV:202060600,A1RKKUPIHCS9HS:201996080,APJ6JRA9NG5V4:201996080,A1805IZSGTT6HS:"GE8UAMJNYWDH4SBM",
A1VC38T7YXB528:201996080,A39IBJ37TRP1C6:201996080},da={ref:"fb_lrn"},w=d.AMAZON_URL+"/gp/help/customer/display.html",v=[],O=new m.MetricsLogDispatcher({enabled:!1}),K=new m.MetricsLogger(O),F=new m.CSMLogger,z=document.createElement("img");z.src="https://m.media-amazon.com/images/G/01/follow/follow_button_sprite.png";z.style.position="absolute";z.style.width="1px";z.style.height="1px";z.style.top="-1000px";z.style.left="-1000px";var W=d.queryStringValue("entity-to-process");d.documentReady(r,l,!0);
return{initialize:r,all:function(){return v},initializeButton:t,reInitializeButton:function(a,c,b){for(v=v.filter(function(b){var k=d.dataValue(b.element,"entity-id");b=d.dataValue(b.element,"type");return d.formatString("{0}_{1}",k,b)!==d.formatString("{0}_{1}",c,a)});b.hasChildNodes();)b.removeChild(b.firstChild);t(b,!1)},find:function(a,c){for(var b=0;b<v.length;b++)if(v[b].id()===d.formatString("{0}_{1}",c,a))return v[b];return null}}});"use strict";w.when("follow-button-utils").register("follow-button-events",
function(d){var f=[];return{trigger:function(m,h){for(var u=f[m]||[],q=Array.prototype.slice.call(arguments,2),r=u.length-1;0<=r;r--){for(var t=!0,b=u[r],a=b.events.length-1;0<=a;a--)b.events[a]===h&&b.fireOnce?u[r].events.splice(a,1):b.events[a]!==h&&(t=!1);t&&(t=[b.callback,l].concat(q),b.fireOnce&&u.splice(r,1),d.executeFunction.apply(this,t))}},off:function(m,h){m=f[m]||[];"string"===typeof h&&(h=[h]);for(var l=m.length-1;0<=l;l--)d.arrayEquals(m[l].events,h)&&m.splice(l,1)},on:function(d,h,l,
q){q&&("string"===typeof h?h=[h]:l||(console.warn("Cannot use fireOnce: false with multiple events"),l=!0),f[d]||(f[d]=[]),f[d].push({events:h,fireOnce:l,callback:q}))}}});"use strict";w.when("follow-button-utils","follow-horizonte").register("follow-button-metrics",function(d,f){function m(d,f,q,r){var h=this,b={},a=function(){for(var a=[],b=0;b<arguments.length;b++)arguments[b]&&a.push(arguments[b]);return a.join(".")};this.namespace=function(){return q?a(q.namespace(),f):f};this.child=function(c,
k){r=k||r;k=a(c,r);b[k]||(b[k]=new m(d,c,h,r));return b[k]};this.logDuration=function(c,b,g){d&&(c={name:a(this.namespace(),c,"time"),duration:b,ref:r},g&&(c.error=g),d.logMetric(c))};this.logClientError=function(c,b){d&&(c={name:a(this.namespace(),c,"client_error"),ref:r,error:{status:null,responseText:b,readyState:null,userAgent:l.navigator.userAgent}},d.logMetric(c))};this.dispatcher=function(){return d}}return{MetricsLogDispatcher:function(d){d=d||{};var l=this,h=[],m,t=d.delay||1500,b=!1!==d.enabled,
a=function(){b&&0!==h.length&&(m&&clearTimeout(m),m=setTimeout(function(){l.sendMetrics()},t))};this.sendMetrics=function(){0!==h.length&&(f.logMetrics({requestType:"POST",contentType:f.CONTENT_TYPE_JSON,data:{metrics:h}}),h=[])};this.logMetric=function(c){h.push(c);a()};this.setEnabled=function(c){b!==c&&((b=c)?a():m&&clearTimeout(m))}},MetricsLogger:m,CSMLogger:function(){this.log=function(d,f,m){l.ueLogError&&l.ueLogError(d,{logLevel:f,attribution:"follow_button_v3",message:m})}},noop:new m}});
"use strict";var v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};w.register("follow-button-utils",function(){function d(b){return Array.isArray?Array.isArray(b):"[object Array]"===Object.prototype.toString.call(b)}function f(b,a,c){var k,g;if(Array.prototype.forEach)b.forEach(a,c);else{if(!b)throw new TypeError(" array is null or not defined");
if(!d(b))throw new TypeError(" array is not an array");var f=Object(b),h=f.length>>>0;if("function"!==typeof a)throw new TypeError(a+" is not a function");2<arguments.length&&(k=c);for(g=0;g<h;){if(g in f){var n=f[g];a.call(k,n,g,f)}g++}}}function m(b){var a=this;this.parseUri=function(c){var b=m.parsingOptions;c=b.parser[b.strictMode?"strict":"loose"].exec(c);for(var d=14;d--;)a[b.key[d]]=c[d]||"";a[b.q.name]={};a[b.key[12]].replace(b.q.parser,function(c,d,k){d&&(a[b.q.name][d]=k)});return a};this.toString=
function(){var a="";this.protocol?a+=this.protocol+"://":this.authority&&(a+="//");return a+this.authority+this.path+m.paramsToString(this.queryParams)+(this.anchor?"#"+this.anchor:"")};this.parseUri(b);return this}var h=l.location.protocol+"//"+l.location.hostname+(l.location.port?":"+l.location.port:""),u=h+"/ap/signin",q=/^(?:(?:(?:(\w\w)-)?pre-prod)|(?:.+))\.amazon.(?:(\w\w)|(com)|(?:co\.(?:(\w\w)))|(?:com\.(?:(\w\w))))?$/,r={au:"A39IBJ37TRP1C6",br:"A2Q3Y263D00KWC",ca:"A2EUQ1WTGCTBG2",cn:"AAHKV2X7AFYLW",
de:"A1PA6795UKMFR9",es:"A1RKKUPIHCS9HS",fr:"A13V1IB3VIYZZH","in":"A21TJRUUN4KGV",it:"APJ6JRA9NG5V4",tr:"A33AVAJ2PDY3EV",jp:"A1VC38T7YXB528",mx:"A1AM78C64UM0Y8",nl:"A1805IZSGTT6HS",ru:"AD2EMQ3L3PG8S",uk:"A1F83G8C2ARO7P",com:"ATVPDKIKX0DER"},t={A39IBJ37TRP1C6:"auflex",A2Q3Y263D00KWC:"brflex",A2EUQ1WTGCTBG2:"caflex",AAHKV2X7AFYLW:"cnflex",A1PA6795UKMFR9:"deflex",A1RKKUPIHCS9HS:"esflex",A13V1IB3VIYZZH:"frflex",A21TJRUUN4KGV:"inflex",APJ6JRA9NG5V4:"itflex",A33AVAJ2PDY3EV:"trflex",A1VC38T7YXB528:"jpflex",
A1AM78C64UM0Y8:"mxflex",A1805IZSGTT6HS:"nlflex",AD2EMQ3L3PG8S:"ruflex",A1F83G8C2ARO7P:"gbflex",ATVPDKIKX0DER:"usflex"};m.parsingOptions={strictMode:!1,key:"source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),q:{name:"queryParams",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
m.parseUri=function(b){return new m(b)};m.paramsToString=function(b){function a(a,b){return function(c){a.push(b+"[]\x3d"+c)}}var c=[];if(!b)return"";for(var k in b)if(b.hasOwnProperty(k)){var g=b[k];d(g)?f(g,a(c,k)):c.push(k+(g?"\x3d"+b[k]:""))}return 0<c.length?"?"+c.join("\x26"):""};return{AMAZON_URL:h,DEFAULT_FADE_DURATION:400,DEVO_STAGE:"DEVO",PRE_PROD_STAGE:"PRE_PROD",PROD_STAGE:"PROD",TREATMENT_C:"C",TREATMENT_T1:"T1",arrayEquals:function(b,a){if(!(b&&a&&this.isArray(b)&&this.isArray(a))||
b.length!==a.length)return!1;for(var c=0;c<b.length;c++)if(b[c]instanceof Array&&a[c]instanceof Array&&!this.arrayEquals(b[c],a[c])||!(b[c]instanceof Array&&a[c]instanceof Array)&&b[c]!==a[c])return!1;return!0},camelize:function(b){return b.replace(/^([A-Z])|[\s-_](\w)/g,function(a,b,d,g){return d?d.toUpperCase():b.toLowerCase()})},createUrl:function(b,a){return(a=this.formEncodeData(a))?b+"?"+a:b},dataValue:function(b,a){return this.getAttribute(b,"data-"+a,null)},dataValues:function(b,a,c){var d=
{};c=c||{};var g=c.prefix||"";c=c.camelize!==A?c.camelize:!0;for(var f=0;f<a.length;f++){var h=a[f],n=c?this.camelize(h):h;(h=this.dataValue(b,g+h))&&(d[n]=h)}return d},detectIE:function(){var b=l.navigator.userAgent,a=b.indexOf("MSIE ");if(0<a)return parseInt(b.substring(a+5,b.indexOf(".",a)),10);if(0<b.indexOf("Trident/"))return a=b.indexOf("rv:"),parseInt(b.substring(a+3,b.indexOf(".",a)),10);a=b.indexOf("Edge/");return 0<a?parseInt(b.substring(a+5,b.indexOf(".",a)),10):!1},documentReady:function(b,
a){var c=this,d=Array.prototype.slice.call(arguments,2),g=[b,a].concat(d),f=setInterval(function(){if("complete"===document.readyState||"interactive"===document.readyState)clearInterval(f),c.executeFunction.apply(a,g)},20)},executeFunction:function(b,a){if(b){var c="function"===typeof b,d=Array.prototype.slice.call(arguments,2);if(c)b.apply(this,d);else{c=b.split(".");for(var g=c.pop(),f=0;f<c.length;f++)a=a[c[f]];return a[g].apply(a,d)}}},fadeIn:function(b,a){a=this.merge({},{finalOpacity:1},a);
this.fadeTo(b,a)},fadeOut:function(b,a){a=this.merge({},{finalOpacity:0},a);this.fadeTo(b,a)},fadeTo:function(b,a){a=this.merge({},{duration:400,tickLength:50,delay:0,callback:function(){}},a);var c=Number(b.style.opacity||0),d=a.finalOpacity>c,g=(a.finalOpacity-c)/(a.duration/a.tickLength),f=!1;setTimeout(function(){var k=setInterval(function(){c+=g;if(c>=a.finalOpacity&&d||c<=a.finalOpacity&&!d)c=a.finalOpacity,f=!0,clearInterval(k),a.callback&&a.callback(),d||0!==a.finalOpacity||(b.style.display=
"none");b.style.opacity=c;f||(b.style.display="block")},a.tickLength)},a.delay)},forEach:f,formEncodeData:function(b,a){var c=[],d;for(d in b)if(b.hasOwnProperty(d)){var g=d,f=b[d];a&&(g=a+"["+(this.isArray(b)?"":d)+"]");"object"===("undefined"===typeof f?"undefined":v(f))?c.push(this.formEncodeData(f,g)):c.push(encodeURIComponent(g)+"\x3d"+encodeURIComponent(f))}return c.join("\x26")},formatString:function(){var b=arguments[0],a=Array.prototype.slice.call(arguments,1);if(!b)throw Error("An input string must be provided as the first argument");
return b.replace(/{(\d+)}/g,function(c,d){c=parseInt(d);if(c>=a.length)throw Error("No placeholder "+c+" in text "+b);return a[c]})},getElementsByClassName:function(b,a){a=a||{};var c=a.parentElement||document.body;a=a.tagName||"*";if(document.getElementsByClassName)return c.getElementsByClassName(b);c=c.getElementsByTagName(a);b=new RegExp("(^|\\s)"+b+"(\\s|$)");a=[];for(var d=0;d<c.length;d++){var g=c[d];b.test(g.className)&&a.push(g)}return a},getElementsByClassNames:function(b,a){a=a||{};for(var c=
[],d=0;d<b.length;d++)for(var g=this.getElementsByClassName(b[d],a),f=0;f<g.length;f++)c[c.length]=g[f];return c},getAttribute:function(b,a,c){c=c||null;return b.hasAttribute?b.hasAttribute(a)?b.getAttribute(a):c:b.getAttribute(a)},hasTouchEvents:function(){return"ontouchstart"in l},inWeblab:function(b,a,c){return b[a]===(c||"T1")},isArray:d,marketplaceFromHostname:function(b){b=b.match(q);if(!b)return"ATVPDKIKX0DER";for(var a=1;a<b.length;a++)if(b[a]!==A)return r[b[a]];return"ATVPDKIKX0DER"},getStageFromHostname:function(b){return b?
this.stringIncludes(b,"development")?this.DEVO_STAGE:this.stringIncludes(b,"pre-prod")?this.PRE_PROD_STAGE:this.PROD_STAGE:this.PROD_STAGE},stringIncludes:function(b,a){return-1!==b.indexOf(a)},merge:function(){for(var b=arguments[0]||{},a=arguments.length,c=1;c<a;c++){var d=arguments[c],g;for(g in d)d.hasOwnProperty(g)&&(b[g]=d[g])}return b},parseUrl:function(b){return{}},queryStringValue:function(b){return(b=(new RegExp(b+"\x3d([^#\x26]+)")).exec(l.location.search))&&2===b.length?b[1]:A},redirect_to_login:function(b){var a=
this.marketplaceFromHostname(l.location.hostname),c=u.replace(/^https?:\/\//,"https://");b=this.formatString("{0}?openid.assoc_handle\x3d{1}\x26openid.claimed_id\x3d{2}\x26openid.identity\x3d{2}\x26openid.mode\x3dcheckid_setup\x26openid.ns\x3d{3}\x26openid.ns.pape\x3d{4}\x26openid.pape.max_auth_age\x3d0\x26openid.return_to\x3d{5}",c,t[a],encodeURIComponent("http://specs.openid.net/auth/2.0/identifier_select"),encodeURIComponent("http://specs.openid.net/auth/2.0"),encodeURIComponent("http://specs.openid.net/extensions/pape/1.0"),
encodeURIComponent(b));l.location.href=b},show:function(b){b.style.display="block"},hide:function(b){b.style.display="none"},addClass:function(b,a){b.className=b.className+" "+a},removeClass:function(b,a){for(var c=b.className.split(/\s+/),d=c.length;d--;)c[d]===a&&c.splice(d,1);b.className=c.join(" ")},hasClass:function(b,a){b=b.className.split(/\s+/);for(var c=b.length;c--;)if(b[c]===a)return!0;return!1},Uri:m}});"use strict";w.when("A","follow-button-utils","aapi-config").register("follow-aapi",
function(d,f,m){function h(a,b){var c=m.marketplaceConfig[a]&&m.marketplaceConfig[a][b]?m.marketplaceConfig[a][b].ajaxEndpoint:null;if(!c)throw Error("No endpoint configured for marketplaceId "+b+" in "+a+" stage.");return c}function u(a){var b=m.marketplaceConfig[f.PROD_STAGE][a]?m.marketplaceConfig[f.PROD_STAGE][a].defaultLanguage:null;if(!b)throw Error("No language configured for marketplaceId "+a+".");return b}function q(b,d){b=encodeURIComponent(b);return"https://"+c+"/api/marketplaces/"+a+"/customer/follows/amzn1.follows."+
d+"."+b}function r(a){var b=a.split(".")[3],d=encodeURIComponent(b);a=a.replace(b,d);return"https://"+c+a}function t(a){return a.replace("_","-")}var b=d.$;d=f.getStageFromHostname(l.location.hostname);var a=f.marketplaceFromHostname(l.location.hostname),c=h(d,a);d=u(a);return{getButton:function(a,c,d,f,h,l,m){b.ajax({url:q(a,c),type:"GET",headers:{"Accept-Language":t(f),Accept:'application/vnd.com.amazon.api+json; type\x3d"customer.follows.button/v1"',"x-api-csrf-token":d,"x-amzn-encrypted-slate-token":l},
data:{refTag:h,statusQueryOption:"INCLUDE_EDUCATIONAL_TOOLTIP"},xhrFields:{withCredentials:!0},success:function(a){m(null,a)},error:function(a){m(a)}})},follow:function(a,c,d,f,h,l){b.ajax({url:r(a),type:"POST",headers:{"Accept-Language":t(d),Accept:'application/vnd.com.amazon.api+json; type\x3d"customer.follows.follow/v1"',"x-api-csrf-token":c,"x-amzn-encrypted-slate-token":h,"Content-Type":"application/x-www-form-urlencoded"},data:{refTag:f},xhrFields:{withCredentials:!0},success:function(a){l(null,
a)},error:function(a){l(a)}})},unfollow:function(a,c,d,f,h,l){b.ajax({url:r(a),type:"DELETE",headers:{"Accept-Language":t(d),Accept:'application/vnd.com.amazon.api+json; type\x3d"customer.follows.unfollow/v1"',"x-api-csrf-token":c,"x-amzn-encrypted-slate-token":h},data:{refTag:f},xhrFields:{withCredentials:!0},success:function(a){l(null,a)},error:function(a){l(a)}})},viewedEducationalTooltip:function(a,c,d,f,h){b.ajax({url:a,type:"PUT",headers:{"Accept-Language":t(d),Accept:'application/vnd.com.amazon.api+json; type\x3d"customer.follows.viewed-educational-tooltip/v1"',
"x-api-csrf-token":c,"x-amzn-encrypted-slate-token":f,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:function(a){h(null,a)},error:function(a){h(a)}})},getAjaxEndpoint:h,getDefaultLanguage:u,getFollowsAAPIUrlFromEntity:q,getFollowsAAPIUrlFromRelativeUrl:r,getAcceptedLanguage:t,DEFAULT_LANGUAGE:d}});"use strict";w.register("aapi-config",function(){return{marketplaceConfig:{DEVO:{ATVPDKIKX0DER:{ajaxEndpoint:"data-us.integ.amazon.com"},A2EUQ1WTGCTBG2:{ajaxEndpoint:"data-ca.integ.amazon.com"},
A3P3J5A7D2ZVXI:{ajaxEndpoint:"data-mx.integ.amazon.com"},AZXD3QD5B39HD:{ajaxEndpoint:"data-br.integ.amazon.com"},A1F83G8C2ARO7P:{ajaxEndpoint:"data-uk.integ.amazon.com"},A1PA6795UKMFR9:{ajaxEndpoint:"data-de.integ.amazon.com"},A13V1IB3VIYZZH:{ajaxEndpoint:"data-fr.integ.amazon.com"},AJZF8LZ1EJVJN:{ajaxEndpoint:"data-es.integ.amazon.com"},A3CQBQD3RGPJR8:{ajaxEndpoint:"data-tr.integ.amazon.com"},A3HOBANJMCMD83:{ajaxEndpoint:"data-it.integ.amazon.com"},A1M3WC0SJ3A38T:{ajaxEndpoint:"data-nl.integ.amazon.com"},
A2XZLSVIQ0F4JT:{ajaxEndpoint:"data-in.integ.amazon.com"},A1VC38T7YXB528:{ajaxEndpoint:"data-jp.integ.amazon.com"},A1RNPCQ4K8U27I:{ajaxEndpoint:"data-au.integ.amazon.com"}},PRE_PROD:{ATVPDKIKX0DER:{ajaxEndpoint:"data-us-pre-prod.iad.corp.amazon.com"},A2EUQ1WTGCTBG2:{ajaxEndpoint:"data-ca-pre-prod.iad.corp.amazon.com"},A1AM78C64UM0Y8:{ajaxEndpoint:"data-mx-pre-prod.iad.corp.amazon.com"},A2Q3Y263D00KWC:{ajaxEndpoint:"data-br-pre-prod.iad.corp.amazon.com"},A1F83G8C2ARO7P:{ajaxEndpoint:"data-uk-pre-prod.dub.corp.amazon.com"},
A1PA6795UKMFR9:{ajaxEndpoint:"data-de-pre-prod.dub.corp.amazon.com"},A13V1IB3VIYZZH:{ajaxEndpoint:"data-fr-pre-prod.dub.corp.amazon.com"},A1RKKUPIHCS9HS:{ajaxEndpoint:"data-es-pre-prod.dub.corp.amazon.com"},A33AVAJ2PDY3EV:{ajaxEndpoint:"data-tr-pre-prod.dub.corp.amazon.com"},APJ6JRA9NG5V4:{ajaxEndpoint:"data-it-pre-prod.dub.corp.amazon.com"},A1805IZSGTT6HS:{ajaxEndpoint:"data-nl-pre-prod.dub.corp.amazon.com"},A21TJRUUN4KGV:{ajaxEndpoint:"data-in-pre-prod.dub.corp.amazon.com"},A1VC38T7YXB528:{ajaxEndpoint:"data-jp-pre-prod.pdx.corp.amazon.com"},
A39IBJ37TRP1C6:{ajaxEndpoint:"data-au-pre-prod.pdx.corp.amazon.com"}},PROD:{ATVPDKIKX0DER:{ajaxEndpoint:"data.amazon.com",defaultLanguage:"en-US"},A2EUQ1WTGCTBG2:{ajaxEndpoint:"data.amazon.ca",defaultLanguage:"en-CA"},A1AM78C64UM0Y8:{ajaxEndpoint:"data.amazon.com.mx",defaultLanguage:"es-MX"},A2Q3Y263D00KWC:{ajaxEndpoint:"data.amazon.com.br",defaultLanguage:"pt-BR"},A1F83G8C2ARO7P:{ajaxEndpoint:"data.amazon.co.uk",defaultLanguage:"en-GB"},A1PA6795UKMFR9:{ajaxEndpoint:"data.amazon.de",defaultLanguage:"de-DE"},
A13V1IB3VIYZZH:{ajaxEndpoint:"data.amazon.fr",defaultLanguage:"fr-FR"},A1RKKUPIHCS9HS:{ajaxEndpoint:"data.amazon.es",defaultLanguage:"es-ES"},A33AVAJ2PDY3EV:{ajaxEndpoint:"data.amazon.com.tr",defaultLanguage:"tr-TR"},APJ6JRA9NG5V4:{ajaxEndpoint:"data.amazon.it",defaultLanguage:"it-IT"},A1805IZSGTT6HS:{ajaxEndpoint:"data.amazon.nl",defaultLanguage:"nl-NL"},A21TJRUUN4KGV:{ajaxEndpoint:"data.amazon.in",defaultLanguage:"en-IN"},A1VC38T7YXB528:{ajaxEndpoint:"data.amazon.co.jp",defaultLanguage:"ja-JP"},
A39IBJ37TRP1C6:{ajaxEndpoint:"data.amazon.com.au",defaultLanguage:"en-AU"}}}}});"use strict";w.when("follow-button-utils").register("follow-horizonte",function(d){var f=l.location.protocol,m=d.AMAZON_URL+"/follow/",h=d.AMAZON_URL+"/followv2/",u=d.AMAZON_URL+"/hz/follow/button/html",q=d.AMAZON_URL+"/hz/follow/button/strings",r=m+"v2/recommendations/{0}/{1}"+d.Uri.paramsToString({recommenders:["similarities"],entity_types:["{0}"],results_limit:1,per_result_recommendations_limit:3,facet:"low",scale_width:50}),
t=h+"viewed_tooltip",b=m+"log-metrics";return{FOLLOW_SERVICE_URL:m,FOLLOW_SERVICE_URL_V2:h,CONTENT_TYPE_URL_ENCODED:"application/x-www-form-urlencoded",CONTENT_TYPE_JSON:"application/json",ajax:function(a,b){b=b||{};var c=(b.requestType||"GET").toUpperCase(),g=l.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),h=new Date,m=function(a){var c;if(a)try{var f="json"===b.dataType?JSON.parse(g.responseText):g.responseText;d.executeFunction(b.successCallback,l,f,g)}catch(M){b.logger&&
b.logger.log(M,"FATAL","Error parsing XHR response text: "+g.responseText),d.executeFunction(b.failureCallback,l,g)}else d.executeFunction(b.failureCallback,l,g),0!==g.status&&(c={status:g.status,responseText:g.responseText,readyState:g.readyState,userAgent:l.navigator.userAgent});b.logger&&b.logger.logDuration("request",new Date-h,c);d.executeFunction(b.completeCallback,l,g)};!b.cors||"withCredentials"in g?(g.open(c,a,!0),g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.onreadystatechange=
function(){4===g.readyState&&m(200===g.status)}):b.cors&&"undefined"!==typeof XDomainRequest&&(a=a.replace(/^https?:\/\//,f+"//"),g=new XDomainRequest,g.open(c,a),g.onload=function(){m(!0)},g.onerror=function(){m(!1)},g.onprogress=function(){});b.data?(a=b.contentType||"application/x-www-form-urlencoded",c=b.data,"application/x-www-form-urlencoded"===a?c=d.formEncodeData(c):"application/json"===a&&(c=JSON.stringify(c)),g.setRequestHeader("Content-type",a),g.send(c)):(b.contentType&&g.setRequestHeader("Content-type",
b.contentType),g.send())},ajaxGetJson:function(a,b){b=d.merge({},{requestType:"GET",dataType:"json"},b);this.ajax(a,b)},getHtml:function(a){this.ajax(u,a)},getStrings:function(a){this.ajaxGetJson(q,a)},getRecommendations:function(a,b,f){a=d.formatString(r,a,b);this.ajaxGetJson(a,f)},setViewedTooltip:function(a){this.ajax(t,a)},logMetrics:function(a){this.ajax(b,a)}}})});