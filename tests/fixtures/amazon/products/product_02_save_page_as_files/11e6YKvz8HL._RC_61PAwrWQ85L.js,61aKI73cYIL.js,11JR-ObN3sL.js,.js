(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(H){var r=window.AmazonUIPageJS||window.P,V=r._namespace||r.attributeErrors,X=V?V("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):r;X.guardFatal?X.guardFatal(H)(X,window):X.execute(function(){H(X,window)})})(function(H,r,V){H.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(g,b,f,N,m,L,I){function Q(k,c,e,a,u){if(!f.isjQueryObjDefined(k.find(".a-button-selected"))){var d=
B.getCurrentItem();if(!a||"chromeless-video"!==d.type||!h.autoplayVideo){a=0;h.twisterInteractionSimplificationEnabled||"image"!==d.type||(a=Math.max(f.getIndexForVariant(d.color,d.variant,h),0));var l=0;f.isDefined(h.heroImage[d.color])&&(l=h.heroImage[d.color].length);u=a-(c>=h.maxAlts?h.maxAlts-u-l:0);c=0<=u?c+u:a+l;c>=e&&(a=0,c=l);e=f.getImageHash(d.color,a,h);-1!==e&&(t.dispatch("updateModel",{data:{index:a,thumbnailIndex:c,variant:e.variant,type:"image",shoppableScene:e.shoppableScene}}),e=
k.find(".item").get(c),f.selectGivenThumbnail(b(e),k))}}}function n(b){if(!h.useChildVideos)return f.lazyLoadingRequired(B.getCurrentItem(),B,h)?void 0:h.videos;if(h.colorToVideo[b])return h.colorToVideo[b];var c=h.colorToAsin[b];if(c&&c.asin){var e={};e.params={asin:c.asin,productGroupID:h.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:h.useChromelessVideoPlayer,isUDP:h.isUDP};h.isDPXFeatureEnabled||(e.success=function(a){videosOnTwisterRefresh(a)},N.load(VIDEO_AJAX_ENDPOINT,e));return h.colorToVideo&&
h.colorToVideo[b]}}function R(d,c,e,a){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&e)return d;a=n(c);var k=f.isDefined(a)&&0<a.length&&h.alwaysIncludeVideo?1:0;c=h.colorImages&&h.colorImages[c];a=d;var l=0;f.isDefined(c)&&(b.each(c,function(a,c){if(l>=h.maxAlts-k&&d<h.maxAlts+h.additionalNumberOfImageAlts){if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){var e=b(".thumbItemUnrolled");e[d]?e[d].querySelector("img").src=c.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
a+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(d+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(d+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(d+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:a,thumbnailIndex:d,variant:c.variant,shoppableScene:c.shoppableScene},c.thumb,O,"imageThumbnail");d++}l++}),L.isEnabled&&I.logAltImgRequestPlacedOnThumbnails(b,L,B),Q(O,a,d,e,k));return d}function G(b,c){h.useIV&&f.isDefined(c.hiRes)&&b.css("cursor","pointer")}function q(d,c){if("image"===d.type&&P){var e=b("#image-canvas-caption #canvasCaption"),a=h.staticStrings,k=h.colorImages,l=d.color,p=d.index,t=!0;var q='\x3ca href\x3d"#"\x3e'+a.clickForFullView+"\x3c/a\x3e";f.isShoppableScenesEnabled()&&
d.shoppableScene?q=a.clickSceneTagsToShopProducts:c&&h.useIV?(q='\x3ca href\x3d"#"\x3e'+a.clickForFullView+"\x3c/a\x3e",t=!0):k[l]&&k[l][p].hiRes&&h.useHoverZoom?(h.useHoverZoomIpad?q=a.touchToZoom:h.useClickZoom&&(q=a.clickToZoom),h.hoverZoomIndicator&&(q="\x3cimg src\x3d'"+h.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+q)):h.useIV&&(q='\x3ca href\x3d"#"\x3e'+a.clickForFullView+"\x3c/a\x3e",t=!0);e.html(q);t&&(d=b("#image-canvas-caption #canvasCaption a"),g.declarative.create(d,"iv-open-caption-click"))}}
function D(d,c){var e="a-dynamic-image";if(!h.acEnabled){var a;b.each(d.main,function(c,e){f.isDefined(a)||(a=parseFloat(e[1]/e[0])<=parseFloat(h.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});e+=a}var k=f.getMaxDimensionsOfMainImage(d.main,l,h),p=k[0],q=k[1];k=b("\x3cdiv\x3e\x3c/div\x3e");p={"max-height":p,"max-width":q};k.addClass(e).css(p).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",d.main);return k}function x(f,c,e){var a=
"desktop-dp-atf-ib-shoppablescenes-tags-"+f;"function"==typeof uet&&uet("bb",a,{wb:1});e.attr("data-a-image-name","shoppable-scene:"+f);e=K.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");e.addClass("celwidget").attr("cel_widget_id",a);e.children("span").css("display","inline-block");t.dispatch("initialize-shoppable-scene",{index:f,shoppableScene:c.shoppableScene,imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:e.find(".mirai-scene-tag-placeholder"),
$viewProductsButton:e.find(".mirai-scene-view-products-button")});"MutationObserver"in r&&(new MutationObserver(function(a,e){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){g.trigger("shoppable-scene-image-loaded",{index:f,shoppableScene:c.shoppableScene})}),e.disconnect())})})).observe(e.find(".mirai-scene-image-block-tag-container")[0],
{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",a,{wb:1});return e}function w(d,c,e){e=D(d,e);d=f.isShoppableScenesEnabled()&&d.shoppableScene?x(c,d,e):K.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");d.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});d.find(".placeHolder").replaceWith(e);K.find(".list").append(d);
g.loadImageManually(e);return d}function E(f){var c=l.css("height");null!==c&&f.find(".imgTagWrapper").css("height",c);f.addClass("selected");h.imgTagWrapperClasses&&f.find(".imgTagWrapper").addClass(h.imgTagWrapperClasses)}function F(d,c,e,a){if(2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment||a||"unavailable"===d.type){if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){e=f.getImageHash(d.color,d.index,h);if(-1===e)return c={data:{index:0,thumbnailIndex:0,variant:"",
type:"unavailable"}},f.lazyLoadingRequired(d,B,h)||(t.dispatch("updateModel",c),f.showUnavailable(d.color)),-1;a=K.find(".item.itemNo"+d.thumbnailIndex);f.isjQueryObjDefined(a)||(a=w(e,d.thumbnailIndex,c));E(a);t.dispatch("loadMagnifier");q(d);G(a,e);g.trigger("dp:image-block:update",e)}}else{d=h.colorImages&&h.colorImages[e];c=b(".unrolledImg");e=n(e);var k=f.isDefined(e)&&0<e.length&&h.alwaysIncludeVideo?1:0;c.length>h.maxAlts&&c.each(function(a){a>=h.maxAlts&&b(this).remove()});f.isDefined(d)&&
b.each(d,function(a,c){a<h.maxAlts-k+h.additionalNumberOfImageAlts&&a>=h.maxAlts-k&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+k+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(a+k)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(a+k)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))})}}function J(d){if(!h.twisterInteractionSimplificationEnabled){var c=B.getCurrentItem().color;h.colorImages[c]||(h.colorImages[c]=d);d={type:"updatedData",data:B.getCurrentItem()};
t.dispatch("updateView",d);(c=h.colorToAsin[c])&&c.asin&&H.register(f.rankedImagesReadyEvent(c.asin))}}function S(){var d=K.find(".item .imgTagWrapper"),c=f.getContainerHeight(l,h.holderRatio,h.holderMaxHeight);0<c&&(l.height(c),d.height(c));K.find("img.a-dynamic-image").each(function(){var c=b(this);c.data("a-manual-replacement")&&g.loadDynamicImage(this);var a=c.data("a-dynamic-image");a=f.getMaxDimensionsOfMainImage(a,l,h);c.css({"max-height":a[0]+"px","max-width":a[1]+"px"})})}function k(d){q(B.getCurrentItem(),
"mouseenter"===d.type)}var d,h,B,t,O,K,l,p,P=(m=g.state("imageBlockStateData"))?!m.shouldRemoveCaption:!0;return function(q,c,e,a){d=this;h=q;B=c;t=a;g.on("triggerImageAjax",J);h.colorImages[h.landingAsinColor]=h.colorImages[h.defaultColor];d.render=function(a,c,e,d,k,q,g,y){K=e;O=d;l=k;p=h.twisterInteractionSimplificationEnabled&&"swatchClick"===y?0:R(c,a,q,y);q||(c=B.getCurrentItem(),f.lazyLoadingRequired(c,B,h)&&t.dispatch("updateModel",{data:{type:"lazy-loaded"}}));c=B.getCurrentItem();e=!q;f.lazyLoadingRequired(c,
B,h)||(b("#imageBlock").css("opacity","1"),K.css("opacity","1"),f.spinner(K,!1),K.find("li").removeClass("selected"),P&&b("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&K.find(".list .item").remove());F(B.getCurrentItem(),g,a,q);return p};d.update=function(a){};h.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");t.register("imageHover",k);t.register("resize",S)}});"use strict";H.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(g,
b,f){var r,m,L,I;return function(b,n,N,G){r=this;m=b;L=G;r.render=function(b,n,x,w,N,F,J){I=w;r=this;x=m.maxAlts;w=n;N=m.colorImages[b]?m.colorImages[b].length:0;N+=f.getVideosCount(b,m);b=m.heroImage[b];F=0;b&&(F=b.length);b=N+F;b>x&&(x=b-x,b=I.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),x+="+",w={type:"ingress",index:0,thumbnailIndex:n,variant:""},b.find("#altIngressText").append(x),g.declarative.create(b,"thumb-action",w),I.append(b),
w=n++);return w};r.update=function(b){"ingress"===b.data.type&&"click"===b.type&&L.dispatch("imageClick",b)}}});"use strict";H.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(g,b,f,r){function m(k,d,h,g){if(!f.isjQueryObjDefined(k.find(".a-button-selected"))){var t=w.getCurrentItem();if(!g||"chromeless-video"!==t.type||!x.autoplayVideo){g=0;if("hero-image"===t.type){g=I(t.color,t.variant);if(-1===g)return;g=-1!==g?g:0}var q=d+g;q>=h&&(g=0,q=d);
d=r.getHeroImageHash(x,t.color,g);-1!==d&&(E.dispatch("updateModel",{data:{index:g,thumbnailIndex:q,variant:d.variant,type:"hero-image"}}),d=k.find(".item").get(q),f.selectGivenThumbnail(b(d),k))}}}function N(k,d,h){if("hero-video"===w.getCurrentItem().type)return k;d=x.heroImage&&x.heroImage[d];var g=k;f.isDefined(d)&&(b.each(d,function(d,b){k<x.maxAlts&&(f.createThumbnail({type:"hero-image",index:d,thumbnailIndex:k,variant:b.variant},b.thumb,F,"imageThumbnail"),k++)}),m(F,g,k,h));return k}function I(k,
d){var h=x.heroImage;if(1>h.length||!f.isDefined(h[k])||!f.isDefined(d))return-1;var g=-1;b.each(h[k],function(b,f){f.variant===d&&(g=b)});return g}function Q(){if(J.length&&x.repositionHeroImage){var b=r.getHeroDimParams(x,w.getCurrentItem());if(f.isDefined(b)){var d=f.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px ";J.css({"background-position":d,"background-size":b.width+"px "+b.height+"px ","max-width":b.width+"px ","min-height":b.height+"px ",filter:"","-ms-filter":""})}}}function n(b,
d,h,g){if(J.length&&b&&d){if("function"===typeof h||g){var k=new Image;k.onload=g?function(){J.css("background-image",'url("'+b+'")')}:h;k.src=b}h=d[1];k=d[0];g||J.css({"background-image":'url("'+b+'")'});if(x.repositionHeroImage&&(d=r.getHeroDimParams(x,w.getCurrentItem(),d),f.isDefined(d))){h=d.width;k=d.height;var q=f.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "}J.css({"background-position":q,"background-size":h+"px "+k+"px ","max-width":h+"px ","min-height":k+"px ",filter:"",
"-ms-filter":""})}}function R(f,d,h,g){f=r.getHeroImageHash(x,f,d);if(-1===f)return-1;d=b.map(f.main,function(b,d){return d})[0];n(d,f.main[d],h,g)}function G(b,d,f){if("hero-image"!==b.type)return-1;var k=I(b.color,w.getCurrentItem().variant);k=-1!==k?k:0;if(-1===r.getHeroImageHash(x,b.color,k))return-1;var h=w.getCurrentItem();b.thumbnailIndex=h.thumbnailIndex;b.type=h.type;b.variant=h.variant;b.index=k;q(b,d,f)}function q(b,d,f){var h=r.getHeroImageHash(x,b.color,b.index);var k=b&&S&&g.equals(b,
S)?!0:!1;S||(S=b);if(!k&&b||d)R(b.color,b.index,d,f),S=b;J.removeClass("hide-background");g.trigger("dp:image-block:update",h)}var D,x,w,E,F,J,S={};return function(k,d,h,g){D=this;x=k;w=d;E=g;x.heroImage[x.landingAsinColor]=x.heroImage[x.defaultColor];D.render=function(d,f,h,k,g,q,m){F=k;J=b("#heroImage");d=N(f,d,q);G(w.getCurrentItem(),m,q);return d};D.update=function(b){var d=b.data;"ingress"!==d.type&&J.addClass("hide-background");"swatchHover"===b.type?b.captured||(d.type=w.getCurrentItem().type,
-1!==G(d)&&(b.captured=!0)):"hero-image"===d.type&&(q(d),"click"!==b.type&&x.usePeekHover||f.selectGivenThumbnail(b.$declarativeParent,F))};E.register("resize",Q)}});"use strict";H.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(g,b,f,N,m,L){function I(b){F?b.css("cursor","url('"+q.staticImages.zoomIn+"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))}
function Q(b){var d=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(f.isDefined(d)){d=d[1].split("_");for(var h=0;h<d.length;h++){var k=d[h].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(k)&&(b[k[1]]=parseInt(k[2],10))}}return b}function n(k,d){function h(){if(d.useClickZoom){var a=d.offsetInClickZoom;a=[Math.min(1,Math.max(0,C[0]-(E[0]+a))/(E[2]-2*a)),Math.min(1,Math.max(0,C[1]-(E[1]+a))/(E[3]-2*a))]}else a=A&&A.updatePosition();if(a&&v&&v.detailSize){var c=[v.detailSize[0]-v.rect.width,v.detailSize[1]-
v.rect.height];g.capabilities.rtl?v.detailImage.get(0).style.right=-(a[0]*c[0])+"px":v.detailImage.get(0).style.left=-(a[0]*c[0])+"px";v.detailImage.get(0).style.top=-(a[1]*c[1])+"px"}}function n(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function t(a){var c=T?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";C=T?[c.pageX,c.pageY]:[a.pageX,a.pageY];if(g.capabilities.rtl){var e=b(r).width();C=T?[e-c.pageX,c.pageY]:[e-a.pageX,a.pageY]}}function x(a){t(a);d.useClickZoom?
a=[E[0],E[1],E[0]+E[2],E[1]+E[3]]:(a=A?A.offset:k.offsetParent().offset(),a=q.acEnabled?[a.left,a.top,u.width()+a.left,u.height()+a.top]:[M[0]+a.left,M[1]+a.top,M[0]+M[2]+a.left,M[1]+M[3]+a.top]);return C[0]<a[0]||C[1]<a[1]||C[0]>=a[2]||C[1]>=a[3]||q.acEnabled&&!n(k)?!0:!1}function D(a){T&&a.preventDefault();S=x(a)?!1:!0}function l(a){T&&a.preventDefault();x(a)?(J||(d.fadeMagnifier?G||(G=!0,H=setTimeout(function(){p(!0)},500)):d.useClickZoom||p(),fa&&(fa=!1,clearTimeout(V))),J=!1):(fa||(fa=!0,V=setTimeout(function(){N.postCountMetric("dppc_hoverZoomOpened");
m.isEnabled&&L.logHoverZoomRequestServed(m)},1E3)),d.fadeMagnifier&&G&&(G=!1,clearTimeout(H)),J||h())}function p(c){c&&a.suppressMagnifier(!0);if(ea){v&&v.hide();A&&(A.destroy(),A=null);J&&R();ea=!1;T?(k.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),b(document).trigger("disengaged.magnifier")):b(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier");w();if(c)k.one("click.magnifier touchstart.magnifier",function(a){P(a,!0)});b(document).unbind("keydown.magnifier")}}
function P(c,f){f&&a.suppressMagnifier(!1);S||(J=!1);if(!(ea||W||J)){0===Y&&(N.postCountMetric("dppc_hoverTime",new Date-(r.ue&&r.ue.t0||0)),Y=1);ba[Z]||(N.postCountMetric("dppc_hoverMain"),ba[Z]=1);Z&&(t(c),v?v.refit().show():v=new ca,d.useClickZoom||(A=A||new da),E=v.getWindowSize(),h());ea=!0;T?(k.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",l).bind("touchend.magnifier",p),b(document).trigger("engaged.magnifier")):(q.acEnabled?u.unbind("mousemove.magnifier"):k.unbind("mousemove.magnifier"),
b(document).trigger("engaged.magnifier").bind("mousemove.magnifier",l));if(f&&(c=b("#zoomWindow"),0<c.length))c.one("click.magnifier touchend.magnifier",function(a){p(!0)});b(document).bind("keydown.magnifier",e)}}function w(){d.useHoverZoom&&(T?k.bind("touchstart.magnifier touchmove.magnifier",P):(q.acEnabled?n(k)&&u.bind("mousemove.magnifier",P):k.bind("mousemove.magnifier",P),b(document).bind("mousemove.magnifierCursor",D)))}function c(a){return[a.position().left,a.position().top,a.width(),a.height()]}
function e(a){if("key"in a?"Escape"===a.key||"Esc"===a.key:27===a.keyCode)J=!0,p(!0)}var a=this,u=k.offsetParent(),z={detailImageUrl:k.attr("data-old-hires"),location:"over",locationElement:k,prelaod:"ready",zIndex:50,offsetInClickZoom:50};d=b.extend(z,d);d.adjustment=[10,0,-10,0];var v=null,A=null,C=null,M=c(k),E=null,y={"null":1,"":1,undefined:1},ea=!1,W=!1,Z=d.detailImageUrl,T=d.useHoverZoomIpad||0,Y=0,ba={},da=function(){function a(a){var c=Math.round(Math.min(k.width(),v.rect.width/a));a=Math.round(Math.min(k.height(),
v.rect.height/a));h.css({width:c,height:a});e=[c,a]}var c=this,e=[0,0],f=(v.detailSize&&v.detailSize[0]||5E8)/M[2],y=(v.detailSize&&v.detailSize[1]||5E8)/M[3];f=y>f?y:f;b("#magnifierLens").remove();var h=b("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});d.generalImageUrls.zoomLensBackground&&h.css({backgroundImage:"url("+d.generalImageUrls.zoomLensBackground+")"});q.showMagnifierOnHover?I(h):h.css("cursor","pointer");c.updatePosition=function(){var a=[M[2]-e[0],M[3]-e[1]],b=0>=a[0]?
.5:Math.max(0,Math.min(1,(C[0]-e[0]/2-M[0]-c.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(C[1]-e[1]/2-M[1]-c.offset.top)/a[1])),f=M[0]+Math.round(b*a[0]);a=M[1]+Math.round(d*a[1]);h.get(0).style.left=f+"px";h.get(0).style.top=a+"px";return[b,d]};c.destroy=function(){h.remove()};c.offset=k.offsetParent().offset();a(f);c.updatePosition();h.appendTo(k.parent());v.detailImage[0].complete||v.detailImage.load(function(){var b=v.detailImage.width()/M[2];a(b);c.updatePosition()})};da.preload=function(){a.preload(d.generalImageUrls.lensBackgroundUrl)};
var ca=function(){function a(){var a={};if("over"===d.location){a=d.useClickZoom;var c={},h=b("#leftCol"),g=b("#centerCol"),oa=b("#rightCol"),u=b("#hover-zoom-end"),p=b("#actionPanelContainer"),q=f.isjQueryObjDefined(h)?h.outerHeight():g.outerHeight();c.top=f.isjQueryObjDefined(h)?h.offset().top:g.offset().top;c.bottom=q+c.top;c.right=f.isjQueryObjDefined(oa)?oa.offset().left:p.offset().left;c.left=a?0:h.offset().left+h.outerWidth();f.isjQueryObjDefined(u)&&u.offset().top>c.bottom&&(c.bottom=u.offset().top);
a=c}else"right"===d.location&&(a=k.offset(),a={left:a.left+k.outerWidth(),top:a.top,right:a.left+k.outerWidth()+400,bottom:a.top+400});d.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+b(d.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,b(r).scrollTop()+b(r).height());a.left+=y[0];a.top+=y[1];a.right+=y[2];a.bottom+=y[3];a.width=a.right-a.left;a.height=a.bottom-a.top;d.enhancedHoverOverlay&&f.isDefined(r.pageXOffset)&&(c=b(r).width(),a.width=c-a.left+r.pageXOffset-18,a.height-=14);
l.css({left:a.left,top:a.top,width:a.width,height:a.height});e.rect=a;return e}function c(a){var c=new Image;e.detailSize=[0,0];c.onload=function(){e.detailSize=[c.width,c.height];h()};c.src=a.attr("src");if(0<c.width&&0<c.height)e.detailSize=[c.width,c.height];else if(d.detailImageSize)e.detailSize=d.detailImageSize;else{a=Q(c.src);var b=M[2]/M[3];a.SS||a.AA?(a=a.SS||a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?e.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(e.detailSize=
1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var e=this,y=d.adjustment;b("#zoomWindow").remove();var g={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:d.zIndex};d.enhancedHoverOverlay&&(g.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",g.border="1px solid #949494",g.borderColor="rgb(148,148,148)");var l=b("\x3cdiv id\x3d'zoomWindow' /\x3e").css(g);d.fadeMagnifier&&l.fadeIn(200);d.useClickZoom&&(F?l.css("cursor",'url("'+d.zoomOutIcon+'"), auto'):(l.css("cursor","-webkit-zoom-out"),
l.css("cursor","-moz-zoom-out"),l.css("cursor","zoom-out")));e.updateImage=function(a){a=b("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();l.append(a);b(document).trigger("updated.magnifier");e.detailImage=a;c(e.detailImage)};e.refit=function(){a();c(e.detailImage);return e};d.fadeMagnifier?(e.show=function(){l.fadeIn(200);return e},e.hide=function(){l.fadeOut(200);return e}):(e.show=function(){l.show();return e},e.hide=function(){l.hide();
return e});e.destroy=function(){l.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,e.rect.height]};e.updateImage(Z);a();l.appendTo(document.body)},G=!1,H,fa=!1,V;a.preload=function(c){c=b.makeArray(c);for(var e=c.length,d=0;d<e;d++)c[d]instanceof Array?a.preload(c[d]):"string"===typeof c[d]&&c[d]&&!y[c[d]]&&(y[c[d]]=new Image,y[c[d]].src=c[d])};a.changeImage=function(e,f){ea&&p();Z=f;k.attr("src",e);a.preload(e);M=c(k);f&&("immediately"===d.preload?a.preload(f,
!0):b(r).ready(function(){a.preload(f)}),v?v.updateImage(f):k.attr("data-old-hires",f))};a.destroy=function(){q.acEnabled?u.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):k.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");b(document).unbind("mousemove.magnifier");A&&A.destroy();A=null;v&&v.destroy();v=null};a.detailImage=function(){return v.detailImage};a.suppressMagnifier=function(a){W=a};a.isEngaged=function(){return ea};a.engageMagnifier=
P;a.disengageMagnifier=p;k[0].complete?w():k.one("load",w);a.preload(k.attr("src"));r.performance&&performance.now&&r.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(d.preload){var X=d.detailImageUrl;z=function(){a.preload(X,!0);d.useClickZoom||da.preload()};var aa=d.preload;aa.constructor!==Array&&(aa=[aa]);for(var U=0;U<aa.length;U++)if("immediately"===aa[U])z();else if(b(r)[aa[U]])b(r)[aa[U]](z);else b(r).bind(aa[U],z)}return a}function R(){if(q.useHoverZoom){var g={adjustment:[0,
0,1,1],generalImageUrls:q.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:q.useHoverZoomIpad,useHoverZoom:q.useHoverZoom,useClickZoom:q.useClickZoom,fadeMagnifier:q.fadeMagnifier,zoomOutIcon:q.staticImages.zoomOutCur,enhancedHoverOverlay:q.enhancedHoverOverlay||q.atfEnhancedHoverOverlay};w&&(w.destroy(),w=V);var d=E.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(d)?
q.useClickZoom?(d.one("click.loadmagnifier touchstart.loadmagnifier",function(b){w=new n(d,g);w.engageMagnifier(b,!0)}),F?d.css("cursor",'url("'+q.staticImages.zoomInCur+'"), auto'):(d.css("cursor","-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),d.css("cursor","zoom-in"))):w=new n(d,g):m.isEnabled&&L.logHoverZoomApplicability(b,m)}}var G,q,D,x,w,E,F=navigator.userAgent.match(/msie|trident/i),J=!1,S=!1;return function(b,d,f,g){G=this;q=b;D=d;m.refToModel=D;x=g;G.render=function(b,d,f,h,g,k){E=f;
w&&(w.destroy(),w=V)};G.update=function(b){};x.register("loadMagnifier",R);x.register("resize",R)}});"use strict";H.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(g,b,f,N){function m(b,g,m){b=(b=m?m:f.getColorFromState(g.getState().hovered_variations,n))&&""!==b?b:n.defaultColor;G.dispatch("updateView",{type:"swatchHover",data:{color:b}});N.postCountMetric("swatchHover")}function L(b,g,m,w){w=b=(b=w?w:f.getColorFromState(g.getState().selected_variations,
n))&&""!==b?b:n.defaultColor;n.twisterInteractionSimplificationEnabled&&"initial"===b&&(w=f.getTwisterColorFromState(g.getState().selected_variations));w===R.getCurrentItem().color?"function"===typeof m&&m():(!n.twisterInteractionSimplificationEnabled||n.colorToAsinCached&&n.colorToAsinCached[w]||((g=document.querySelector("#altImages \x3e ul"))&&g.classList.add("js-feature-refresh-overlay"),n.colorToAsinCached=n.colorToAsinCached||{},n.colorToAsinCached[w]=!0),g={color:b},n.twisterInteractionSimplificationEnabled&&
"initial"!==b&&(g.type="image",g.index=0,g.thumbnailIndex=0),G.dispatch("updateSelection",{type:"swatchClick",data:g,onload:function(){if(!n.twisterInteractionSimplificationEnabled){var b={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",b)}m()}}),N.postCountMetric("swatchClick"))}function I(b){if(b){var f=null!=b.requestedAsinColor?b.requestedAsinColor:n.defaultColor;n.twisterInteractionSimplificationEnabled=b.twisterInteractionSimplificationEnabled;
n.title=b.title;n.colorImages[f]="initial"!==f&&n.colorImages[f]&&0<n.colorImages[f].length?n.colorImages[f].slice(0,1).concat(b.altImagesData.slice(1)):b.altImagesData;n.colorToVideo[f]=b.videosData;b.totalVideoCount&&(n.totalVideoCount=b.totalVideoCount);b={type:"updatedData",data:{color:f}};G.dispatch("updateModel",b);G.dispatch("updateView",b)}}var Q,n,R,G;return function(b,f,r,w){Q=this;n=b;R=f;G=w;g.on("image-block-twister-swatch-hover",m);g.on("image-block-twister-swatch-click",L);g.on("twisterRefreshData",
I);Q.render=function(b,f,g,m,k){};Q.update=function(b){}}});"use strict";H.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(g,b,f,N,m,L,I){function Q(a,c,e,d){if(!f.isjQueryObjDefined(a.find(".a-button-selected"))){var g=p.getCurrentItem();if(!d||"chromeless-video"!==g.type||!l.autoplayVideo)if(d=0,l.twisterInteractionSimplificationEnabled||"image"!==g.type||(d=Math.max(q(g.color,g.variant),
0)),!(g.thumbnailIndex>=l.maxAlts&&0!=d)){var h=c+d;h>=e&&(d=0,h=c);c=f.getImageHash(g.color,d,l);-1!==c&&(P.dispatch("updateModel",{data:{index:d,thumbnailIndex:h,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=a.find(".item").get(h),f.selectGivenThumbnail(b(c),a))}}}function n(a,c,d,g){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&d)return a;var h=l.colorImages&&l.colorImages[c];c=a;2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment||
b(".thumbItemUnrolled").each(function(a){(!b(this)[0].classList.contains("thumbTypeimage")||a>=h.length||a>=l.maxAlts)&&b(this).remove()});f.isDefined(h)&&(b.each(h,function(c,d){if(a<l.maxAlts)if(2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment){a++;var g=b(".thumbItemUnrolled");g[c]?g[c].querySelector("img").src=d.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+d.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else c={type:"image",index:c,thumbnailIndex:a,variant:d.variant,shoppableScene:d.shoppableScene},d=f.createThumbnail(c,
d.thumb,e,"imageThumbnail"),"T1"!==l.desktopCollapsibleThumbnailsExperience&&"T2"!==l.desktopCollapsibleThumbnailsExperience||f.updateImageThumbnailOverlay(d,c,h),a++}),L.isEnabled&&I.logAltImgRequestPlacedOnThumbnails(b,L,p),Q(e,c,a,d));return a}function R(a,c){l.useIV&&f.isDefined(c.hiRes)&&a.css("cursor","pointer")}function G(a,c){if("image"===a.type&&V){var e=b("#image-canvas-caption #canvasCaption"),d=l.staticStrings,h=l.colorImages,y=a.color,k=a.index,u=!1;if(f.isShoppableScenesEnabled()&&a.shoppableScene)var p=
d.clickSceneTagsToShopProducts;else c&&l.useIV?(p='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",u=!0):h[y]&&h[y][k].hiRes&&l.useHoverZoom?(l.useHoverZoomIpad?p=d.touchToZoom:l.useClickZoom?p=d.clickToZoom:(p='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",u=!0),l.hoverZoomIndicator&&(p="\x3cimg src\x3d'"+l.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+p)):l.useIV&&(p='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",u=!0);e.html(p);u&&(a=b("#image-canvas-caption #canvasCaption a"),
g.declarative.create(a,"iv-open-caption-click"))}}function q(a,c){return f.getIndexForVariant(a,c,l)}function D(a,c,b){var e=c.thumbnailIndex,d=l.colorToAsin[c.color]&&l.colorToAsin[c.color].asin;c="altImageHover"===b&&z&&z.altImageIdx===e&&z.asin===d&&"swatchClick"===z.event?!0:"swatchHover"===b?z&&z.asin===d&&z.event===b:z&&z.altImageIdx===e&&z.asin===d&&z.event===b;if(!c){var f="#",g=a.find(".imgTagWrapper img").get(0);g&&(f=g.src);a=new Image;a.onload=function(){if(g){g.src=f;var a=g.width,c=
g.height,h=g.naturalWidth,l=g.naturalHeight;try{var k=(Math.abs(a/h*l-c)/c).toFixed(2);.01<k&&(r.ue&&((("landing"!==b||C||M)&&"swatchClick"!==b||r.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===b||"swatchClick"===b)?r.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==b||M?"altImageHover"!==b||C||(r.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),C=!0):(r.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),M=!0)),r.ueLogError&&(a={logLevel:"WARN",
attribution:"imageBlock-PC-hi_res_image_distortion"},r.ueLogError("swatchHover"===b?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+d+" Event:"+b+" Diff:"+k.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+d+" at altImageIdx "+e+" Event:"+b+" Diff:"+k.toString()+"]"},a)))}catch(na){r.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},r.ueLogError(na,a))}}};"#"!==f&&(a.src=f);z.altImageIdx=e;z.asin=d;z.event=b}}function x(a,
c){var e="a-dynamic-image";if(!l.acEnabled){var d;b.each(a.main,function(a,c){f.isDefined(d)||(d=parseFloat(c[1]/c[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});e+=d}var g=f.getMaxDimensionsOfMainImage(a.main,u,l),h=g[0],k=g[1];g=b("\x3cdiv\x3e\x3c/div\x3e");h={"max-height":h,"max-width":k};g.addClass(e).css(h).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",a.main);return g}function w(c,b,e){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+
c;"function"==typeof uet&&uet("bb",d,{wb:1});e.attr("data-a-image-name","shoppable-scene:"+c);e=a.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");e.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":d,"data-csa-c-slot-id":d,"data-csa-c-type":"widget","data-csa-c-asin":l.mediaAsin,"data-csa-c-physical-id":b.shoppableScene.physicalId,"data-product-line":b.shoppableScene.productLine});
e.children("span").css("display","inline-block");P.dispatch("initialize-shoppable-scene",{index:c,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:e.find(".mirai-scene-tag-placeholder"),$viewProductsButton:e.find(".mirai-scene-view-products-button")});"MutationObserver"in r&&(new MutationObserver(function(a,e){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&
""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){g.trigger("shoppable-scene-image-loaded",{index:c,shoppableScene:b.shoppableScene})}),e.disconnect())})})).observe(e.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return e}function E(c,b,e){e=x(c,e);c=f.isShoppableScenesEnabled()&&c.shoppableScene?w(b,c,e):a.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
c.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});c.find(".placeHolder").replaceWith(e);a.find(".list").append(c);g.loadImageManually(e);g.trigger("dp:image-block:imageBlockImageLoad",b);return c}function F(a){var c=u.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");l.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses)}
function J(a){if(a.isUserGenerated){var c=p.getPreviousItem(),b=a.variant;f.isDefined(b)&&c.thumbnailIndex!==a.thumbnailIndex&&(L.isEnabled&&I.logAltImgRequestServed(L),m.postCountMetric("ImageThumbnailSelectedVariant:"+b),0===b.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+b),m.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function S(c,e,d,h){if(2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment||h||"unavailable"===c.type){if("image"===c.type||"unavailable"===
c.type||"lazy-loaded"===c.type){(k=f.isDefined(e))&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");d=f.getImageHash(c.color,c.index,l);if(-1===d)return e={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(c,p,l)||(P.dispatch("updateModel",e),f.showUnavailable(c.color)),-1;h=a.find(".item.itemNo"+c.thumbnailIndex);f.isjQueryObjDefined(h)||(h=E(d,c.thumbnailIndex,e),k?(M=C=!1,D(h,c,"swatchClick")):D(h,c,"altImageHover"));F(h);P.dispatch("loadMagnifier");
G(c);R(h,d);J(c);g.trigger("dp:image-block:update",d)}}else if(c=l.colorImages&&l.colorImages[d],b(".unrolledImg").each(function(a){b(this).remove()}),f.isDefined(c)){b.each(c,function(a,c){if(a<l.maxAlts){var e=b(".unrolledImg");e[a]?b(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=e.length&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))}});g.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var k=f.isDefined(e);k&&(m.postCountMetric("mainImageUpdateOnTwisterVariationClick"),e())}}function k(c){var b=0;l.twisterInteractionSimplificationEnabled||(b=Math.max(q(c.color,p.getCurrentItem().variant),0));b=f.getImageHash(c.color,
b,l);if(-1===b)return f.lazyLoadingRequired(c,p,l)||f.showUnavailable(c.color),-1;var e=a.find(".swatchHoverExp"),d=x(b);e.find(".imgTagWrapper").html(d);g.loadImageManually(d);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");F(e);D(e,c,"swatchHover");g.trigger("dp:image-block:update",b)}function d(c,e){f.lazyLoadingRequired(c,p,l)||(b("#imageBlock").css("opacity","1"),a.css("opacity","1"),f.spinner(a,!1),a.find("li").removeClass("selected"),V&&b("#image-canvas-caption #canvasCaption").empty(),
f.hideUnavailable(),e&&a.find(".list .item").remove())}function h(a){f.lazyLoadingRequired(a,p,l)&&P.dispatch("updateModel",{data:{type:"lazy-loaded"}})}function B(){var c=a.find(".item .imgTagWrapper"),e=f.getContainerHeight(u,l.holderRatio,l.holderMaxHeight);0<e&&(u.height(e),c.height(e));a.find("img.a-dynamic-image").each(function(){var a=b(this);a.data("a-manual-replacement")&&g.loadDynamicImage(this);var c=a.data("a-dynamic-image");c=f.getMaxDimensionsOfMainImage(c,u,l);a.css({"max-height":c[0]+
"px","max-width":c[1]+"px"})})}function t(a){G(p.getCurrentItem(),"mouseenter"===a.type)}function O(){if("function"===typeof r.markFeatureRender){var a={hasComponents:!0,components:[{name:"thumbnail"}]};r.markFeatureRender("imageblock",a)}"function"===typeof r.markFeatureInteractive&&(a={hasComponents:!0,components:[{name:"thumbnail",events:["click","hover"],alwaysInteractive:!1}]},r.markFeatureInteractive("imageblock",a))}var K,l,p,P,ha,c,e,a,u,z={},v,A=null,C=!1,M=!1,V=(N=g.state("imageBlockStateData"))?
!N.shouldRemoveCaption:!0;g.on("triggerImageAjax",function(a){if(!l.twisterInteractionSimplificationEnabled){var c=p.getCurrentItem().color;l.colorImages[c]||(l.colorImages[c]=a);a={type:"updatedData",data:p.getCurrentItem()};P.dispatch("updateView",a);(c=l.colorToAsin[c])&&c.asin&&H.register(f.rankedImagesReadyEvent(c.asin))}});return function(g,z,q,F){K=this;l=g;p=z;P=F;l.colorImages[l.landingAsinColor]=l.colorImages[l.defaultColor];K.render=function(c,f,g,k,m,z,q,F){a=2!==l.unrolledImageBlockTreatment&&
3!==l.unrolledImageBlockTreatment?g:b(".unrolledScrollBox");e=k;u=m;l.twisterInteractionSimplificationEnabled&&"swatchClick"===F?v=0:(v=n(f,c,z,F),l.twisterInteractionSimplificationEnabled&&"updatedData"===F&&((g=document.querySelector("#altImages \x3e ul"))&&"undefined"!==typeof g.classList&&g.classList.remove("js-feature-refresh-overlay"),O()));z?0===f&&D(a.find(".item.itemNo0"),p.getCurrentItem(),"landing"):h(p.getCurrentItem());d(p.getCurrentItem(),!z);f=q;l.twisterInteractionSimplificationEnabled&&
(f=function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",a);"function"===typeof q&&q()});2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment?"swatchClick"===F&&l&&l.colorImages?(A=l.colorImages[c],S(p.getCurrentItem(),f,c,z)):"updatedData"===F&&l&&l.colorImages&&l.colorImages[c]!==A&&(A=l.colorImages[c],S(p.getCurrentItem(),f,c,z)):S(p.getCurrentItem(),f,c,z);return v};f.isImageBlockGridViewHoverDelayEnabled()?
K.update=function(a){var b=a.data;p.setCurrentEvent(a);"ingress"!==b.type&&"swatchHover"!==a.type&&(p.setToPreviousItem(),"mouseenter"===a.type?(c&&clearTimeout(c),c=setTimeout(function(){p.setToCurrentItem(b);d(a.data,!1)},f.getHoveringDelayTimer())):"mouseleave"===a.type?c&&clearTimeout(c):"click"===a.type&&(p.setToCurrentItem(b),d(a.data,!1)));"swatchHover"===a.type?("ingress"!==b.type&&d(a.data,!1),b.color===p.getCurrentItem().color?S(p.getCurrentItem(),null,b.color,!0):a.captured||-1===k(b)||
(a.captured=!0)):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type?(m.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+v),ha&&clearTimeout(ha),ha=setTimeout(function(){S(b,null,b.color,!0);l.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,e)},f.getHoveringDelayTimer())):"mouseleave"===a.type?ha&&clearTimeout(ha):"click"===a.type&&(S(b,null,b.color,!0),f.selectGivenThumbnail(a.$declarativeParent,e),m.postCountMetric("dpcc_imageThumbClicked_total"),
m.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+v)))}:K.update=function(a){var c=a.data;p.setCurrentEvent(a);"ingress"!==c.type&&d(a.data,!1);"swatchHover"===a.type?c.color===p.getCurrentItem().color?S(p.getCurrentItem(),null,c.color,!0):a.captured||-1===k(c)||(a.captured=!0):"image"===c.type&&(c.interaction=a.type,c.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+v),S(c,null,c.color,!0),l.usePeekHover&&"click"!==
a.type||(f.selectGivenThumbnail(a.$declarativeParent,e),"click"===a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+v))))};l.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");P.register("imageHover",t);P.register("resize",B)}});"use strict";H.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(g,b,f,r){function m(f,g){f=b("\x3cimg src\x3d'"+(g?x.staticImages.shoppableSceneDotHighlighted:
x.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:g?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(g?"active-tag":"inactive-tag");return f}function N(f){var n=b("\x3cspan\x3e");g.each(f.tags,function(f){var k=b("\x3cdiv\x3e").css({position:"absolute",left:100*f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});k.append(m(f,!1));k.append(m(f,!0));k.bind("mouseenter",function(){I(b(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});g.declarative.create(k,
"scenes-show-details-tags-ib",{tagId:f.link});n.append(k)});return n.children()}function I(b){b.addClass("mirai-scene-dot-pulsate");g.delay(function(){b.removeClass("mirai-scene-dot-pulsate")},4E3)}function Q(b,f){b.css({display:"none"});f.css({display:"inline-block"})}function n(b,f,g){b.eq(g).css({display:"inline-block"});f.eq(g).css({display:"none"})}function R(b){H.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){g.trigger("mirai:scene-details-change",
{physicalId:b})})}function G(){var f=b("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),g=b("\x3cimg class\x3d'item-tag'\x3e").attr("src",x.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),m=b("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");m.html(x.staticStrings.shoppableSceneViewProductsButton);return f.append(g).append(m)[0].outerHTML}function q(b){function f(){b.$tagPlaceholder.replaceWith(k);var d=k.find(".mirai-scene-tag.active-tag"),f=
k.find(".mirai-scene-tag.inactive-tag");n(d,f,0);I(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));E=!0;b.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+b.index,{wb:1});t=!0;r.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(b.shoppableScene){var m=b.$viewProductsButton.find(".a-button-text");if(0===m.children().length){m.append(G());g.declarative.create(b.$viewProductsButton,"scenes-show-details-view-products-ib",
{tagId:b.shoppableScene.tags[0].link});var k=N(b.shoppableScene),d=k.find(".mirai-scene-tag.active-tag"),h=k.find(".mirai-scene-tag.inactive-tag"),q=b.shoppableScene.physicalId,t=!1;g.on("mirai:index:change",function(b){b.scenePhysicalId===q&&(b=b.selectedIndices[0],Q(d,h),n(d,h,b),I(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(b)),E=!0)});g.on("mirai:scene-details-change",function(b){b.physicalId!==q||E||(Q(d,h),n(d,h,0),I(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
E=!0)});g.on("mirai:no-products-active",function(b){b.scenePhysicalId===q&&Q(d,h)});g.on("mirai:set-first-product-active",function(b){b.scenePhysicalId===q&&(Q(d,h),n(d,h,0))});g.on("a:image:load:shoppable-scene:"+b.index,function(){t||(f(),r.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});g.on("shoppable-scene-image-loaded",function(d){d.index!=b.index||t||(f(),r.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});H.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){g.trigger("mirai:scene-side-sheet-init",{icons:x.staticImages,strings:x.staticStrings});g.trigger("mirai:scene-details-init",{scene:b.shoppableScene,imageSource:b.imageSource})})}}}var D,x,w,E=!1;return function(b,g,m,k){D=this;x=b;w=k;f.isShoppableScenesEnabled()?(w.register("initialize-shoppable-scene",q),D.render=function(b,f,g,k,m,n,l){},D.update=function(b){"mouseenter"===b.type&&(b.data.shoppableScene?R(b.data.shoppableScene.physicalId):E=!1)}):(b=function(){},D.render=b,D.update=
b)}});H.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};H.when("A","jQuery","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(g,b,f,N,m,
L,I,Q){function n(c){return null!==c&&"undefined"!==typeof c}function R(c){var e=0;b.each(c,function(a,c){a=parseInt(c[1],10);a>e&&(e=a)});return e}function G(c){var e=0;b.each(c,function(a,c){a=parseInt(c[0],10);a>e&&(e=a)});return e}function q(c,b,a){b=b.width();if(a.naturalMainImageSize)return b;c=R(c);0<c&&(b=Math.min(b,c));return b}function D(c,b,a){b=b.height();if(a.naturalMainImageSize)return b;c=G(c);0<c&&(b=Math.min(b,c));return b}function x(c){var e;b.each(c,function(a,c){n(e)||(e=c[1]/
c[0])});return e||1}function w(c){if(c){if(0<c.indexOf(".m3u8"))return"application/x-mpegURL";if(0<c.indexOf(".mp4"))return"video/mp4"}return""}function E(c,e){e=e.find("img");n(e[c])&&b(e[c]).click()}function F(c,b){O[c]=b?b:O[c];return O[c]}function J(c,e,a){a=a||t;a=a.colorImages;if(1>a.length||!n(a[c])||!n(e))return-1;var d=-1;b.each(a[c],function(a,c){c.variant===e&&(d=a)});return d}function S(c,e,a){a=a||t;a=a.colorImages;return!(n(a)&&n(a[c])&&n(a[c][e])&&n(a[c][e].main))||1>b.map(a[c][e].main,
function(a,c){return c}).length?-1:a[c][e]}function k(c,b,a,d){d.parent().css("z-index",2);0!==a&&0!==b&&(b/=a,d.css("width",""),d.css("height",""),c>b?d.css("width",b/c*100+"%"):d.css("height",c/b*100+"%"))}function d(c,e){var a;if(a=c.useIV)a=c.colorImages&&c.colorImages[e]&&0<c.colorImages[e].length?!0:!1;c=a;L.isEnabled&&(L.IVApplicaple=c,I.logImmersiveViewApplicability(b,L));return c}function h(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length||
0<b(".gridImageBlockViewLayoutIn1x7").length}var B,t=b.extend(!0,{},N,m),O={},K=0,l=0,p=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,P={},H={};return{isDefined:n,isDefinedAndEmpty:function(c){return n(c)&&"object"===("undefined"===typeof c?"undefined":X(c))&&0===Object.keys(c).length},isUndefinedOrEmpty:function(c){return n(c)?"object"===("undefined"===typeof c?"undefined":X(c))&&0===Object.keys(c).length:!0},isDefinedAndNotEmpty:function(c){return n(c)?"object"===("undefined"===typeof c?"undefined":X(c))&&
0<Object.keys(c).length:!1},isjQueryObjDefined:function(c){return 0!==c.length},getAspectRatio:x,getMaxHeightOfMainImage:D,getMaxWidthOfMainImage:q,getMaxDimensionsOfMainImage:function(c,b,a){if(a.acEnabled)return[b.height(),b.width()];var e=D(c,b,a);b=q(c,b,a);c=x(c);a=b/c;b=Math.min(b,e*c);e=Math.min(e,a);return[e,b]},getContainerHeight:function(c,b,a){var e=c.get(0);c=0;if(n(e)){c=Math.min(e.offsetWidth/b,a);var d;b=t.mainImageHeightPartitions;a=t.mainImageMaxSizes;if(n(a)&&n(b)){var f=0,g=r.innerHeight||
document.documentElement.clientHeight||document.body.clientHeight;for(e=0;e<b.length;e++)g>b[e]&&(f=e+1);a.length>=f&&(d=a[f])}n(d)&&(c=Math.min(d[1],c))}return c},getColorFromState:function(c,e){if(c){e=e||t;var a="";b.each(e.visualDimensions,function(b,e){c[e]&&(a+=" "+c[e])});return a&&a.substring(1)}},createThumbnail:function(c,b,a,d){var e=a.find(".template").clone().removeClass("template").addClass("item"),f=document.createElement("img");f.src=b;e.find(".placeHolder").replaceWith(f);(b=c.heroVideoVariant)&&
"hero-image"===c.type&&c.variant===b&&e.addClass("heroImageThumbnail");n(d)&&e.addClass(d);h()&&e&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",f.parentNode.insertBefore(d,f));g.declarative.create(e,"thumb-action",c);e.attr&&(e.attr("data-ux-click",""),c.type&&c.type.match(/video/)?(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(e.attr("data-csa-c-type",
"uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-hover")),e.attr("data-csa-c-posy",c.thumbnailIndex+1));a.append(e);return e},updateImageThumbnailOverlay:function(c,b,a){c.find(".textMoreImages").append(a.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(c,b){c=c.find(".a-button");var a=c.find(".a-button-input");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");b.find(".a-button-input").attr("aria-checked",
"false");c.addClass("a-button-selected").addClass("a-button-focus");a.attr("aria-checked","true")},loadMediaIntoAiry:function(c,b,a,d){c&&c.getMediaSourceInfo()!==b.url&&(d?c.loadMedia?(B={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web",title:b.title,altText:b.altText},c.loadMedia(B)):c.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,refTag:"vse_ib_tablet_web"}):c.loadMedia?c.loadMedia({mediaSourceInfo:b.url,
contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):c.setInitialData({videoUrl:b.url,mimeType:w(b.url),contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,imageUrl:b.slateUrl,aciContentId:b.aciContentId,title:b.title,altText:b.altText}))},showUnavailable:function(c){c&&(b("#imageBlock .unvailableVariation").html(c),b("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){b("#imageBlock .variationUnavailable").hide()},
fadeToThumbnail:function(c,b,a){b.fadeTo(500,0,function(){E(c,a);b.fadeTo(500,1)})},toggleVideoCaption:function(c){c&&c.toggle()},selectThumbnail:E,spinner:function(c,d){var a=b("#imageBlock .a-spinner").parent();0===a.length&&(a=b("\x3cdiv\x3e\x3c/div\x3e").append(b("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),c.append(a),a.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",
width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));d?a.show():a.hide();return a},rankedImagesReadyEvent:function(c){return"ranked-images-ready-for-"+c},ajaxState:F,getIndexForVariant:J,getImageHash:S,lazyLoadingRequired:function(c,b,a){b=Math.max(J(c.color,b.getCurrentItem().variant,a),0);b=-1!==S(c.color,b,a);c=a.colorToAsin[c.color]&&a.colorToAsin[c.color].asin;c=!c||"success"!==F(c);return!a.lazyLoadExperienceDisabled&&
!b&&c},lazyLoadOnHoverEnabled:function(c){return!c.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:k,repositionVideoBanner:function(c,b,a,d){setTimeout(function(){var a=c.width()/c.height();k(a,16,9,b)},d||0)},getVideosCount:function(c,b){return b.useChildVideos&&b.colorToVideo[c]?b.colorToVideo[c].length:b.videos?b.videos.length:0},getVideoHash:function(c,b,a){if(a.useChildVideos){if(!n(a.colorToVideo))return-1;c=a.colorToVideo[c]}else c=a.videos;return n(c)&&n(c[b])&&n(c[b].url)?c[b]:-1},isImmersiveViewEnabled:d,
playVideoInImmersiveView:function(c,b){return d(c,b)&&c.useTabbedImmersiveView},useTabbedImmersiveView:function(b){return b.useTabbedImmersiveView},getMediaSourceInfo:function(){return n(B)?B.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(b,d,a){var c=a.marketPlaceID,f=a.languageCode;a={videoURL:a.url,imageURL:a.slateUrl};a:{if(b)if(b.colorToAsin&&b.colorToAsin[d]&&b.colorToAsin[d].asin){b=b.colorToAsin[d].asin;break a}else if(b.mediaAsin){b=b.mediaAsin;break a}b=""}return{requester:"DetailPageTablet",
marketplaceID:c,clientPrefix:"ImageBlock_tablet",locale:f,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:a,product:{contentID:b,contentIDType:"ASIN"}}},addTag:function(b){r.ue&&r.ue.tag&&r.ue.tag(b)},isShoppableScenesEnabled:function(){return Q.isEnabled&&0<b(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:h,isImageBlockGridViewHoverDelayEnabled:function(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length},
getHoveringDelayTimer:function(){return K},updateThumbnailHoverDelay:function(b){if(n(b)){K=0;var c=b.closest("li");c=c.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(c);if(-1!==c){var a=l;b=b.closest("ul").attr("class");b===V?a=!1:(b=p.exec(b),null===b||3!==b.length?a=!1:(b=b[2],a=Math.floor(a/b)>Math.floor(c/b)));a&&(K=100);l=c}}},setDimensionIngressData:function(b,d,a){P[b]=d;H[b]=a},isDimensionIngressEnabled:function(b){return!!P[b]},getDimensionVariantList:function(b){return H[b]},
logError:function(b,d,a,f){r.ueLogError&&r.ueLogError(f,{logLevel:b,attribution:d,message:a})},getTwisterColorFromState:function(c){if(c){var d="",a=Object.keys(c).sort();b.each(a,function(a,b){c[b]&&(d+=" "+c[b])});return d&&d.substring(1)}},customerId:""}});"use strict";H.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(g,b,f,N,m,L){function I(c,d,e,g){!a.autoplayVideo||pa||a.useChromelessVideoPlayer?!f.isjQueryObjDefined(c.find(".a-button-selected"))&&
(e=u.getCurrentItem(),!g||a.prioritizeVideos||"chromeless-video"===e.type&&a.autoplayVideo)&&(g=f.getVideoHash(e.color,0,a),-1===g||e.thumbnailIndex>=a.maxAlts-1||(d+=0,z.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:g.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=c.find(".item").get(d),f.selectGivenThumbnail(b(d),c))):(f.selectGivenThumbnail(c.find("img:last"),c),f.fadeToThumbnail(c.find("img").length-1,M,c))}function Q(b){if(!a.twisterInteractionSimplificationEnabled){var c=
u.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[c]){var d=function(){if(b){a.colorToVideo[c]=b;var d={type:"updatedData",data:u.getCurrentItem()};z.dispatch("updateView",d)}};a.lazyLoadExperienceDisabled?d():H.when(f.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){d()})}}}function n(b){if(!a.useChildVideos)return f.lazyLoadingRequired(u.getCurrentItem(),u,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];var c=a.colorToAsin[b];if(c&&c.asin){var d={};
d.params={asin:c.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(d.success=function(a){Q(a)},N.load("/gp/product/features/apparel-main-image/videos.html",d));return a.colorToVideo&&a.colorToVideo[b]}}function R(b){var c=g.$("#main-video-container");0<c.length&&(c.find(".ive-video-thumbnail").addClass("aok-hidden"),c.find(".videoTagWrapper").addClass("aok-hidden"));y&&null===b&&2!==a.unrolledImageBlockTreatment&&
3!==a.unrolledImageBlockTreatment&&(y.hide(),A.parent().css("z-index",-1),C&&C.hide())}function G(b,c,d){c=M.width()/M.height();var e=parseInt(b.videoWidth,10),g=parseInt(b.videoHeight,10);f.updateAspectRatio(c,e,g,A);if(y&&"unrolled-video-add"!==d)y.show(),f.loadMediaIntoAiry(y,b,ea,a.tabletWeb);else if(a.tabletWeb)y=T;else{if("unrolled-video-add"===d){y=T;return}if(null===T||T===V)U=setInterval(function(){y=T;y!==V&&null!==y&&(y.show(),f.loadMediaIntoAiry(y,b,ea,a.tabletWeb),q(),J(y),clearInterval(U),
U=null)},500);else if(y=T,y!==V&&null!==y){y.show();f.loadMediaIntoAiry(y,b,ea,a.tabletWeb);q();J(y);return}}q();J(y)}function q(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(a)){g.$("#main-video-container").find(".ive-video-thumbnail").removeClass("aok-hidden");g.$("#main-video-container").find(".videoTagWrapper").removeClass("aok-hidden");if(1<f.getVideosCount(u.getCurrentItem().color,a)&&C){if(f.isDefined(X)){C.show();return}X=b('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href",
"#").text(a.staticStrings.clickForFullView);C.find("#videoCaption").append(X);g.declarative.create(X,"videoIngressClick",W)}f.playVideoInImmersiveView(a,u.getCurrentItem().color)&&(g.declarative.create(A,"videoIngressClick",W),A.attr&&A.attr("data-ux-click",""),A.children().css("z-index","-1"),A.css("display","inline-block"))}else C&&(C.find("#videoCaption").text(a.staticStrings.playVideo),C.show())}function D(b,c){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===
c){var d=f.getVideoHash(b.color,b.index,a);if(-1===d)return-1;"chromeful-video"===b.type&&G(d,b.thumbnailIndex+1,c)}}function x(a){na||(na=!0,m.postCountMetric("chromeless-video"===a?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}function w(d,e,h,k){if(a.twisterInteractionSimplificationEnabled&&"swatchClick"===k)return d=0;if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&h)return d;var p=n(e);e=d;k=b(".unrolledImg");var oa=f.isDefined(p)&&0<p.length&&a.alwaysIncludeVideo?
1:0;f.isDefined(p)&&0<p.length&&!a.alwaysIncludeVideo&&d===a.maxAlts&&m.postCountMetric("IBVideoDrop");k.length>a.maxAlts&&k.each(function(c){c>=a.maxAlts&&b(this).remove()});oa&&d===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(b(".thumbItemUnrolled").last().remove(),b(".unrolledImg").last().remove()):v.find(".item:last").remove(),d--);f.isDefined(p)&&(b.each(p,function(e,g){if(d<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var h=
a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";b('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+e+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+d+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+d+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+d+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+
g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b("ul.regularAltImageViewLayout"));b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+d+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+d+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
d+'" class\x3d"videoIndex'+e+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||E(b(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{h=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var k={type:h,index:e,thumbnailIndex:d,variant:g.variant};W={type:"video-ingress",index:e,thumbnailIndex:d,variant:g.variant};f.useTabbedImmersiveView(a)&&("chromeful-video"===
h&&(aa+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(aa+=" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(aa+=" videoImageBlockGridView");f.createThumbnail(k,g.thumb,v,aa);2===a.dp60VideoPosition&&E(v,a.dp60VideoPosition);f.useTabbedImmersiveView(a)&&(F(v.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL),e=1<p.length?"multiple-videos":"one-video",(k=1<p.length?p.length+" "+a.staticStrings.multipleVideos:
a.staticStrings.singleVideo)&&v.find(".videoBlockIngress").append(v.find("#videoCount_template").clone().text(k).attr("id","videoCount")).addClass(e));sa=f.useTabbedImmersiveView(a)?p.map(function(a){return a.mediaObjectId}).join(","):g.mediaObjectId;g=m.buildNexusMetric("ib.thumbnailRender",d+1,g.mediaObjectId,g.rankingStrategy,f.customerId,g.groupType,ba,Y,da,ca,sa);e=ha(a,u.getCurrentItem().color);e!==g.pageAsin&&(g.pageAsin=e,g.pageUrl=c(e));m.emitNexusMetric(g);x(h)}d++}if(f.useTabbedImmersiveView(a))return!1}),
I(v,e,d,h),O(l),a.imageBlockRenderingStartTime&&m.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",g.now()-a.imageBlockRenderingStartTime));return d}function E(c,d){if(0!==d)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var f=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",e=c.children(".thumbTypeimage");c=c.children(".thumbType"+f);e&&c&&e[d-1]&&b(e[d-1]).before(c[0]);c=b(".unrolledScrollBox .list-unrolled");e=c.children(".unrolledImg.imgMedia");
c=c.children(".unrolledImg.videoMedia");e&&c&&e[d-1]&&b(e[d-1]).before(c[0]);b(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var c=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(c=d);null!==c&&b(this).removeClass(this.classList[c]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else e=c.children(".imageThumbnail"),c=c.children(".videoBlockIngress"),e&&c&&e[d-1]&&b(e[d-1]).before(c[0])}function F(a,b){var c=
a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function J(b){a.autoplayVideo&&b&&!pa&&(C&&f.toggleVideoCaption(C),b.setVolume(0),b.show(),b.play(),pa=!0)}function S(c){if("click"===c.$event.type||"keypress"===c.$event.type&&13===c.$event.keyCode){y&&y.pause();c.data=W;c.clickTimeStamp=c.$event.timeStamp;var d="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";z.dispatch("imageClick",c);m.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);
c=m.buildNexusMetric("ib.thumbnailClick",c.data.thumbnailIndex+1,a.videos[0].mediaObjectId,a.videos[0].rankingStrategy,f.customerId,a.videos[0].groupType,ba,Y,da,ca);m.emitNexusMetric(c);m.postCountMetric(d);b("#main-video-container .vjs-control-bar").css("display","none");b("#main-video-container .vjs-poster").css("display","inline-block")}}function k(a){null!==y&&y!==V&&(y.frame&&y.frame.remove(),y=null,T.frame&&T.frame.remove(),T=null);T=a.player;b("#main-video-container .vse-airy-container.vse-player-container").css("min-width",
"auto");T.hide=function(){T.pause();g.$("#main-video-container").find(".vse-player-container").hide()};T.show=function(){g.$("#main-video-container").find(".vse-player-container").show()};T.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function d(c,d,e,h,k,l){R(l);A=null!==l?b("#unrolledImgNo"+l.thumbnailIndex):h.find("#main-video-container");va&&(C=null!==l?"":A.parent().find("#video-canvas-caption"));M=null!==l?b(".unrolledScrollBox"):b("#main-image-container");null===l&&f.isImageBlockGridViewDisplayEnabled()&&
(A.addClass("videoCenter"),h.find("#video-outer-container").addClass("videoWrapperCenter"));ba=r.location.href;c=u.getCurrentItem().color;!0===k?Y=a.mediaAsin:(Y=a.colorToAsin[c]&&a.colorToAsin[c].asin,Y=f.isDefined(Y)?Y:a.mediaAsin);a.useChromelessVideoPlayer||A.addClass("chromeful-container");null!==l?D(l,"unrolled-video-add"):D(u.getCurrentItem(),"");f.useTabbedImmersiveView(a)&&g.declarative("videoIngressClick",["click","keypress"],S);if(-1!==p&&null!==l){c=u.getCurrentItem().color;var p=f.getVideoHash(c,
l.index,a);f.useTabbedImmersiveView(a)||(k={requester:"MediaBlockSoftlines",marketplaceID:p.marketPlaceID,clientPrefix:"mbSoftlines"+l.thumbnailIndex,locale:p.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:p.url,imageURL:p.slateUrl},product:{contentID:ha(a,c),contentIDType:"ASIN"}},L.get(g,"#unrolledImgNo"+l.thumbnailIndex,k,function(){g.$("#unrolledImgNo"+l.thumbnailIndex).find(".vse-player-container").show()},function(){g.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}}
function h(a){var c=g.$("#main-video-container");if(c&&c.length){var d=c.find(".videoTagWrapper");d&&d.length||(d=g.$("\x3cdiv\x3e",{"class":"videoTagWrapper"}),c.append(d));c=d.find(".ive-video-thumbnail");c&&c.length||(c=g.$("\x3cimg\x3e",{"class":"a-image-wrapper a-lazy-loaded a-manually-loaded ive-video-thumbnail",style:"max-height: 100%; max-width: 100%",alt:""}),d.append(c));a&&a.slateUrl&&(c.attr({src:a.slateUrl,"data-a-image-source":a.slateUrl}),c.removeClass("aok-hidden"),d.removeClass("aok-hidden"),
d=b("#main-video-container .ive-video-thumbnail"),g.loadImageManually(d),g.$("#main-video-container").find(".ive-video-thumbnail").removeClass("aok-hidden"),d=document.querySelector("#main-video-container .videoTagWrapper img.ive-video-thumbnail"))&&(d.setAttribute("tabindex","0"),d.setAttribute("alt",a.title),d.setAttribute("role","button"),d.setAttribute("type","submit"))}}function B(a,c){function d(){var a=Math.floor((v.width()-1)/k);return f?a-1:a}function e(a){a=d();c.slice(a).hide();c.slice(0,
a).show();c.find(".textMoreImages").remove();c.removeClass("overlayRestOfImages");c.find("img").each(function(){b(this).parent().attr("aria-hidden","true")});if(a<c.length){var e=a-1;a=c.eq(e);c.eq(e).find("img").parent().attr("aria-hidden","false");e=c.length-e;e=b("\x3cspan\x3e").addClass("textMoreImages").text(e+"+");a.find("img").after(e);a.addClass("overlayRestOfImages")}}var f=0!=v.find(".item.videoThumbnail").length,g=c.eq(0).width(),h=c.eq(1).position().left-c.eq(0).position().left-g,k=g+
h;e();a.register("resize",e)}function t(a){var b=v.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==V&&c.decode().then(function(){B(a,b)})}}function O(a){try{if(!a)return!1;ra=a;ka=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==ma&&ma.disconnect();0<ka.length&&(ma=new IntersectionObserver(K,a));ka.forEach(function(a){ma.observe(a)})}catch(xa){m.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}
function K(a){ra(a,wa,ta,ka,ua)}function l(a,c,d,e,f){try{b.each(a,function(a,g){var h=b(e).index(g.target);g.isIntersecting?la[h]||(la[h]=setTimeout(function(){c=c.slice();c.push(h);d=c.sort(function(a,b){return a-b});var a=p(d,f);if(0!==a.length&&0!==d.length){var b=u.getCurrentItem().color;b=n(b);P(b,a);delete la[h]}},1E3)):(clearTimeout(la[h]),delete la[h],c=c.filter(function(a){return a!==h}),d=c.sort(function(a,b){return a-b}))})}catch(za){m.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}
function p(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function P(a,c){try{if(!a||!c||0===a.length||0===c.length)return!1;b.each(c,function(b,c){if(c=1===ka.length?a[0]:a[c])b=m.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,c.rankingStrategy,f.customerId,c.groupType,r.location.href,Y,da,ca),m.emitNexusMetric(b)})}catch(ya){m.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}function ha(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;
if(a.mediaAsin)return a.mediaAsin}return""}function c(a){ba=r.location.href;return ba.replace(/\/dp\/([A-Z0-9]{10})/,"/dp/"+a)}var e,a,u,z,v,A,C,M,X,y,ea,W,Z,T,Y,ba,da,ca,ia,ja,fa,na=!1,pa=!1,aa="videoThumbnail",U=null,ma=null,ta,ua=[],ka,wa=[],ra=null,qa=g.state("imageBlockStateData"),va=qa?!qa.shouldRemoveCaption:!0,la={},sa;return function(c,l,p,n){e=this;a=c;u=l;z=n;ea=a.airyConfig;da=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;f.customerId=f.customerId||a.customerId||"";a.colorToVideo=
{};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(ia="tablet",ca="applicationType.ImageBlock.vse_ib_tablet_web"):g.capabilities.tablet?(ia="tablet",g.capabilities.isAmazonApp&&(ca="applicationType.ImageBlock.vse_ib_tablet_app")):(ia="desktop",ca="desktop_web.ImageBlock.vse_ib_iv");e.render=function(c,e,h,k,l,p,m,n){m=g.$("#main-video-container");0<m.length&&(m.find(".ive-video-thumbnail").addClass("aok-hidden"),m.find(".videoTagWrapper").addClass("aok-hidden"));
if(null!==U||a.twisterInteractionSimplificationEnabled&&"swatchClick"===n)clearInterval(U),U=null,A&&A.parent&&A.parent().css("z-index",-1),C&&C.hide&&C.hide();if(!a.twisterInteractionSimplificationEnabled||"swatchClick"!==n){m=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){v=b("ul.regularAltImageViewLayout");Z=w(e,c,p,n);m=[];e=b(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});
for(n=0;n<e.length;n++){var q=e[n].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",r=Number(e[n].classList[2].slice(10)),P=b(".thumbItemUnrolled").index(e[n]);m.push({color:c,thumbnailIndex:P,type:q,varient:"MAIN",index:r})}for(n=0;n<m.length;n++)d(c,h,k,l,p,m[n])}else v=k,Z=w(e,c,p,n),d(c,h,k,l,p,null),k=u.getCurrentItem().color,l=f.getVideoHash(k,0,a),-1!==l&&(c=function(){g.$("#main-video-container").find(".vse-player-container").hide()},h=function(){g.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()},
a.tabletWeb?(k=f.getNilgiriServiceAjaxRequest(a,k,l),L.get(g,"#main-video-container",k,c,h)):f.useTabbedImmersiveView(a)||(k={requester:"MediaBlockSoftlines",marketplaceID:l.marketPlaceID,clientPrefix:"mbSoftlines",locale:l.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:l.url,imageURL:l.slateUrl},product:{contentID:ha(a,k),contentIDType:"ASIN"}},L.get(g,"#main-video-container",k,c,h)));a.collapsibleThumbnails&&t(z);return Z}};
e.setupIntersectionObserverToWatchVideoThumbnail=O;e.emitMultipleImpressionMetric=P;f.isImageBlockGridViewHoverDelayEnabled()?e.update=function(b){var c=g.$("#main-video-container");0<c.length&&(c.find(".ive-video-thumbnail").addClass("aok-hidden"),c.find(".videoTagWrapper").addClass("aok-hidden"));null!==U&&(clearInterval(U),U=null,A&&A.parent&&A.parent().css("z-index",-1),C&&C.hide&&C.hide());var d=b.data;"ingress"===d.type||"swatchHover"===b.type||f.lazyLoadingRequired(d,u,a)||(u.setToPreviousItem(),
"mouseenter"===b.type?(fa&&clearTimeout(fa),fa=setTimeout(function(){u.setToCurrentItem(d);R(null)},f.getHoveringDelayTimer())):"mouseleave"===b.type?fa&&clearTimeout(fa):"click"===b.type&&(u.setToCurrentItem(d),R(null)));if("swatchHover"===b.type)"ingress"===d.type||f.lazyLoadingRequired(d,u,a)||R(null),d.color===u.getCurrentItem().color?D(u.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(d,u,a)&&!f.lazyLoadOnHoverEnabled(a)&&D(u.getCurrentItem(),"");else if("chromeful-video"===d.type)if(c=
f.getVideoHash(d.color,d.index,a),"mouseenter"===b.type)f.useTabbedImmersiveView(a)&&h(c),m.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+Z),c=m.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,c.mediaObjectId,c.rankingStrategy,f.customerId,c.groupType,ba,Y,da,ca),m.emitNexusMetric(c),ja&&clearTimeout(ja),ja=setTimeout(function(){D(d,"");!a.usePeekHover&&g.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&f.selectGivenThumbnail(b.$declarativeParent,v)},f.getHoveringDelayTimer());
else if("mouseleave"===b.type)ja&&clearTimeout(ja);else if("click"===b.type&&(D(d,""),g.$(b.$currentTarget).closest("li").hasClass("videoThumbnail"))){f.selectGivenThumbnail(b.$declarativeParent,v);var e=m.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,c.mediaObjectId,c.rankingStrategy,f.customerId,c.groupType,ba,Y,da,ca);(!f.useTabbedImmersiveView(a)&&"chromeless-video"===d.type||"tablet"==ia)&&m.emitNexusMetric(e);f.useTabbedImmersiveView(a)&&(m.emitNexusMetric(e),m.postCountMetric("dpcc_videoThumbClicked_"+
(d.thumbnailIndex+1)+"_"+Z),h(c),W.action="videoIngressClick",W.clickTimeStamp=b.$event.timeStamp,W.$event=b.$event,W.$currentTarget=b.$currentTarget,z.dispatch("videoIngressClick",W),m.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))}}:e.update=function(b){var c=g.$("#main-video-container");0<c.length&&(c.find(".ive-video-thumbnail").addClass("aok-hidden"),c.find(".videoTagWrapper").addClass("aok-hidden"));null!==U&&(clearInterval(U),U=null,A&&A.parent&&A.parent().css("z-index",-1),
C&&C.hide&&C.hide());c=b.data;"ingress"===c.type||f.lazyLoadingRequired(c,u,a)||R(null);if("swatchHover"===b.type)c.color===u.getCurrentItem().color?D(u.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(c,u,a)&&!f.lazyLoadOnHoverEnabled(a)&&D(u.getCurrentItem(),"");else if("chromeful-video"===c.type){var d=f.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type){f.useTabbedImmersiveView(a)&&h(d);m.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+Z);var e=m.buildNexusMetric("ib.thumbnailHover",
c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ba,Y,da,ca);m.emitNexusMetric(e)}D(c,"");a.usePeekHover&&"click"!==b.type||!g.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||(f.selectGivenThumbnail(b.$declarativeParent,v),"click"===b.type&&(e=m.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ba,Y,da,ca),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==ia)&&m.emitNexusMetric(e),
f.useTabbedImmersiveView(a)&&(m.emitNexusMetric(e),m.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+Z),h(d),W.action="videoIngressClick",W.clickTimeStamp=b.$event.timeStamp,W.$event=b.$event,W.$currentTarget=b.$currentTarget,z.dispatch("videoIngressClick",W),m.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};if(!a.twisterInteractionSimplificationEnabled&&a.isDPXFeatureEnabled)g.on("triggerVideoAjax",Q);g.on("vsePlayer-imageblock_tablet",k);g.on("vsePlayer-mbsoftlines",
k)}});"use strict";H.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(g,b){function f(b,f,L,I,Q){function n(b){"click"===b.type&&I.postCountMetric("thumbClick");"click"===b.type&&t.overrideAltImageClickAction?O.dispatch("thumbActionClick",b):O.dispatch("updateSelection",b)}function m(b){t.useClickZoom||O.dispatch("imageClick",b)}function G(b){t.useClickZoom||O.dispatch("imageHover",b)}function q(b){O.dispatch("button360Click",b)}function D(b){O.dispatch("captionClick",b)}
function x(d){!L.isDefined(d)||"swatchClick"!==d.type&&"updatedData"!==d.type?(B.update(d),"swatchHover"!==d.type&&K.getPreviousItem().thumbnailIndex!==d.data.thumbnailIndex&&I.postCountMetric(d.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",d.data)):(B.render(d.data.color,!1,d.onload,d.type),t.twisterInteractionSimplificationEnabled||(d={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",
d)))}function w(b){O.dispatch("resize",b)}function E(b){L.selectThumbnail(b,l)}function F(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function J(){t.interactiveCallJSPEnabled||("function"===typeof r.markFeatureInteractive&&(t.twisterInteractionSimplificationEnabled?r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],
alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!1}]}):r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]})),1===g.useIV?H.when("a-modal").execute(function(){F()}):F());t.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],n);b.declarative("thumb-action",["click"],n);b.declarative("main-image-click",
["click"],m);b.declarative("main-image-click",["keydown"],function(b){var d=b.$event;"keyCode"in d&&13===d.keyCode&&m(b)});b.declarative("main-image-click",["mouseenter","mouseleave"],G);b.declarative("button-360-click",["click"],q);b.declarative("iv-open-caption-click",["click"],D);b.on("resize",w)}function N(b){var d=b.data,f;d&&"ingress"!==d.type&&"click"===b.type&&(f=b);return f}function k(b){var d=K.getCurrentItem(),f={type:"click"};f.$declarativeParent=b;f.data=d;return f}function d(){var b=
l.find(".item.imageThumbnail");if(!(1>=b.length)){var d=K&&K.getCurrentItem()&&K.getCurrentItem().color;d=(d=t.colorImages&&d&&t.colorImages[d])&&d.length;b.removeClass("overlayRestOfImages");b.length<d&&(b.eq(b.length-1).addClass("overlayRestOfImages"),b=document.createElement("div"),b.className="lastAltImageOverlay",(d=(d=(d=document.getElementsByClassName("overlayRestOfImages")[0])&&d.getElementsByTagName("img"))&&0<d.length&&d[0])&&d.parentNode&&(d.parentNode.insertBefore(b,d),d=(d=d.parentNode.getElementsByClassName("textMoreImages"))&&
0<d.length&&d[0]))&&("T1"===t.desktopCollapsibleThumbnailsExperience?(d.classList.add("textMoreImages-t1"),b.classList.add("lastAltImageOverlay-t1"),I.postCountMetric("desktopCollapsibleThumbnailShowT1")):"T2"===t.desktopCollapsibleThumbnailsExperience&&(d.classList.add("textMoreImages-t2"),b.classList.add("lastAltImageOverlay-t2"),I.postCountMetric("desktopCollapsibleThumbnailShowT2")))}}function h(b){L.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===b.type&&L.updateThumbnailHoverDelay(b.$target)}
var B,t,O,K,l;return function(b,g,m){B=this;t=b;O=g;K=m;l=f("#imageBlock #altImages ul");var c=f("#imageBlock .canvas"),e=f("#main-image-container"),a;B.subViews=[];for(g=0;g<Q.length;g++)B.subViews.push(new Q[g](b,m,B,O));B.render=function(b,g,h,m){var n=0;t.twisterInteractionSimplificationEnabled&&"swatchClick"===m||l.find(".item").remove();b=b||K.getCurrentItem().color;f.each(B.subViews,function(a,d){n=(t.twisterInteractionSimplificationEnabled||2===t.unrolledImageBlockTreatment||3===t.unrolledImageBlockTreatment?
d.render(b,n,c,l,e,g,h,m):d.render(b,n,c,l,e,g,h))||n});"T1"!==t.desktopCollapsibleThumbnailsExperience&&"T2"!==t.desktopCollapsibleThumbnailsExperience||d();var p=l.find(".a-button-selected").closest(".a-declarative");a=k(p)};B.init=function(){l=f("#imageBlock #altImages ul");var a=l.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=t.landingAsinColor||t.defaultColor;O.dispatch("updateModel",{data:a});B.render(a.color,!0);t.isDebug&&r.console&&console.log(t);
O.register("updateView",x);O.register("selectThumbnail",E);J()};B.update=function(b){h(b);f.each(B.subViews,function(a,c){c.update(b)});t.usePeekHover&&("mouseleave"===b.type?O.dispatch("updateSelection",a):"click"===b.type&&(a=N(b)||a))}}}b=["A","jQuery","imageBlockUtils","postMetric"].concat(g.views);H.when.apply(H,b).register("ImageBlockView",function(){for(var b=arguments[0],g=arguments[1],r=arguments[2],I=arguments[3],H=[],n=4,R=arguments.length;n<R;n++)H.push(arguments[n]);return f(b,g,r,I,
H)})})});
/* ******** */
(function(H){var D=window.AmazonUIPageJS||window.P,ia=D._namespace||D.attributeErrors,h=ia?ia("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):D;h.guardFatal?h.guardFatal(H)(h,window):h.execute(function(){H(h,window)})})(function(H,D,ia){H.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(h,a,c,u,m){function y(d,b){var n=a(d+" image").attr("data");a(d+" image")[0].setAttribute("href",
n);d=new Image;d.src=n;d.onload=function(){b(this.width/this.height)}}function q(d){null!==a(d.euclidSvg)&&(new Promise(function(b,a){y(d.euclidSvg,b)})).then(function(b){if(null===a(d.featureDiv)||0===a(d.featureDiv).length||0>=b)var n=null;else{var f=a(d.featureDiv).width(),c=a(d.featureDiv).height(),k=2*(16+x(d.euclidHeightText,d.numberSpace)+10),g=f-k,t=a(d.euclidHeightLine).data("euclid-height-startx");0>t?k+=g*Math.abs(t)*2:1<t&&(k+=g*(t-1)*2);g=f-k;0>g&&(k=152);var h=a(d.euclidWidthLine).data("euclid-width-starty"),
l=1<h?c*(h-1)+50:50,r=c-l;if(g/r>b)var S=r*b,w=r,W=r*b+k,la=c;else S=g,w=g/b,W=f,la=g/b+l;n={imageWidth:S,imageHeight:w,svgWidth:W,svgHeight:la}}if("undefined"===typeof n||null===n||10>=n.imageWidth||10>=n.imageHeight||10>=n.svgWidth||10>=n.svgHeight)m.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var G=n,v=d.euclidSvg;a(v+" image").attr("width",G.imageWidth);a(v+" image").attr("height",G.imageHeight);a(v).attr("width",G.svgWidth);a(v).attr("height",G.svgHeight);var B=(G.svgWidth-G.imageWidth)/
2;a(v+" image")[0].setAttribute("x",B);a(v+" image")[0].setAttribute("y",10);var u=G.imageWidth,q=G.imageHeight,p=(G.svgWidth-G.imageWidth)/2,Q=a(d.euclidLengthLine).data("euclid-length-startx")*u,F=a(d.euclidLengthLine).data("euclid-length-starty")*q,C=a(d.euclidLengthLine).data("euclid-length-endx")*u,U=a(d.euclidLengthLine).data("euclid-length-endy")*q,E=a(d.euclidWidthLine).data("euclid-width-startx")*u,y=a(d.euclidWidthLine).data("euclid-width-starty")*q,A=a(d.euclidWidthLine).data("euclid-width-endx")*
u,Z=a(d.euclidWidthLine).data("euclid-width-endy")*q,J=a(d.euclidHeightLine).data("euclid-height-startx")*u,K=a(d.euclidHeightLine).data("euclid-height-starty")*q,M=a(d.euclidHeightLine).data("euclid-height-endx")*u,N=a(d.euclidHeightLine).data("euclid-height-endy")*q,va=(Z-y)/(A-E),hb=0>=va?"leftInclined":"rightInclined",Ra=1/va,ma=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Ra,2)))),oa=0===ma?16:Math.abs(Ra*ma),qa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Ra,2)))),sa=0===qa?3:Math.abs(Ra*qa),
D=(U-F)/(C-Q),T=1/D,z=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(T,2)))),O=0===z?16:Math.abs(T*z),L=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(T,2)))),R=0===L?3:Math.abs(T*L),ca=0>=D?"leftInclined":"rightInclined";if(.5<a(d.euclidHeightLine).data("euclid-height-startx")){var X=J+p+16,Y=K+10,aa=M+p+16,ea=N+10,pa=J+p+16-3,na=K+10,ia=J+p+16+3,ib=K+10,jb=M+p+16-3,kb=N+10,lb=M+p+16+3,mb=N+10,nb=(X+aa)/2+5,ob=(Y+ea)/2+8,Aa=A+p+ma,Ba=Z+oa+10,Ca=E+p+ma,Da=y+oa+10,pb=A+p+ma-qa,qb=Z+oa-sa+10,rb=A+p+ma+
qa,sb=Z+oa+sa+10,tb=E+p+ma-qa,ub=y+oa-sa+10,vb=E+p+ma+qa,wb=y+oa+sa+10;if("leftInclined"===hb){var Sa=(Aa+Ca)/2;var Ta=(Ba+Da)/2+15}else Sa=(Aa+Ca)/2+5,Ta=(Ba+Da)/2;var Ea=Q+p-z,Fa=F+O+10,Ga=C+p-z,Ha=U+O+10,xb=Q+p-z-L,yb=F+O+R+10,zb=Q+p-z+L,Ab=F+O-R+10,Bb=C+p-z-L,Cb=U+O+R+10,Db=C+p-z+L,Eb=U+O-R+10,Hb=x(d.euclidLengthText,d.numberSpace);if("leftInclined"===ca)var Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15;else Ua=(Ea+Ga)/2-Hb,Va=(Fa+Ha)/2+15}else{X=J+p-16;Y=K+10;aa=M+p-16;ea=N+10;pa=J+p-16-3;na=K+10;ia=J+p-16+3;
ib=K+10;jb=M+p-16-3;kb=N+10;lb=M+p-16+3;mb=N+10;var Ib=x(d.euclidHeightText,d.numberSpace);nb=(X+aa)/2-Ib-3;ob=(Y+ea)/2+8;Aa=A+p-ma;Ba=Z+oa+10;Ca=E+p-ma;Da=y+oa+10;pb=A+p-ma-qa;qb=Z+oa+sa+10;rb=A+p-ma+qa;sb=Z+oa-sa+10;tb=E+p-ma-qa;ub=y+oa+sa+10;vb=E+p-ma+qa;wb=y+oa-sa+10;var Fb=x(d.euclidWidthText,d.numberSpace);"leftInclined"===hb?(Sa=(Aa+Ca)/2-Fb,Ta=(Ba+Da)/2):(Sa=(Aa+Ca)/2-Fb,Ta=(Ba+Da)/2+15);Ea=Q+p+z;Fa=F+O+10;Ga=C+p+z;Ha=U+O+10;xb=Q+p+z+L;yb=F+O+R+10;zb=Q+p+z-L;Ab=F+O-R+10;Bb=C+p+z+L;Cb=U+O+
R+10;Db=C+p+z-L;Eb=U+O-R+10;"leftInclined"===ca?(Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15):(Ua=(Ea+Ga)/2+15,Va=(Fa+Ha)/2)}var Jb=Ea;var Kb=Fa;var Lb=Ga;var Mb=Ha;var Nb=xb;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Db;var Ub=Eb;var Vb=Ua;var Wb=Va;var Xb=Aa;var Yb=Ba;var Zb=Ca;var $b=Da;var ac=pb;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=vb;var hc=wb;var ic=Sa;var jc=Ta;var kc=X;var lc=Y;var mc=aa;var nc=ea;var oc=pa;var pc=na;var qc=ia;var rc=ib;var sc=jb;var tc=kb;var uc=lb;var vc=
mb;var wc=nb;var xc=ob;fa(v+" .hit-pd-euclid-height-line",kc,lc,mc,nc);fa(v+" .hit-pd-euclid-height-start",oc,pc,qc,rc);fa(v+" .hit-pd-euclid-height-end",sc,tc,uc,vc);H(v+" .hit-pd-euclid-height-text",wc,xc);fa(v+" .hit-pd-euclid-width-line",Xb,Yb,Zb,$b);fa(v+" .hit-pd-euclid-width-start",ac,bc,cc,dc);fa(v+" .hit-pd-euclid-width-end",ec,fc,gc,hc);H(v+" .hit-pd-euclid-width-text",ic,jc);fa(v+" .hit-pd-euclid-length-line",Jb,Kb,Lb,Mb);fa(v+" .hit-pd-euclid-length-start",Nb,Ob,Pb,Qb);fa(v+" .hit-pd-euclid-length-end",
Rb,Sb,Tb,Ub);H(v+" .hit-pd-euclid-length-text",Vb,Wb);P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(d===ha&&"dimension-ingress-image"===I.getCurrentItem().type?(V(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),m.postTimeMetric("dppc_loadDimensionHeroTime",Date.now()-
ja)):d===da&&(a("ivDimensionTab").css("display","block"),e(a("#iv-euclid"),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),m.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-ka)))}});P("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&z(d===ha,I.getCurrentItem(),null)}function x(d,b){return a(d).text().replace(/[^0-9]/g,"").length*b+5}function fa(d,b,n,f,c){d=a(d)[0];d!==ia&&null!==d&&(d.setAttribute("x1",b),d.setAttribute("y1",
n),d.setAttribute("x2",f),d.setAttribute("y2",c))}function H(d,b,n){var f=a(d)[0];f!==ia&&null!==f&&(f.setAttribute("x",b),f.setAttribute("y",n),d=a(d+" tspan"),d!==ia&&null!==d&&2===d.length&&(d[0].setAttribute("x",b),d[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),d[1].setAttribute("x",b),d[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function T(d){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length){d=
W(d.color);if(null===d)return;if(d in Q)P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&Q[d].clone().appendTo(a("#imageBlock #main-image-container"));else{var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),Q[d]=b):L(d)}}q(ha)}}
function L(d){try{setTimeout(function(){Z++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(d in Q||(Q[d]=b),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),q(ha)):100>
Z&&L(d)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+b)}}function P(d){return"true"===a(d).attr("data-should-use-in-hero")}function z(d,b,n){var f=r.colorImages[b.color],c=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");c&&0<c.length?(f=D(f),aa(f,d,b,n)):M(f,d,b,n)}function M(d,b,n,f){try{setTimeout(function(){U++;var c=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");
c&&0<c.length?(c=D(d),aa(c,b,n,f)):100>U?M(d,b,n,f):(m.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),c=d[0],aa(c,b,n,f))},100)}catch(ba){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+ba)}}function D(d){for(var b=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),n=d[0],f=0;f<d.length;f++){var c=d[f];c.variant===b&&(n=c)}n===d[0]&&m.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");
return n}function aa(d,b,f,g){b?((b=R.find(".item.dimensionItemNo"+f.thumbnailIndex))&&b.remove(),b=f.thumbnailIndex,g=N(d,g),f=R.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),f.addClass("image item dimensionItemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1}),f.find(".placeHolder").replaceWith(g),f.find(".a-declarative").attr("data-action",
"dimension-hero-click"),R.find(".list").append(f),h.loadImageManually(g),g=b=f,f=X.css("height"),null!==f&&g.find(".imgTagWrapper").css("height",f),g.addClass("selected"),r.imgTagWrapperClasses&&g.find(".imgTagWrapper").addClass(r.imgTagWrapperClasses),J.dispatch("loadMagnifier"),g=b,r.useIV&&c.isDefined(d.hiRes)&&g.css("cursor","pointer"),h.trigger("dp:image-block:update",d)):(K(d),e(a("#iv-seller"),a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function K(d){var b=a("#ivDimensionTab #ivLargeDimensions");
if(0<b.find(".imgTagWrapper").length){var f=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return Y(b,f)}f=a("\x3cdiv\x3e\x3c/div\x3e");f.addClass("imgTagWrapper");var c=a("\x3cimg\x3e");f.html(c);b.append(f);f=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");f.attr("src",d.hiRes);return Y(b,f)}function Y(a,b){a=a.closest("#ivStageDimensions");var d=a.width();a={height:"auto","max-height":a.height(),"max-width":d,"text-align":"center"};b.css(a);b=b.closest(".imgTagWrapper");
b.css(a);return b}function N(d,b){var f="a-dynamic-image";if(!r.acEnabled){var g;a.each(d.main,function(b,a){c.isDefined(g)||(g=parseFloat(a[1]/a[0])<=parseFloat(r.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});f+=g}var k=c.getMaxDimensionsOfMainImage(d.main,X,r),e=k[0],t=k[1];k=a("\x3cdiv\x3e\x3c/div\x3e");e={"max-height":e,"max-width":t};k.addClass(f).css(e).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",d.main);return k}function A(){var d=
'\x3ca href\x3d"#"\x3e'+r.staticStrings.clickForFullView+"\x3c/a\x3e";a("#image-canvas-caption #canvasCaption").html(d);d=a("#image-canvas-caption #canvasCaption a");h.declarative.create(d,"dimension-hero-click")}function W(a){var b=r.colorToAsin[a];return b&&b.asin?a=r.colorToAsin[a].asin:a=r.mediaAsin?r.mediaAsin:null}function w(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
-1)}function V(){null!==a(ha.euclidSvg)&&0!==a(ha.euclidSvg).length?(a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)):z(ha,I.getCurrentItem(),null)}function C(a,b){r.usePeekHover&&"click"!==b.type||c.selectGivenThumbnail(b.$declarativeParent,a)}function B(a){a.action="dimensionIngressClick";a.data=ea;J.dispatch("dimensionIngressClick",a)}function E(){ka=Date.now();
if(f&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var d=W(I.getCurrentItem().color);if(null!==d){a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");var b=a("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",b);d in Q?Q[d].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),b.length?(b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),
Q[d]=b):v(d));u.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,r);u.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));O();f=!1}d=a("#iv-tab-view-container").find("#ivThumbsDimensions");d.find(".ivRow").not(".placeholder").remove();b=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d);var c=0<a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,
g=0<a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(c){if(!a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var k=r.colorImages[I.getCurrentItem().color];k=D(k);K(k);a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}t(d,b,k.thumb,a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),
"iv-seller")}g&&(k=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),t(d,b,k,a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}l()}function l(){la=a("#ivDimensionTab").height();if(0!==la){u.detachImmersiveViewResizeHandler(E);var d=a("#ivDimensionTab #ivMainDimensions"),b=a("#ivDimensionTab").height(),f=a("#ivDimensionTab").width();d.css("height",b);d.css("width",f);f=d.find("#ivTitleDimensions").outerHeight(!0);
var c=d.find("#ivVariationSelectionDimensions").outerHeight(!0),g=d.find("#ivThumbsDimensions"),k=u.getDimension(g,"margin-top")+u.getDimension(g,"margin-bottom");g.css("height",b-f-c-k);f=d.find("#ivStageDimensions");d=(d[0]&&d[0].getBoundingClientRect&&Math.floor(d[0].getBoundingClientRect().width)||d.width())-u.getDimension(d,"padding-left")-u.getDimension(d,"padding-right")-d.find("#ivThumbColumnDimensions").width()-u.getDimension(f,"margin-left")-u.getDimension(f,"margin-right");f.css("width",
d);f.css("height",b);q(da)}}function t(a,b,f,c,g){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:g}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+u.getResizedThumbnailURL(f)+'") center no-repeat');c.hasClass("aok-hidden")||a.addClass("selected");S(a,c)}function S(a,b){a.click(function(){e(a,b)})}function e(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&Y(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");
b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function v(f){try{setTimeout(function(){k++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(f in Q||(Q[f]=b),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),l()):100>k&&v(f)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+
b)}}function F(f,b){g&&clearTimeout(g);"mouseenter"===b.type&&(g=setTimeout(function(){T(f);a("#image-canvas-caption #canvasCaption").empty();A();C(ca,b)},c.getHoveringDelayTimer()));"mouseleave"===b.type&&A()}var p,r,I,J,ca,R,X,ea,f=!0,ja,ka,g,G,Q={},Z=0,k=0,U=0,la,ha={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},da={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},O=h.once(function(){u.attachImmersiveViewResizeHandler(E)});h.on.resize(function(){P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
q(ha)});return function(d,b,g,e){p=this;r=d;I=b;J=e;d=r.mediaAsin;b=[];r&&r.dimensionIngressAtfData&&r.dimensionIngressAtfData.initial&&(b=r.dimensionIngressAtfData.initial.dimensionVariantList);c.setDimensionIngressData(d,r.dimensionIngressEnabled,b);p.render=function(b,d,g,e,n,t,h,l){ca=e;R=2!==r.unrolledImageBlockTreatment&&3!==r.unrolledImageBlockTreatment?g:a(".unrolledScrollBox");X=n;f=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();
a("#ivDimensionTab #ivLargeDimensions").empty();k=Z=0;g=W(I.getCurrentItem().color);if(null!==g){if(c.isDimensionIngressEnabled(g)&&(!r.twisterInteractionSimplificationEnabled||"swatchClick"!==l)&&r.dimensionIngressThumbURL&&r.dimensionIngressThumbURL.initial&&r.dimensionIngressThumbURL.initial.length){l=c.getDimensionVariantList(g);if(l.includes("DIMN")||l.includes("DCMN"))Array.isArray(l)||(l=JSON.parse(l.replace(/(\w+)/g,'"$1"'))),l.push("DIMN"),l.push("DCMN");if(l&&0<l.length)for(g=r.colorImages[b],
n=e.find(".item.imageThumbnail"),t=0;t<n.length&&t<r.maxAlts-1;t++)if(h=g[t].variant,"MAIN"!=h&&l.includes(h)&&(h=n.eq(t)))h.remove(),d--;d===r.maxAlts&&(e.find(".item.imageThumbnail").last().remove(),d--);ea={type:"dimension-ingress-image",index:0,thumbnailIndex:d,variant:"Main"};c.createThumbnail(ea,r.dimensionIngressThumbURL.initial,e,"dimension-ingress-imageblock-thumbnail");e=r.dimensionIngressAtfData.initial.thumbnailCaption;e=a("\x3cspan /\x3e").html(e);e.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");
e.attr("id","dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(e);d++;a("#ivDimensionTabHeading").removeClass("aok-hidden");W(b)!==r.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return d}a("#ivDimensionTabHeading").addClass("aok-hidden")}};p.update=function(b){var f=b.data;
I.setCurrentEvent(b);"dimension-ingress-image"===f.type?(f.interaction=b.type,f.isUserGenerated=!0,"mouseenter"===b.type&&(ja=Date.now(),m.postCountMetric("dpcc_dimensionIngressHovered")),c.isImageBlockGridViewHoverDelayEnabled()?F(f,b):(T(f),a("#image-canvas-caption #canvasCaption").empty(),A(),C(ca,b)),"click"===b.type&&c.useTabbedImmersiveView(r)&&(B(b),m.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===b.type?f.color===I.getCurrentItem().color&&"dimension-ingress-image"===I.getCurrentItem().type?
V():w():c.isImageBlockGridViewHoverDelayEnabled()?(I.setToPreviousItem(),"mouseenter"===b.type&&(G&&clearTimeout(G),G=setTimeout(function(){I.setToCurrentItem(f);w()},c.getHoveringDelayTimer())),"mouseleave"===b.type&&G&&clearTimeout(G),"click"===b.type&&(I.setToCurrentItem(f),w())):w()};u.attachTabSelectHandler("ivDimensionTab",E);h.declarative("dimension-hero-click",["click"],B)}});"use strict";H.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",
function(h,a,c,u,m){var y,q,x;function fa(){m.populateTitle(l.find("#ivTitle"),160,B)}function D(){var a=E.getCurrentItem().color;S=B.colorImages[a];t=B.heroImage[a];e=v=0;c.isDefined(t)&&(e=t.length);c.isDefined(S)&&(v=S.length)}function T(a){return a.hiRes||a.large||a.main[a.main.length-1]}function L(){var a=l.find("#ivStage").find("#ivLargeImage"),c=a.width(),e=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var t=g.width(),h=g.height();0<g.length&&(g[0].naturalWidth&&(t=g[0].naturalWidth),
g[0].naturalHeight&&(h=g[0].naturalHeight));a.css("cursor","auto");t=0===t?1:t;h=0===h?1:h;var r=Math.min(c/t,e/h),k=h*r,m=t*r;1>r?(p?a.css("cursor","url('"+B.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),J=!0):J=!1;t=Math.min(m,t);h=Math.min(k-20,h);g.css({"margin-top":(e-h)/2,"margin-left":(c-t)/2,height:h,width:t});a.css("visibility","visible");I=!1}function P(a){var f=l.find("#ivLargeImage"),c=l.find("#ivZoom");f.css("visibility",
"hidden");f.empty();m.animateStageIn(f);f.append(a);L();J?(h.show(c),N("zoomOut")):h.hide(c)}function z(f){l.find("#ivLargeImage").css("display","none");l.find("#ivLargeImage").css("display","block");var e;"hero-image"===f?c.isDefined(t)&&(e=T(t[F.index])):c.isDefined(S)&&(e=T(S[F.index]));if(c.isDefined(e)){l.find(".fullscreen").remove();var p=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),g=l.find("#ivLargeImage");m.animateStageOut(g,function(){p.load(function(){P(p);h.trigger("dp:image-block:imageBlockImmersiveImageLoad",
F.index)});if(p[0].complete)P(p),h.trigger("dp:image-block:imageBlockImmersiveImageLoad",F.index);else{g.empty();var f=(g.height()-104)/2,c=(g.width()-80)/2;a("\x3cimg\x3e").attr("src",B.staticImages.spinner).css({position:"relative",top:f+"px",left:c+"px"}).appendTo(g)}})}}function M(a){l.find(".ivThumb").removeClass("selected").attr("aria-pressed","false");a.addClass("selected").attr("aria-pressed","true");a.hasClass("ivHeroImage")?F.type="hero-image":F.type="image";F.index=a.attr("id").split("_")[1];
z(F.type);u.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(F.index,10)+1)+"_"+(e+v))}function H(){l.delegate(".ivThumb","click keydown",function(f){var c=a(this);if("click"===f.type||"keydown"===f.type&&(13===f.keyCode||13===f.key||32===f.keyCode||32===f.key))f.preventDefault(),M(c)})}function aa(){if(J){var a=l.find("#ivLargeImage"),c=a.find(".fullscreen");p?a.css("cursor","url('"+B.staticImages.zoomOut+"'), auto"):(a.css("cursor","-webkit-zoom-out"),a.css("cursor","-moz-zoom-out"),a.css("cursor",
"zoom-out"));I=!0;var e=l.find("#ivLargeImage");q=e.width()-c.width();x=e.height()-c.height();e=a.height()/2;var g=a.width()/2;X=[a.offset().left+g,a.offset().top+e];y=e-c.height()/2;ca=g-c.width()/2;c.css({position:"relative",left:ca,top:y});R=Math.max(c.height()/a.height(),c.width()/a.width())}}function K(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function Y(a){var c=y-(a.pageY-X[1])*R;a=K(ca-(a.pageX-X[0])*R,q);c=K(c,x);l.find(".fullscreen").css({left:a,top:c})}function N(a){var c=l.find("#ivZoomIn"),
f=l.find("#ivZoomOut");if("zoomIn"===a)a=c,c=f;else if("zoomOut"===a)a=f;else return;a.addClass("disabled").attr({"aria-disabled":"true",tabindex:"-1"});c.removeClass("disabled").attr({"aria-disabled":"false",tabindex:"0"})}function A(){h.declarative("iv-zoomOut",["click","keydown"],function(a){a=a.$event;var c=l.find("#ivZoomIn");!J||"click"!==a.type&&("keydown"!==a.type||13!==a.keyCode&&32!==a.keyCode)||(L(),c.focus(),N("zoomOut"))});h.declarative("iv-zoomIn",["click","keydown"],function(a){a=a.$event;
if(J&&("click"===a.type||"keydown"===a.type&&(13===a.keyCode||32===a.keyCode))){a=l.find(".fullscreen");var c=l.find("#ivLargeImage");a.removeAttr("style");aa();c.attr("tabindex","-1");c.focus();N("zoomIn")}});h.declarative("iv-largeImage",["keydown"],function(a){if(I)a:{var c=l.find("#ivLargeImage"),f=l.find(".fullscreen"),g=parseInt(f.css("left"))||0,e=parseInt(f.css("top"))||0,t=l.find("#ivZoomOut"),h=a.$event,k=g;a=e;h.preventDefault();switch(h.keyCode){case 38:a=Math.min(e+30,0);break;case 40:a=
Math.max(e-30,c.height()-f.height());break;case 37:k=Math.min(g+30,0);break;case 39:k=Math.max(g-30,c.width()-f.width());break;default:c.removeAttr("tabindex");t.focus();break a}c=K(k,q);g=K(a,x);f.css({left:c,top:g})}})}function W(){l.delegate("#ivLargeImage","click",function(a){I?(L(),N("zoomOut")):J&&(l.find(".fullscreen").removeAttr("style"),aa(),Y(a),u.postCountMetric("dpcc_iv_largeImageCLick"),N("zoomIn"))});l.delegate("#ivLargeImage","mousemove",function(a){I&&Y(a)});A()}function w(){l.find("#ivLargeImage").empty()}
function V(f){if(r){l=a("#ivMain");D();F=E.getCurrentItem();fa();m.populateVariationSelection(l.find("#ivVariationSelection"));f=l.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();var h=e+v,p=!1;B&&B.dimensionIngressAtfData&&B.dimensionIngressAtfData.initial&&(p=B.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var g=0,w=0;g<h;)for(var W=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),u=0;4>u&&g<h;u++,g++,w++)if(w<e){var k=t[g].thumb,
q=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+g,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":g+1}).appendTo(W);q.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(k)+'") center no-repeat')}else if(w>=e&&w<v+e){k=B.colorToAsin[E.getCurrentItem().color].asin;k||(k=B.mediaAsin);if((q=c.isDimensionIngressEnabled(k))&&
p){if((k=c.getDimensionVariantList(k))&&k.includes(S[g-e].variant)){u--;continue}}else if(q&&"DIMN"===S[g-e].variant){u--;continue}k=S[g-e].thumb;q=B.staticStrings.ivImageThumbnailLabelAnnounce.replace("###ivImageThumbnailIndex",g-e+1);q=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(g-e),"aria-label":q,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":g-e+1}).appendTo(W);
q.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(k)+'") center no-repeat')}ea();r=!1}else fa();f=a("#ivImagesTab").height();l.css("height",f);h=l.find("#ivTitle").outerHeight(!0);p=l.find("#ivVariationSelection").outerHeight(!0);g=l.find("#ivThumbs");w=m.getDimension(g,"margin-top")+m.getDimension(g,"margin-bottom");g.css("height",f-h-p-w);l.find("#ivLargeImage").css("height",f);f=l.find("#ivStage");h=l[0]&&l[0].getBoundingClientRect&&Math.floor(l[0].getBoundingClientRect().width)||
l.width();f.css("width",h-m.getDimension(l,"padding-left")-m.getDimension(l,"padding-right")-l.find("#ivThumbColumn").width()-m.getDimension(f,"margin-left")-m.getDimension(f,"margin-right"));F=E.getCurrentItem();f="hero-image"===F.type?l.find("#ivHeroImage_"+F.index):"image"===F.type?l.find("#ivImage_"+F.index):c.isDefined(t)?l.find("#ivHeroImage_"+F.index):l.find("#ivImage_"+F.index);c.isjQueryObjDefined(f)||(f=l.find("#ivImage_0"));M(f)}var C,B,E,l,t,S,e,v,F,p=navigator.userAgent.match(/msie|trident/i),
r=!0,I=!1,J=!1;var ca=y=x=q=void 0;var R,X;r=!0;var ea=h.once(function(){H();W();m.attachImmersiveViewResizeHandler(V);m.attachTabDeselectHandler("ivImagesTab",w)});return function(c,h,t,g){C=this;B=c;E=h;C.render=function(c,g,f,k,h,t){r=!0;D();0===e+v?m.hideTabHeading("ivImagesTabHeading"):m.unhideTabHeading("ivImagesTabHeading");1===e+v?a("#ivThumbs").hide():a("#ivThumbs").show()};C.update=function(a){};m.attachTabSelectHandler("ivImagesTab",V)}});"use strict";H.when("A","jQuery","imageBlockUtils",
"postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(h,a,c,u,m,y,q){function x(){var c=z.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),m=c.find(".a-popover-inner");c=c.height()-q.getDimension(m,"padding-top")-q.getDimension(m,"padding-bottom");a("#iv-tab-view-container").css("height",c);aa=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;
1<aa?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),m=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=m):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",c);h.trigger("dp:image-block:immersive-view:resize")}function fa(){h.trigger("dp:image-block:immersive-view:reset")}function pa(a){a.find("a").focus()}function T(q){if(c.isImmersiveViewEnabled(P,z.getCurrentItem().color))if(Y){var w=q.$event.originalEvent;
w.acknowledge&&w.acknowledge(q.$currentTarget[0]);m.isEnabled&&y.logImmersiveViewRequestServed(m);u.postCountMetric("dppc_immersiveViewOpened");c.isDefined(q)&&("button-360-click"===q.action?a("#iv360TabHeading").click():"videoIngressClick"===q.action?(K=q.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===q.action?(K=q.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===q.action?(K=q.clickTimeStamp,a("#ivDimensionTabHeading").click()):a("#ivImagesTabHeading").click());
w=z.getImmersiveViewModalInstance();if(c.isDefined(w))w.show();else{q=a("#auiImmersiveViewDiv");w=Math.min(Math.max(a(D).height()-150,540),1080);var x=Math.min(Math.max(a(D).width()-75,990),1980);w=Y.create(q,{name:"immersiveView",activate:"onclick",width:x,height:w,popoverLabel:"ImmersiveView",hideHeader:!0});z.setImmersiveViewModalInstance(w);q.click()}na&&(na=!1,N(),h.trigger("dp:image-block:immersive-view:init"))}else D.performance&&performance.now&&D.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",
(ue.count("DPIBClickFailedInteractionCount")||0)+1);else u.postCountMetric("immersiveViewNotExistsClickCount")}var L,P,z,M,na=!0,aa=0,K,Y;H.when("a-modal").execute(function(a){Y=a});var N=h.once(function(){h.on("a:popover:afterUpdatePosition:immersiveView",x);h.on("a:popover:afterShow:immersiveView",x);h.on("a:popover:afterHide:immersiveView",fa)}),A=h.once(function(){var c=a("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",function(m){var q=c.filter(".iv-active");q.attr("id")!==a(this).attr("id")&&
h.trigger("dp:ivTabs:"+q.find("a").attr("data-iv-tab-view")+":deselect",m);c.removeClass("iv-active").attr("aria-selected","false").find("a").attr("tabindex","-1");a(this).addClass("iv-active").attr("aria-selected","true").find("a").attr("tabindex","0");a("#iv-tab-view-container .iv-tab-content").hide();q=a(this).find("a").attr("data-iv-tab-view");a("#"+q).show();"ivVideosTab"===q&&(m.clickTimeStamp=K||m.timeStamp);h.trigger("dp:ivTabs:"+q+":select",m);u.postCountMetric("dppc_"+q);return!1});c.bind("keydown",
function(h){var q=a(this),m=c.filter(":visible"),u=m.index(q),w=m.length-1;switch(h.keyCode){case 37:h.preventDefault();0<u?pa(m.eq(u-1)):pa(m.eq(w));break;case 39:h.preventDefault();u<w?pa(m.eq(u+1)):pa(m.eq(0));break;case 13:case 32:h.preventDefault(),q.find("a")[0].click()}})});return function(a,q,x,y){L=this;P=a;z=q;m.refToModel=z;M=y;L.render=function(a,c,h,t,m,e){u.postCountMetric("dpcc_altThumbs_"+c);na=!0};L.update=function(a){};L.getTitle=function(){};L.getVariationSelectionInfo=function(){};
A();c.isImmersiveViewEnabled(P,z.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");M.register("imageClick",T);M.register("button360Click",T);(P.collapsibleThumbnails||P.desktopCollapsibleThumbnails||"T1"===P.desktopCollapsibleThumbnailsExperience||"T2"===P.desktopCollapsibleThumbnailsExperience)&&h.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&(T(a),(P.collapsibleThumbnails||P.desktopCollapsibleThumbnails)&&u.postCountMetric("collapsibleThumbnailImmersiveViewClick"),
"T1"===P.desktopCollapsibleThumbnailsExperience?u.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT1"):"T2"===P.desktopCollapsibleThumbnailsExperience&&u.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT2"))});c.useTabbedImmersiveView(P)&&(M.register("videoIngressClick",T),M.register("showroomIngressClick",T),M.register("dimensionIngressClick",T),M.register("captionClick",T))}});"use strict";H.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(h,a,c,u,m,y,q,x){function fa(a){return a.hiRes||a.large||a.main[a.main.length-1]}function pa(){k.find("#ivTitle").click(function(){Z.hide()})}function T(){n=fb?{type:"360-spin"}:G.getCurrentItem()}function L(){var a=k.find("#ivStage"),b=Z.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner");b=b.height()-x.getDimension(c,"padding-top")-x.getDimension(c,"padding-bottom");k.css("height",b);c=k.find("#ivTitle").outerHeight(!0);
var d=k.find("#ivVariationSelection").outerHeight(!0),g=k.find("#ivMediaSelection").outerHeight(!0),e=k.find("#ivThumbs"),f=x.getDimension(e,"margin-top")+x.getDimension(e,"margin-bottom");e.css("height",b-c-d-g-f);k.find("#ivLargeImage").css("height",b);a.css("width",k.width()-x.getDimension(k,"padding-left")-x.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-x.getDimension(a,"margin-left")-x.getDimension(a,"margin-right"))}function P(){k.find("#ivMediaSelect").change(function(){var b=
a(this).val();"all"===b?(k.find("#ivVideoList").hide(),k.find("#ivThumbs").show(),k.find(".ivThumbVideo").show(),"chromeful-video"===n.type&&k.find("#ivVideo_"+n.index).click()):"images"===b?(k.find("#ivVideoList").hide(),k.find("#ivThumbs").show(),k.find(".ivThumbVideo").hide(),"chromeful-video"===n.type&&(0===O&&0===da?k.find("#iv360").click():0===O?k.find("#ivHeroImage_0").click():k.find("#ivImage_0").click())):"videos"===b&&(k.find("#ivVideoList").show(),k.find("#ivThumbs").hide(),"chromeful-video"!==
n.type?k.find("#ivVideoList_0").click():k.find("#ivVideoList_"+n.index).click())})}function z(){var a=k.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),f=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),d[0].naturalHeight&&(f=d[0].naturalHeight));a.css("cursor","auto");e=0===e?1:e;f=0===f?1:f;var h=Math.min(b/e,c/f),t=f*h,n=e*h;1>h?(gb?a.css("cursor","url('"+g.staticImages.zoomIn+"'), auto"):(a.css("cursor",
"-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Na=!0):Na=!1;e=Math.min(n,e);f=Math.min(t-20,f);d.css({"margin-top":(c-f)/2,"margin-left":(b-e)/2,height:f,width:e});a.css("visibility","visible");Ma=!1}function M(a){var b=k.find("#ivLargeImage");b.css("visibility","hidden");b.empty();x.animateStageIn(b);b.append(a);z()}function na(){db&&db.pause();k.find("#ivLarge360").css("display","none");k.find("#ivLargeVideo").css("display","none");k.find("#ivLargeImage").css("display",
"none");W()}function aa(b){na();k.find("#ivLargeImage").css("display","block");var d;"hero-image"===b?c.isDefined(U)&&(d=fa(U[n.index])):c.isDefined(la)&&(d=fa(la[n.index]));if(c.isDefined(d)){k.find(".fullscreen").remove();var va=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),e=k.find("#ivLargeImage");x.animateStageOut(e,function(){va.load(function(){M(va)});if(va[0].complete)M(va);else{e.empty();var b=(e.height()-104)/2,c=(e.width()-80)/2;a("\x3cimg\x3e").attr("src",g.staticImages.spinner).css({position:"relative",
top:b+"px",left:c+"px"}).appendTo(e)}})}}function K(){var a;c.isDefined(ha)&&(a=ha[n.index]);c.isDefined(a)&&na()}function Y(){T();var a="hero-image"===n.type?k.find("#ivHeroImage_"+n.index):"image"===n.type?k.find("#ivImage_"+n.index):"chromeful-video"===n.type||"chromeless-video"===n.type?k.find("#ivVideo_"+n.index):"360-spin"===n.type?k.find("#iv360"):c.isDefined(U)?k.find("#ivHeroImage_"+n.index):k.find("#ivImage_"+n.index);c.isjQueryObjDefined(a)||(a=k.find("#ivImage_0"));N(a)}function N(a){k.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivThumbVideo")?(n.type="chromeful-video",n.index=a.attr("id").split("_")[1],K()):a.hasClass("ivHeroImage")?(n.type="hero-image",n.index=a.attr("id").split("_")[1],aa(n.type)):a.hasClass("iv360Image")?(n.type="360-spin",n.index=0,A()):(n.type="image",n.index=a.attr("id").split("_")[1],aa(n.type))}function A(){na();k.find("#ivLarge360").css("display","block");E();var a=k.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});x.animateStageIn(a)},
200);V();m.postCountMetric("dppc_click360");za=Date.now()}function W(){0<za&&(w("dppc_duration360",Date.now()-za),za=0)}function w(a,b){D.ue&&D.ue.count(a,b)}function V(){if(0<ta){var a=k.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function C(b,c){if(ta<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*ra+"px",height:wa+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(ta++,1===ta&&(V(),0<za&&w("dppc_loadTime360",
Date.now()-za)),0<$a&&w("dppc_perSpriteloadTime360",Date.now()-$a),k.find("#iv360Spinner").hide(),d.show(),Ja=5*ba.imageLocations[Math.floor(Ia/ba.imageLocations[0].length)][Ia%ba.imageLocations[0].length],C(b,c))};d.attr("src",b[ta].replace(/(\._SP)\d+(,)\d+/,"$1"+ya+"$2"+xa));$a=Date.now()}}function B(a){if(c.isDefined(ba.spriteWidthSizes)&&0<ba.spriteWidthSizes.length){var b=ba.spriteWidthSizes,d=b.length,e=b[0],g=b[d-1];if(a<=e)return e;if(a>g)return g;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+
1]}else return a}function E(){var b=k.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",g.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",
transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ya=!0,l())}function l(){if(c.isDefined(ba.spriteURLs)&&c.isDefined(k)&&Ya&&!Za){var b=k.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(ba.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",ba.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(g.staticStrings.dragToSpin).appendTo(d);
d.appendTo(b);d=ba.imageWidth;var f=ba.imageHeight,h=b.parent().width(),n=b.parent().height(),l=0,m=0;d/f>h/n?(ya=B(h),xa=Math.round(f/d*ya),ra=Math.ceil(h),wa=Math.ceil(xa/ya*h),m=(n-wa)/2):(xa=B(n),ya=Math.round(d/f*xa),wa=Math.ceil(n),ra=Math.ceil(ya/xa*n),l=(h-ra)/2);b.css({"margin-left":l,"margin-top":m,width:ra+"px",height:wa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*ra+"px");C(ba.spriteURLs,k.find("#image-360-sprites"),0);d=k.find("#ivLarge360");
d.bind("mousedown",v);d.bind("touchstart",t);d.bind("touchmove",S);d.bind("touchend",e);a(document).bind("mousemove",F);a(document).bind("mouseup",p);c.isDefined(g.staticImages.grab)&&b.css("cursor","url('"+g.staticImages.grab+"'), auto");Za=!0}}function t(a){La=!0;Xa=a.originalEvent.targetTouches[0].clientX}function S(a){La&&(r(a.originalEvent.targetTouches[0].clientX-Xa),Xa=a.originalEvent.targetTouches[0].clientX)}function e(a){La&&(La=!1)}function v(a){Ka=!0;Wa=a.originalEvent.clientX;c.isDefined(g.staticImages.grabbing)&&
(a=k.find("#ivLarge360"),a.css("cursor","url('"+g.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+g.staticImages.grabbing+"'), auto"));return!1}function F(a){Ka&&(r(a.originalEvent.clientX-Wa),Wa=a.originalEvent.clientX)}function p(a){Ka&&(Ka=!1,c.isDefined(g.staticImages.grab)&&(a=k.find("#ivLarge360"),a.css("cursor","url('"+g.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function r(a){for(a=Ja-=a/ra*180;0>a;)a+=
360;for(;360<a;)a-=360;Ja=a;a=360;for(var b=0;b<ta;b++)for(var d=0;d<ba.imageLocations[b].length;d++){var e=Math.abs(Ja-5*ba.imageLocations[b][d]);if(e<a){a=e;var g=b*ba.imageLocations[0].length+d}}g!==Ia&&(a=Math.floor(g/ba.imageLocations[0].length),a!==Math.floor(Ia/ba.imageLocations[0].length)&&(c.isDefined(ab)||(ab=document.createElement("canvas").getContext("2d")),b=k.find("#image-360-sprites").children(),ab.drawImage(b[a],0,0)),a=k.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),
a.animate({opacity:0},750)));Ia=g;a=g%ba.imageLocations[0].length*-1*ra;g=-1*Math.floor(g/ba.imageLocations[0].length)*wa;b=k.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+g+"px, 0)");b.css("transform","translate3d("+a+"px, "+g+"px, 0)")}function I(){k.delegate(".ivThumb","click",function(){var b=a(this);N(b)});k.delegate(".ivThumbVideoListOuter","click",function(){k.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");
n.type="chromeful-video";n.index=b.attr("id").split("_")[1];K()})}function J(){k.find("#ivLargeImage").empty();W()}function ca(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function R(b){var c=ua.left-(b.pageX-Qa[0])*Pa;h.capabilities.rtl&&(c=ua.left-(a(D).width()-b.pageX-Qa[0])*Pa);b=ua.top-(b.pageY-Qa[1])*Pa;c=ca(c,Oa.left);b=ca(b,Oa.top);k.find(".fullscreen").css({left:c,top:b})}function X(){k.delegate("#ivLargeImage","click",function(a){if(Ma)z();else if(Na){k.find(".fullscreen").removeAttr("style");
if(Na){var b=k.find("#ivLargeImage"),c=b.find(".fullscreen");gb?b.css("cursor","url('"+g.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ma=!0;var d=k.find("#ivLargeImage");Oa.left=d.width()-c.width();Oa.top=d.height()-c.height();d=b.height()/2;var e=b.width()/2;Qa=[b.offset().left+e,b.offset().top+d];ua.top=d-c.height()/2;ua.left=e-c.width()/2;c.css({position:"relative",left:ua.left,top:ua.top});Pa=Math.max(c.height()/
b.height(),c.width()/b.width())}R(a)}});k.delegate("#ivLargeImage","mousemove",function(a){Ma&&R(a)})}function ea(e){if(c.isImmersiveViewEnabled(g,G.getCurrentItem().color))if(cb){var f=e.$event.originalEvent;f.acknowledge&&f.acknowledge(e.$currentTarget[0]);fb=c.isDefined(e)&&"button-360-click"===e.action;y.isEnabled&&q.logImmersiveViewRequestServed(y);m.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(Z))Z.show();else{e=a("#auiImmersiveViewDiv");f=a(D).height()-150;var n=a(D).width()-
75;Z=cb.create(e,{name:"immersiveView",activate:"onclick",width:n,height:f,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(bb){k=a("#ivMain");e=G.getCurrentItem().color;la=g.colorImages[e];U=g.heroImage[e];ha=g.useChildVideos?g.colorToVideo[e]:g.videos;eb=ja()&&g.spin360ColorEnabled[e];ba=ja()?g.spin360ColorData[e]:ia;T();b=da=d=O=0;c.isDefined(U)&&(da=U.length);c.isDefined(la)&&(O=la.length);c.isDefined(ha)&&(d=ha.length);eb&&(b=1);x.populateTitle(k.find("#ivTitle"),45,g);x.populateVariationSelection(k.find("#ivVariationSelection"));
e=k.find("#ivMediaSelect");0===O+b||0===d?(e.parent().hide(),k.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(g.staticStrings.allMedia+" ("+(da+O+b+d)+")").appendTo(e),a("\x3coption/\x3e").attr("value","images").text(g.staticStrings.images+" ("+(da+O+b)+")").appendTo(e),a("\x3coption/\x3e").attr("value","videos").text(g.staticStrings.videos+" ("+d+")").appendTo(e),e.parent().show(),e.val("all"));e=k.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();
f=da+O+d+b;for(var t=n=0;n<f;)for(var l=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),p=0;3>p&&n<f;p++,n++,t++)if(t<da){var r=U[n].thumb,v=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+n).appendTo(l);v.find(".ivThumbImage").css("background",'url("'+x.getResizedThumbnailURL(r)+'") center no-repeat')}else if(t>=da&&t<O+da)r=la[n-da].thumb,v=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(n-da)).appendTo(l),v.find(".ivThumbImage").css("background",'url("'+x.getResizedThumbnailURL(r)+'") center no-repeat');else if(t>=da+O&&t<O+da+b)v=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(l),v.find(".ivThumbImage").css("background",'url("'+(c.isDefined(g.staticImages.icon360)?x.getResizedThumbnailURL(g.staticImages.icon360,!0):"")+'") center no-repeat');else if(r=ha[n-O-da-b],v=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(n-O-da-b)).appendTo(l),v.find(".ivThumbImage").css("background",'url("'+r.thumbUrl+'") center no-repeat'),c.isDefined(r)){var u={position:"triggerTop"},S=k.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");S.find(".ivVideoPopoverTitle").text(r.title);S.find(".ivVideoPopoverDuration").text(r.durationTimestamp);u.inlineContent=S[0];h.declarative.create(v,"a-tooltip",u)}e=k.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();
f=e.find(".placeholder");for(n=0;n<d;n++)t=ha[n],l=f.clone().removeClass("placeholder").appendTo(e),l.attr("id","ivVideoList_"+n),l.find(".ivThumbImage").css("background",'url("'+t.thumbUrl+'") center no-repeat'),l.find(".ivThumbTitle").text(t.title),l.find(".ivThumbDuration").text(t.durationTimestamp);k.find("#ivLarge360").empty();ta=0;bb=Za=Ya=!1;Gb()}}else D.performance&&performance.now&&D.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+
1);else m.postCountMetric("immersiveViewNotExistsClickCount")}function f(a){var b=g.colorToAsin[a],d={},e=500;if(b&&b.asin){d.params={asin:b.asin};var f="360"+b.asin,n=Date.now();d.success=function(b){w("dppc_asyncRequestTime360",Date.now()-n);b&&c.isDefined(b.spin360.spin360Model)?(c.ajaxState(f,"success"),g.spin360ColorData[a]=b.spin360.spin360Model,a===G.getCurrentItem().color&&(ba=g.spin360ColorData[a],l())):d.error()};d.error=function(){m.postCountMetric("dppc_asyncFailed360");w("dppc_asyncRequestTime360",
Date.now()-n);e*=2;16E3>=e?setTimeout(function(){n=Date.now();u.load("/gp/product/features/apparel-main-image/360.html",d)},e):c.ajaxState(f,"fail")};c.ajaxState(f)&&"fail"!==c.ajaxState(f)||(u.load("/gp/product/features/apparel-main-image/360.html",d),c.ajaxState(f,"sent"))}}function ja(){return c.isDefined(g.spin360ConfigEnabled)&&g.spin360ConfigEnabled}var ka,g,G,Q,Z,k,U,la,ha,da,O,d,b,n,db,ba,eb,ra,wa,xa,ya,Wa,Xa,fb=!1,Ya=!1,Za=!1,Ja=0,Ia=0,za=0,$a=0,Ka=!1,La=!1,ta=0,ab,gb=navigator.userAgent.match(/msie|trident/i),
bb=!0,Ma=!1,Na=!1,Oa={},ua={},Pa,Qa,cb;H.when("a-modal").execute(function(a){cb=a});var Gb=h.once(function(){P();I();X();h.on("a:popover:afterUpdatePosition:immersiveView",L);h.on("a:popover:afterShow:immersiveView",Y);h.on("a:popover:afterHide:immersiveView",J);pa()});return function(b,d,e,n){ka=this;g=b;G=d;y.refToModel=G;Q=n;ja()&&(g.spin360ColorData[g.landingAsinColor]=g.spin360ColorData[g.defaultColor],g.spin360ColorEnabled[g.landingAsinColor]=g.spin360ColorEnabled[g.defaultColor]);c.isDefined(g.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",x.addStyleCodeToURL(g.staticImages.icon360,"_FMpng_RI_"));ka.render=function(a,b,d,e,n,k){bb=!0;ja()&&g.spin360ColorEnabled[a]&&!c.isDefined(g.spin360ColorData[a])&&(g.spin360ColorData[a]={},f(a));c.isImmersiveViewEnabled(g,G.getCurrentItem().color)&&ja()&&g.spin360ColorEnabled[a]&&(b===g.maxAlts&&(a=e.find(".item.imageThumbnail"),d=e.find(".item.videoThumbnail"),c.isDefined(d)&&1<d.length?d.last().remove():a.last().remove(),
b--),a=e.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),h.declarative.create(a,"button-360-click"),e.append(a),b++,m.postCountMetric("dppc_display360"));return b};ka.update=function(a){};c.isImmersiveViewEnabled(g,G.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");Q.register("imageClick",ea);Q.register("button360Click",ea);Q.register("captionClick",ea)}});"use strict";H.when("A","jQuery","imageBlockUtils","ImageBlockLoader",
"nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(h,a,c,u,m,y,q,x,D){function fa(){var b=a("#iv360Tab").height();p.css("height",b);var d=p.find("#ivTitle360").outerHeight(!0),c=p.find("#ivVariationSelection360").outerHeight(!0),e=p.find("#ivThumbs360"),f=q.getDimension(e,"margin-top")+q.getDimension(e,"margin-bottom");e.css("height",b-d-c-f);b=p.find("#ivStage360");d=p[0]&&p[0].getBoundingClientRect&&
Math.floor(p[0].getBoundingClientRect().width)||p.width();b.css("width",d-q.getDimension(p,"padding-left")-q.getDimension(p,"padding-right")-p.find("#ivThumbColumn360").width()-q.getDimension(b,"margin-left")-q.getDimension(b,"margin-right"))}function T(){M();var a=p.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});q.animateStageIn(a)},200);L()}function L(){if(0<U){var a=p.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function P(b,d){if(U<
b.length){var c=a("\x3cimg /\x3e").css({display:"block",width:6*I+"px",height:J+"px"});c.hide();d.append(c);c.get(0).onload=function(){d.closest(document.documentElement).length&&(U++,1===U&&(L(),0<G&&(m.time("dppc_loadTime360",Date.now()-G,e.mediaAsin),y.postTimeMetric("dppc_loadTime360",Date.now()-G))),0<Q&&(m.time("dppc_perSpriteloadTime360",Date.now()-Q,e.mediaAsin),y.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-Q)),p.find("#iv360Spinner").hide(),c.show(),ka=5*r.imageLocations[Math.floor(g/
r.imageLocations[0].length)][g%r.imageLocations[0].length],P(b,d))};c.attr("src",b[U].replace(/(\._SP)\d+(,)\d+/,"$1"+R+"$2"+ca));Q=Date.now()}}function z(a){if(c.isDefined(r.spriteWidthSizes)&&0<r.spriteWidthSizes.length){var b=r.spriteWidthSizes,d=b.length,e=b[0],f=b[d-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function M(){var b=p.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),
b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",e.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),f=!0,H())}function H(){if(c.isDefined(r.spriteURLs)&&c.isDefined(p)&&f&&!ja){var b=p.find("#ivLarge360"),
d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(r.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",r.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(e.staticStrings.dragToSpin).appendTo(d);d.appendTo(b);d=r.imageWidth;var g=r.imageHeight,h=b.parent().width(),k=b.parent().height(),t=0,l=0;d/g>h/k?(R=z(h),ca=Math.round(g/
d*R),I=Math.ceil(h),J=Math.ceil(ca/R*h),l=(k-J)/2):(ca=z(k),R=Math.round(d/g*ca),J=Math.ceil(k),I=Math.ceil(R/ca*k),t=(h-I)/2);b.css({"margin-left":t,"margin-top":l,width:I+"px",height:J+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*I+"px");P(r.spriteURLs,p.find("#image-360-sprites"),0);d=p.find("#ivLarge360");d.bind("mousedown",N);d.bind("touchstart",aa);d.bind("touchmove",K);d.bind("touchend",Y);a(document).bind("mousemove",A);a(document).bind("mouseup",
W);c.isDefined(e.staticImages.grab)&&b.css("cursor","url('"+e.staticImages.grab+"'), auto");ja=!0}}function aa(a){k=!0;ea=a.originalEvent.targetTouches[0].clientX}function K(a){k&&(w(a.originalEvent.targetTouches[0].clientX-ea),ea=a.originalEvent.targetTouches[0].clientX)}function Y(a){k&&(k=!1)}function N(a){Z=!0;X=a.originalEvent.clientX;c.isDefined(e.staticImages.grabbing)&&(a=p.find("#ivLarge360"),a.css("cursor","url('"+e.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+e.staticImages.grabbing+"'), auto"));return!1}function A(a){Z&&(w(a.originalEvent.clientX-X),X=a.originalEvent.clientX)}function W(a){Z&&(Z=!1,c.isDefined(e.staticImages.grab)&&(a=p.find("#ivLarge360"),a.css("cursor","url('"+e.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function w(a){ka-=a/I*180;ha&&(m.count("dppc_360dragToSpin",e.mediaAsin),y.postCountMetric("dppc_360dragToSpin"));ha=!1;for(a=ka;0>a;)a+=360;for(;360<a;)a-=360;ka=a;a=360;for(var b=
0;b<U;b++)for(var d=0;d<r.imageLocations[b].length;d++){var f=Math.abs(ka-5*r.imageLocations[b][d]);if(f<a){a=f;var h=b*r.imageLocations[0].length+d}}h!==g&&(a=Math.floor(h/r.imageLocations[0].length),a!==Math.floor(g/r.imageLocations[0].length)&&(c.isDefined(la)||(la=document.createElement("canvas").getContext("2d")),b=p.find("#image-360-sprites").children(),la.drawImage(b[a],0,0)),a=p.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));
g=h;a=h%r.imageLocations[0].length*-1*I;h=-1*Math.floor(h/r.imageLocations[0].length)*J;b=p.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+h+"px, 0)");b.css("transform","translate3d("+a+"px, "+h+"px, 0)")}function V(){if(O){p=a("#ivMain360");var b=v.getCurrentItem().color;B()&&E(b);r=B()?e.spin360ColorData[b]:ia;q.populateTitle(p.find("#ivTitle360"),160,e);q.populateVariationSelection(p.find("#ivVariationSelection360"));p.find("#ivLarge360").empty();
U=0;ja=f=!1;g=ka=0;d();O=!1}0!==a("#iv360Tab").height()&&(q.detachImmersiveViewResizeHandler(V),fa(),T(),G=Date.now(),da=ha=!0,m.count("dppc_click360",e.mediaAsin),y.postCountMetric("dppc_click360"))}function C(a,d,f){a=e.colorToAsin[f];var b={},g=500;if(!a||!a.asin)if(f===e.defaultColor)a={asin:e.winningAsin};else return;b.params={asin:a.asin};var h="360"+a.asin,k=Date.now();b.success=function(a){m.time("dppc_asyncRequestTime360",Date.now()-k,e.mediaAsin);y.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-k);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&x.setData(a),c.ajaxState(h,"success")):b.error()};b.error=function(){m.count("dppc_asyncFailedTransient360",e.mediaAsin);y.postCountMetric("dppc_asyncFailedTransient360");m.time("dppc_asyncRequestTime360",Date.now()-k,e.mediaAsin);y.postTimeMetric("dppc_asyncRequestTime360",Date.now()-k);g*=2;16E3>=g?setTimeout(function(){k=Date.now();u.load("/gp/product/features/apparel-main-image/360.html",b)},g):(m.count("dppc_asyncFailed360",
e.mediaAsin),y.postCountMetric("dppc_asyncFailed360"),c.ajaxState(h,"fail"))};c.ajaxState(h)&&"fail"!==c.ajaxState(h)||(u.load("/gp/product/features/apparel-main-image/360.html",b),c.ajaxState(h,"sent"))}function B(){return e&&c.isDefined(e.spin360ConfigEnabled)&&e.spin360ConfigEnabled}function E(a){return c.isDefinedAndNotEmpty(e.spin360ColorData[a])?!0:c.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled}function l(){da&&(m.time("dppc_duration360",Date.now()-G,e.mediaAsin),y.postTimeMetric("dppc_duration360",
Date.now()-G),da=!1)}function t(a){a=e.colorToAsin[a.color]&&e.colorToAsin[a.color].asin;a||(a=e.mediaAsin);return a}var S,e,v,F,p,r,I,J,ca,R,X,ea,f=!1,ja=!1,ka=0,g=0,G=0,Q=0,Z=!1,k=!1,U=0,la,ha=!0,da=!1,O=!0,d=h.once(function(){q.attachImmersiveViewResizeHandler(V);q.attachImmersiveViewResizeHandler(fa);q.attachImmersiveViewResetHandler(l);q.attachTabDeselectHandler("iv360Tab",l)});return function(b,d,f,g){S=this;e=b;v=d;F=g;b=e.landingAsinColor;d=e.defaultColor;c.isDefined(e.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",q.addStyleCodeToURL(e.staticImages.icon360,"_FMpng_RI_"));B()&&(e.spin360ColorData||(e.spin360ColorData={}),b===d&&c.isDefinedAndEmpty(e.spin360ColorData[d])&&delete e.spin360ColorData[d]);h.on(D.TWISTER_DATA_EVENT,function(a){t(v.getCurrentItem())===a&&(r=x.getData(a),H(),a={type:"updatedData",data:v.getCurrentItem()},F.dispatch("updateView",a))});S.render=function(b,d,f,g,k,l){O=!0;!B()||c.isDefinedAndEmpty(e.spin360ColorData[b])&&
!x.getData(t(v.getCurrentItem()))?q.hideTabHeading("iv360TabHeading"):(e.spin360ColorData[b]=x.getData(t(v.getCurrentItem())),c.isDefinedAndNotEmpty(e.spin360ColorData[b])?(a("#ivThumbs360").hide(),q.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(e,v.getCurrentItem().color)&&B()&&E(b)&&(d===e.maxAlts&&(b=g.find(".item.imageThumbnail"),f=g.find(".item.videoThumbnail"),c.isDefined(f)&&1<f.length?f.last().remove():b.last().remove(),d--),b=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
h.declarative.create(b,"button-360-click"),g.append(b),m.count("dppc_display360",e.mediaAsin),y.postCountMetric("dppc_display360"))):c.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled?(e.spin360ColorData[b]={},q.hideTabHeading("iv360TabHeading"),C(g,d,b)):q.hideTabHeading("iv360TabHeading"))};S.update=function(a){};q.attachTabSelectHandler("iv360Tab",V)}});H.register("nexusLogger360",function(){return{count:function(h,a){D.ue&&D.ue.event({asin:a,metricName:h,metricValue:1},"hit-360",
"hit360.clientEvent.3")},time:function(h,a,c){D.ue&&D.ue.event({asin:c,metricName:h,metricValue:a},"hit-360","hit360.clientEvent.3")}}});H.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});H.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(h,a){var c={};return{setData:function(u){var m=u.asin;c[m]||(c[m]=u,h.trigger(a.TWISTER_DATA_EVENT,m))},getData:function(a){return c[a]}}});"use strict";H.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(h){function a(){this.render=function(){};this.update=function(){}}return function(c,u,m,y){var q=!1,x=new a;H.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==ia&&(q=!0,x=new a(c,u,m,y))});c&&!0===c.showroomEnabled&&!1===q&&h.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return x}});"use strict";H.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(h,a,c,u,m,y,q){function x(){C.delegate(".ivThumb","click",function(){var c=a(this);C.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&(B.type="chromeful-video",B.index=c.attr("id").split("_")[1])})}function H(){if(f){var c=a("#ivVideosTab").height();C.css("height",c);var e=C.find(".vse-lb-container");E=c-m.getDimension(e,"padding-top")-m.getDimension(e,"padding-bottom");e.css({"max-height":c,overflow:"hidden"});if(ca){C.css({"max-width":Math.floor(1.77*
E)});return}c=C.find(".vse-player-container");e=C.find(".vse-video-action-strip");var g=C.find(".vse-lb-video-metadata"),h=Math.floor(E-m.getDimension(g,"height")-m.getDimension(e,"height")),d=Math.floor(1.77*h);c.css({"max-height":h,"max-width":d,marginLeft:"auto",marginRight:"auto"});g.css({"max-width":d,marginLeft:"auto",marginRight:"auto"});e.css({"max-width":d,marginLeft:"auto",marginRight:"auto"})}R&&(c=C.find(".vse-vertical-scroll"),e=m.getDimension(c,"margin-top")+m.getDimension(c,"margin-bottom"),
c.css("max-height",E-e))}function ia(){T();l&&l.pause();X=!1;I=!0;v=null;ea=!0;f=!1}function T(){X=!1;l&&l.pause()}function L(e){v=e.clickTimeStamp?e.clickTimeStamp:h.now();c.isDefined(V)&&(V.eventTimestamp=v);X=!0;J&&(q.get(h,"#ivVideoBlock",w,k,U),C=a("#ivVideoBlock"),W.getCurrentItem(),B=W.getCurrentItem(),G(),K());H();J=!1;M()}function P(c){J&&(C=a("#ivVideoBlock"),W.getCurrentItem(),B=W.getCurrentItem(),G());X&&M();H()}function z(a){l=a.player;u.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
h.now()-g);A.imageBlockRenderingStartTime&&u.postTimeMetric("vse_ib_desktop_time_to_player_interactive",h.now()-A.imageBlockRenderingStartTime);f&&(K(),M())}function M(){if(l&&X&&(C.find(".vse-lb-container").animate({opacity:1},200),l.play(V),u.postCountMetric("dpcc_vse_videoBlock_video_played"),I)){var a=D.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,u.postTimeMetric("dpcc_vse_vitff",a),I=!1)}}function na(){h.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function aa(a){t=
a.popover.$popover;f=!0;K()}function K(){if(f&&ea&&X&&l){t.addClass(h.$(t).find(".vse-lb-container").data("cssClass"));var a=V;ja&&(a=ka,ja=!1);h.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});H();ea=!1}}function Y(a){document.getElementsByClassName("videoBlockIngress")[0].click();ka=a;ja=!0}var N,A,W,w,V,C,B,E,l,t,S,e,v,F,p,r,I=!0,J=!0,ca=!1,R=!1,X=!1,ea=!0,f=!1,ja=!1,ka,g=0,G=h.once(function(){x();m.attachImmersiveViewResizeHandler(P);m.attachTabDeselectHandler("ivVideosTab",
T);m.attachImmersiveViewResetHandler(ia)}),Q=function(c,e,f){a("#ivVideoBlockSpinner").addClass("aok-hidden");u.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+e.placement);ca=!0;a("#ivVideoBlock").css({"max-width":1.77*E,margin:"0 auto"})},Z=function(c,e,f){J||q.get(c,"#ivVideoBlock",w,k,U);a("#ivVideoBlockSpinner").addClass("aok-hidden")},k=function(a,c,e){R=!0;H()},U=function(a,c,e){u.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};
return function(a,f,k,t){N=this;A=a;W=f;N.render=function(a,b,f,k,t,q){a=W.getCurrentItem().color;b=c.getVideoHash(a,0,A);!0===q?S=A.mediaAsin:(S=A.colorToAsin[a]&&A.colorToAsin[a].asin,S=c.isDefined(S)?S:A.mediaAsin);e=!0===A.useVSEVideos?"VIDEO_ID":"physicalID";F=A.contentWeblab;p=A.contentWeblabTreatment;r=A.parentAsin||"";J=!0;-1===b?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),w={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:b.marketPlaceID,
locale:b.languageCode,product:{contentID:S,contentIDType:"ASIN",parentContentID:r,parentContentIDType:"ASIN"},video:{contentID:b.mediaObjectId,contentIDType:e,videoURL:b.url,imageURL:b.slateUrl,rankingStrategy:b.rankingStrategy},requestId:A.dpRequestId,weblabContext:[{name:F,assignment:p,ignoreForG2S2Key:!0}],metadata:{ProductTitle:A.title}},V={videoUrl:w.video.videoURL,contentId:w.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(v)?v:h.now(),imageUrl:w.video.imageURL,productAsin:w.product.contentID,
rankingStrategy:w.video.rankingStrategy,index:0},c.isDefinedAndNotEmpty(l)&&(l.destroy(),l=null),g=h.now(),y.get(h,"#ivVideoBlock",w,Z,Q))};N.update=function(a){};m.attachTabSelectHandler("ivVideosTab",L);h.on("vsePlayer-detailpage-imageblock",z);h.on("a:popover:afterShow:immersiveView",aa);h.on("a:popover:beforeHide:immersiveView",na);h.on("detailpage-imageblock-leave-pip",Y)}});"use strict";H.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",
function(h,a,c,u,m){function y(c,h){if(c){V=A.getCurrentItem();0==Object.entries(l).length&&q();var e=V.shoppableScene;e==ia?(c=K(Object.values(l)[0]),e=Object.values(l)[0].shoppableScene):c=K(w[V.index]);E=e.physicalId;var t=a(".shoppable-scene-image-block-placeholder-in-iv");if(0<t.length){var m=a("\x3cimg\x3e");m.attr("id","shoppableSceneIvImage");m.attr("src",c);m.css({"max-height":"500px","max-width":"650px"});t.replaceWith(m);c=x(e);e=a(".shoppable-scene-image-block-tags-in-iv");e.empty();c.appendTo(e)}else W.hide(),
z();pa();c=V.shoppableScene?V.shoppableScene:Object.values(l)[0].shoppableScene;T(c);M(h,C,null,E)}}function q(){w=N.colorImages[V.color];C=N.colorToAsin[V.color].asin;w.forEach(function(a){a.shoppableScene!=ia&&(l[a.shoppableScene.physicalId]=a)})}function x(c){var t=a("\x3cspan\x3e");h.each(c.tags,function(e){var l=a("\x3cdiv\x3e").css({position:"absolute",left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});l.append(D(!1));l.append(D(!0));h.declarative.create(l,"scenes-show-details-tags-ib-iv-click",
{tagId:e.link,physicalId:c.physicalId});t.append(l)});return t.children()}function D(c){var h=a("\x3cimg src\x3d'"+(c?N.staticImages.shoppableSceneDotHighlighted:N.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");h.css({display:c?"none":"inline-block"});h.addClass("mirai-scene-tag-in-iv").addClass(c?"active-tag":"inactive-tag");return h}function pa(){var c=a(".ivBottomThumbImagesShoppableScene");c.empty();Object.keys(l).forEach(function(t){var e=l[t],m=a("\x3cimg\x3e");e=K(e);m.attr("id","shoppable-scene-thumbnail-"+
t);m.attr("src",e);m.addClass("shoppable-scene-thumbnail");h.declarative.create(m,"scenes-thumbnail-ib-iv-click",{physicalId:t});m.appendTo(c)})}function T(a){aa();H.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){h.trigger("mirai:scene-immersive-recommendation-col-init",{scene:a})})}function L(a,c){aa();H.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-recommendation-col-update",
{tagId:a,physicalId:c})})}function P(){var c=l[E].shoppableScene,h=a(".shoppable-scene-image-block-tags-in-iv");h.hide();c=x(c);h.empty();c.appendTo(h);h.show();W.show()}function z(){var c=K(l[E]),h=a("#shoppableSceneIvImage");h.bind("load",P);h.attr("src",c)}function M(a,c,e,l){var t="shoppable-scene-dp-iv:mirai:"+a;H.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,
csmCounterName:t,asin:c,tagId:e,physicalId:l})})}function na(){var c=a(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");c.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");h.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},3600)}function aa(){var c=a("#shoppable-scene-iv-recommendation-waiting-spinner");0<c.length&&c.remove();c=a("#shoppableSceneRecommendationColumn");a(".shoppable-scene-recommendation-iv").hide();var h=a("\x3cimg\x3e");
h.attr("id","shoppable-scene-iv-recommendation-waiting-spinner");h.attr("src",N.staticImages.spinner);h.css({position:"relative"}).appendTo(c)}function K(a){return a.hiRes||a.large||a.main[a.main.length-1]}var Y=void 0,N=void 0,A=void 0,W=void 0,w=void 0,V=void 0,C=void 0,B=void 0,E=void 0,l={};h.declarative("shoppable-scene-image-click","click",function(a){y(!0,"IMAGE_BLOCK_SHOPPABLE_SCENE")});h.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var c=a.$currentTarget;if(null!=
B){var e=B.find(".active-tag"),h=B.find(".inactive-tag");e.css({display:"none"});h.css({display:"inline-block"})}e=c.find(".active-tag");h=c.find(".inactive-tag");e.css({display:"inline-block"});e.addClass("mirai-scene-dot-pulsate");h.css({display:"none"});B=c;na();L(a.data.tagId,a.data.physicalId);M("IMMERSIVE_VIEW_PRODUCT_TAG",C,a.data.tagId,a.data.physicalId)});h.declarative("scenes-thumbnail-ib-iv-click","click",function(a){E=a.data.physicalId;z();T(l[E].shoppableScene)});return function(c,h,
e,l){Y=this;N=c;A=h;W=a("#ivMainShoppableScene");Y.render=function(a,c,e,h,l,m){};Y.update=function(a){};(c=document.getElementById("ivShoppableSceneHeading"))&&c.addEventListener("click",function(a){a=A.getCurrentItem();y(null==V||V.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(h){var g=window.AmazonUIPageJS||window.P,k=g._namespace||g.attributeErrors,a=k?k("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):g;a.guardFatal?a.guardFatal(h)(a,window):a.execute(function(){h(a,window)})})(function(h,g,k){h.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,b){try{var c=a.$,d=c("#featurebullets_feature_div"),m=c("#productOverview_feature_div");if(d&&0<d.length&&(b.postCountMetric("FeatureBulletsRendered.GV"),m&&
0<m.length)){b.postCountMetric("FeatureBulletsRenderedWithPO.GV");var e=c("#featurebullets_feature_div .a-expander-container");e&&0<e.length&&"feature-bullets-expander"===e.data("aExpanderName")&&(b.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){b.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){b.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(n){h.log("Feature bullets metric logging failed with error: ( "+
n+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";h.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,b,c,d,m){var e=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,b=0,f;for(f in a)a[f]&&a[f].length&&(b+=a[f].length);a="image_size_bucket:gt"+e[e.length-1];for(f=1;f<e.length;f++)if(b<=e[f]){a="image_size_bucket:"+e[f-1]+"-"+e[f];break}m.postCountMetric(a);d.addTag(a)})();(function(){var a=b.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,g.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=c.lazyLoadExperienceDisabled;d.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),d.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";h.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});h.register("postEarlyMetric",function(){return null});"use strict";h.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var b=g.ue;if(b){var c=b.count(a)||0;b.count(a,c+1)}}},postTimeMetric:function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b){var c=g.ue;c&&c.count(a,b)}},emitNexusMetric:function(a){g.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.6",{ssd:!1})},buildNexusMetric:function(a,b,c,d,m,e,h,r,f,t){var n=10<arguments.length&&arguments[10]!==k?arguments[10]:"",p="",q=r||"";try{p=g.location.href;var l=p.match(/\/dp\/([A-Z0-9]{10})|\/gp\/product\/([A-Z0-9]{10})|\/gp\/aw\/d\/([A-Z0-9]{10})/);
l&&(l[1]||l[2]||l[3])&&(q=l[1]||l[2]||l[3])}catch(u){(l=g.ue)&&l.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",placementContext:t,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+b,videoAsin:c,videoAsinList:n,rankingStrategy:d===k?"":d,groupType:e===k?"":e,pageUrl:p,pageAsin:q,weblabIds:f===k?"":f,customerId:m||""}}}});"use strict";h.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,c){var d=
a.state("desktop-landing-image-data");d&&(d=a.values(d),b=b.getResourceTimeByName("img",d),a.each(b,function(a){a&&(a.responseEnd!=k&&c.postCountMetric("ibDesktopLandingImageDownloadTime",g.parseInt(a.responseEnd)),a.transferSize!=k&&(0===a.transferSize?c.postCountMetric("ibDesktopLandingImageCached",1):(c.postCountMetric("ibDesktopLandingImageSizeInBytes",g.parseInt(a.transferSize)),c.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict"});
/* ******** */
(function(l){var h=window.AmazonUIPageJS||window.P,p=h._namespace||h.attributeErrors,d=p?p("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):h;d.guardFatal?d.guardFatal(l)(d,window):d.execute(function(){l(d,window)})})(function(l,h,p){l.when("A","jQuery").execute(function(d,g){d.on("a:image:load:landingImage",function(){h.performance&&performance.now&&h.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});d.loadDynamicImage(g("#landingImage"))});"use strict";
l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(d,g){function k(a,c){if(c.repositionHeroImage){c=a[1];a=a[0];if(768>=(h.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((h.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function e(a,c,b){if(b.repositionHeroImage){var d=h.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;b=b.heroFocalPoint;if(g.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var f=Math.max((d-a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-f+(d-420-23)/2-a/c[1]*b}}return e}function f(a,c,b){a=a.heroImage;return!(g.isDefined(a)&&g.isDefined(a[c])&&g.isDefined(a[c][b])&&g.isDefined(a[c][b].main))||1>d.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:f,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!g.isDefined(b)){b=f(a,
c.color,c.index);if(-1===b)return;c=d.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=e(c[0],b,a);return{height:c[1],width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(d,g,k){function e(a,c){var b=d.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){b=a.substring(0,-1===e?f:e);break}}}catch(m){b=
a.substring(0,c-3)}b+="..."}return b}function f(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){d.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){d.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){d.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){d.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){d.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){g("#"+a).hide()},unhideTabHeading:function(a){g("#"+a).show()},addStyleCodeToURL:f,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return f(a,b)},populateVariationSelection:function(a){if(k.isDefined(h.DetailPage)&&
k.isDefined(h.DetailPage.StateController)){a.empty();var c=h.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],f=c.selected_variations[e];e=c.variation_display_labels[e];f&&g("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+f).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(e(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,d){h.ueLogError&&h.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(d){return{load:function(g,k){k=k||{};k.timeout=k.timeout||4E3;d.ajax(g,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(d,g){l.register("vse_ns_preLoaderHook",function(){function k(e,f){try{var a=e.A,c=e.block,b=e.request,t=e.handleFailure,h=e.handleSuccess,l=a.$;f--;var m=
3-f-1,n=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(e){var f=a.now()-n;d.postTimeMetric("vse_preLoaderHook:success:",f);d.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);l(c).html(e);h(a,b,e)},error:function(c){d.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=
c.http.status)&&0<f?k(e,f):(d.postCountMetric("vse_preLoaderHook:error:",1),t(a,b,c))}})}catch(q){g.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(e,f,a){try{var c=e.A,b=e.context,h=e.handleFailure,l=e.handleSuccess;f.attr("data-configuration");var p=atob(f.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},
q=c.now();a--;var r=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lazyLoaderHook:success:",e);d.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+r);f.html(a);l(c,n,a)},error:function(g){d.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+r);(0===g.http.status||
500<=g.http.status&&599>=g.http.status)&&0<a?k(e,f,a):(d.postCountMetric("vse_lazyLoaderHook:error:",1),h(c,n,g))}})}catch(u){g.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(e,d,a,c,b){var f=e.$;f(d+" div[data-configuration]").each(function(){k({A:e,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(e,f,a){try{var c=e.A,b=e.block,h=e.request,l=e.handleFailure,p=e.handleSuccess,m=c.$;a--;var n=3-a-
1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lightPlayerLoaderHook:success:",e);d.postCountMetric("vse_lightPlayerLoaderHook:success:"+h.page+":"+h.placement+":"+n);m(b).html(a);p(c,h,a)},error:function(b){d.postCountMetric("vse_lightPlayerLoaderHook:error:"+h.page+":"+h.placement+":"+n);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(e,a):(d.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(c,h,b))}})}catch(r){g.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",r)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(p){var u=window.AmazonUIPageJS||window.P,y=u._namespace||u.attributeErrors,a=y?y("DetailPagePaymentOptionsJavascript",""):u;a.guardFatal?a.guardFatal(p)(a,window):a.execute(function(){p(a,window)})})(function(p,u,y){"use strict";p.when("A","payment-options-constants").register("payment-options-client-side-metric",function(a,d){function f(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)}function h(a,b){c(d.metricPrefix,a,b)}function g(a,b){c(d.metricPrefixUFO,a,
b)}function c(a,b,c){if("undefined"!==typeof l&&"undefined"!==typeof l.count&&b&&a){if(c===y||null===c)c=1;a+=b;l.count(a,(l.count(a)||0)+c);"undefined"!==typeof u.csa&&(c=u.csa("Events",{producerId:"dp-rpcx"}),b=l.count(a),c("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:a,valueToLog:b},{ent:"all"}))}}function k(a){if(a)this.timerName=a,this.startTime=0;else throw Error("timerName must be non empty string");}function e(a){if(a)this.timerName=a,this.startTime=0;else throw Error("timerName must be non empty string");
}var l=u.ue;k.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&h(this.timerName,Date.now()-this.startTime)}};e.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&h(this.timerName,Date.now()-this.startTime)}};return{increment:function(a){h(a,1)},incrementWithValue:h,incrementWithValuePriceBlockMessaging:function(a,b){c(d.metricPrefixPriceblock,a,b)},logNexusEventForMonthlyPaymentSelection:function(a){if(u.ue&&
l.event){var b={};b.requestId=a.data.requestId;b.sessionId=a.data.sessionId;b.marketplaceId=a.data.marketplaceId;b.customerId=a.data.customerId;b.asin=a.data.asin;b.websiteDisplayGroup=a.data.websiteDisplayGroup;b.parentAsin=a.data.parentASIN;b.buyingOptionType=a.data.buyingOptionType;b.financingId=a.data.optionId;b.ranking=parseInt(a.data.executionInfo.offerRank);b.isRender=!0;b.deviceType=a.data.deviceType;b.isUfoSwatchExpanded=!0;b.isOfferSelected=!0;b.isOfferAddedToCart=!1;b.isOfferUsedWithBuyNow=
!1;b.schemaId=d.nexus.schemaId;b.producerId=d.nexus.producerId;b.messageId=f();b.trackingId="undef";b.isPreselection=null;b.sellerId="undef";b.asinExperience="undef";b.variantRendered="undef";b.locale="undef";b.isSelectFromPlansClicked=!1;b.isOfferSelectionClicked=!1;b.isOfferGroupingSelected=!1;b.isConfirmPlanSelectionClicked=!0;b.isChangePlanClicked=!1;b.isCheckboxSelected=!1;b.isCheckboxDeselected=!1;b.isCancelPlanClicked=!1;l.event(b,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});g("MonthlyPaymentSelection",
1)}},logNexusEventForComparePlansLink:function(a){if(u.ue&&l.event){var b={};b.requestId=a.data.requestId;b.sessionId=a.data.sessionId;b.marketplaceId=a.data.marketplaceId;b.customerId=a.data.customerId;b.asin=a.data.asin;b.websiteDisplayGroup=a.data.websiteDisplayGroup;b.parentAsin=a.data.parentASIN;b.buyingOptionType=a.data.buyingOptionType;b.financingId="undef";b.ranking=-1;b.isRender=!0;b.deviceType=a.data.deviceType;b.isUfoSwatchExpanded=!1;b.isOfferSelected=!1;b.isOfferAddedToCart=!1;b.isOfferUsedWithBuyNow=
!1;b.schemaId=d.nexus.schemaId;b.producerId=d.nexus.producerId;b.messageId=f();b.trackingId=a.data.executionInfo.trackingId;b.isPreselection=null;b.sellerId="undef";b.asinExperience="undef";b.variantRendered="undef";b.locale="undef";b.isSelectFromPlansClicked=!0;b.isOfferSelectionClicked=!1;b.isOfferGroupingSelected=!1;b.isConfirmPlanSelectionClicked=!1;b.isChangePlanClicked=!1;b.isCheckboxSelected=!1;b.isCheckboxDeselected=!1;b.isCancelPlanClicked=!1;l.event(b,d.nexus.producerId,d.nexus.schemaId,
{ssd:!0});g("ComparePlansLink",1)}},logNexusEventForSwatchExpansion:function(a){if(u.ue&&l.event){var b={};b.requestId=a.data.requestId;b.sessionId=a.data.sessionId;b.marketplaceId=a.data.marketplaceId;b.customerId=a.data.customerId;b.asin=a.data.asin;b.websiteDisplayGroup=a.data.websiteDisplayGroup;b.parentAsin=a.data.parentASIN;b.buyingOptionType=a.data.buyingOptionType;b.financingId="undef";b.ranking=-1;b.isRender=!0;b.deviceType=a.data.deviceType;b.isUfoSwatchExpanded=!0;b.isOfferSelected=!1;
b.isOfferAddedToCart=!1;b.isOfferUsedWithBuyNow=!1;b.schemaId=d.nexus.schemaId;b.producerId=d.nexus.producerId;b.messageId=f();b.trackingId="undef";b.isPreselection=null;b.sellerId="undef";b.asinExperience="undef";b.variantRendered="undef";b.locale="undef";b.isSelectFromPlansClicked=!1;b.isOfferSelectionClicked=!1;b.isOfferGroupingSelected=!1;b.isConfirmPlanSelectionClicked=!1;b.isChangePlanClicked=!1;b.isCheckboxSelected=!1;b.isCheckboxDeselected=!1;b.isCancelPlanClicked=!1;l.event(b,d.nexus.producerId,
d.nexus.schemaId,{ssd:!0});g("SwatchExpansion",1)}},logNexusEventForComparePlansOfferSelection:function(a){if(u.ue&&l.event){var b={};b.requestId=a.data.requestId;b.sessionId=a.data.sessionId;b.marketplaceId=a.data.marketplaceId;b.customerId=a.data.customerId;b.asin=a.data.asin;b.websiteDisplayGroup=a.data.websiteDisplayGroup;b.parentAsin=a.data.parentASIN;b.buyingOptionType=a.data.buyingOptionType;b.financingId=a.data.optionId;b.ranking=-1;b.isRender=!0;b.deviceType=a.data.deviceType;b.isUfoSwatchExpanded=
!1;b.isOfferSelected=!1;b.isOfferAddedToCart=!1;b.isOfferUsedWithBuyNow=!1;b.schemaId=d.nexus.schemaId;b.producerId=d.nexus.producerId;b.messageId=f();b.trackingId="undef";b.isPreselection=null;b.sellerId="undef";b.asinExperience="undef";b.variantRendered="undef";b.locale="undef";b.isSelectFromPlansClicked=!1;b.isOfferSelectionClicked=!0;b.isOfferGroupingSelected=!1;b.isConfirmPlanSelectionClicked=!1;b.isChangePlanClicked=!1;b.isCheckboxSelected=!1;b.isCheckboxDeselected=!1;b.isCancelPlanClicked=
!1;l.event(b,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});g("ComparePlansOfferSelection",1)}},logNexusEventForChangePlansLink:function(a){if(u.ue&&l.event){var b={};b.requestId=a.data.requestId;b.sessionId=a.data.sessionId;b.marketplaceId=a.data.marketplaceId;b.customerId=a.data.customerId;b.asin=a.data.asin;b.websiteDisplayGroup=a.data.websiteDisplayGroup;b.parentAsin=a.data.parentASIN;b.buyingOptionType=a.data.buyingOptionType;b.financingId="undef";b.ranking=-1;b.isRender=!0;b.deviceType=a.data.deviceType;
b.isUfoSwatchExpanded=!1;b.isOfferSelected=!1;b.isOfferAddedToCart=!1;b.isOfferUsedWithBuyNow=!1;b.schemaId=d.nexus.schemaId;b.producerId=d.nexus.producerId;b.messageId=f();b.trackingId=a.data.executionInfo.trackingId;b.isPreselection=null;b.sellerId="undef";b.asinExperience="undef";b.variantRendered="undef";b.locale="undef";b.isSelectFromPlansClicked=!1;b.isOfferSelectionClicked=!1;b.isOfferGroupingSelected=!1;b.isConfirmPlanSelectionClicked=!1;b.isChangePlanClicked=!0;b.isCheckboxSelected=!1;b.isCheckboxDeselected=
!1;b.isCancelPlanClicked=!1;l.event(b,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});g("ComparePlansChangePlan",1)}},logNexusEventForCancelPlan:function(a){if(u.ue&&l.event){var b={};b.requestId=a.data.requestId;b.sessionId=a.data.sessionId;b.marketplaceId=a.data.marketplaceId;b.customerId=a.data.customerId;b.asin=a.data.asin;b.websiteDisplayGroup=a.data.websiteDisplayGroup;b.parentAsin=a.data.parentASIN;b.buyingOptionType=a.data.buyingOptionType;b.financingId="undef";b.ranking=-1;b.isRender=!0;b.deviceType=
a.data.deviceType;b.isUfoSwatchExpanded=!1;b.isOfferSelected=!1;b.isOfferAddedToCart=!1;b.isOfferUsedWithBuyNow=!1;b.schemaId=d.nexus.schemaId;b.producerId=d.nexus.producerId;b.messageId=f();b.trackingId="undef";b.isPreselection=null;b.sellerId="undef";b.asinExperience="undef";b.variantRendered="undef";b.locale="undef";b.isSelectFromPlansClicked=!1;b.isOfferSelectionClicked=!1;b.isOfferGroupingSelected=!1;b.isConfirmPlanSelectionClicked=!1;b.isChangePlanClicked=!1;b.isCheckboxSelected=!1;b.isCheckboxDeselected=
!1;b.isCancelPlanClicked=!0;l.event(b,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});g("ComparePlansCancelPlan",1)}},Timer:k,TimerPriceBlockMessaging:e}});"use strict";p.when("A","payment-options-constants","payment-options-expander-actions","payment-options-client-side-metric").register("multi-card-exp-payment-options",function(a,d,f,h){function g(){h.increment("Expander:Auto:Collapse");var c=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection;
f.collapsePaymentOptions(c);a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1}function c(){if(document.getElementById("payment-options-expander-header")){var c=JSON.parse(a.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander"));c.isAutoExpand=!0;c.forceExpand=!0;a.trigger("a:declarative:expand-payment-options-expander",{data:c})}}return function(){var f=a.$(d.selector.multiCardExperimentElement).data(d.selector.multiCardExperimentData);
if(!f||!f.treatment)return{};var e=a.$(d.selector.activeTPlusCards).val();if(!e||!e.length)return{};e=e.split(",");return{expTreatment:f.treatment,isFirstCard:e[0]===d.featureRegistration.featureName,collapseCard:g,autoExpandCard:c}}()});"use strict";p.when("A").register("payment-options-constants",function(a){return{featureRegistration:{featureName:"paymentOptions",featureAttribution:"C/T/I"},nexus:{producerId:"ufo-dev",schemaId:"ufo_dev.DPXAwarenessAndConversion.6"},validators:{itemType:"paymentOfferInfo",
offerTypes:["EQUAL_PAY","ONE_TIME_PAYMENT"],cartTypes:["ADD_TO_CART"],cardTypes:["PLCC"]},metricConstants:{skipLearnMoreMetricForDesktop:"skipLearnMoreMetricForDesktop"},parameters:{itemType:"paymentOfferInfo",selectionType:{ADD:"add",DELETE:"delete"},offerTypes:{equalPay:"EQUAL_PAY",oneTimePayment:"ONE_TIME_PAYMENT"},cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"},cardTypes:{plcc:"PLCC"}},paymentOfferInputElement:{inputType:"hidden",name:"paymentOfferInfo"},imagesToLoad:".payment-options-financing-option-card-image .payment-options-expander-heading-image-container .payment-options-side-sheet-header .payment-options-side-sheet-option-summary .payment-options-side-sheet-comparison-group-container .payment-options-comparison-sheet-comparison-card-option".split(" "),
ajaxStatusText:{timeout:"Request Timeout"},selector:{expanderContainer:".payment-options-container",skeletonLoader:".payment-option-skeleton-loader",twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",paymentOptionExpand:"payment-options-expander-content-expand",skeletonLoaderExpand:"payment-option-skeleton-loader-expand",checkmark:".payment-options-selected-checkmark",subtitle:".payment-options-subtitle",subtitleText:".payment-options-subtitle-text",cardImage:".payment-options-selected-card-image",expanderIcon:".payment-options-expander-icon",
toggleButton:"#payment-options-toggle-button",expanderContent:".payment-options-expander-content",swatch:".payment-options-swatch",oneTimePaymentOption:".payment-options-default-option",financingOptions:".payment-options-financing-option",financingOptionTitle:".payment-options-financing-option-title",swatchOption:".payment-options-option",swatchHeading:".payment-options-option-heading",selectedHeading:"payment-options-selected-heading",selectedOption:"payment-options-selected-option",unavailableOption:"payment-options-unavailable-option",
unselectedHeading:"payment-options-unselected-heading",swatchDetail:".payment-options-option-detail",refreshCCText:"#payment_options_refresh_cc_text",refreshToggle:"#payment_options_refresh_cc_text_container",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",sideSheetButton:".payment-option-side-sheet-comparison-button",selectedButton:"payment-option-side-sheet-comparison-button-selected",unselectedButton:"payment-option-side-sheet-comparison-button-unselected",
disabledSwatch:"payment-option-disabled",monthlyPaymentAction:"payment-options-monthly-payment-action",paymentOptionsWeblabs:"#payment-options-weblabs",paymentOptionsWeblabsAttribute:"data-enabled-weblabs",paymentOptionsDefaultPickupBuyingOptionData:"#payment-options-default-buyingOption-pickup",isBuyingOptionOverridePresentAttribute:"data-is-pickup-buying-option-override-present",pickUpBuyingOptionIndex:"data-pickup-buying-option-index",payPlanColumnSelector:".payment-plan-column-selector",paymentDetailColumnSelector:".payment-details-column-selector",
interestColumnSelector:".interest-column-selector",payPlanAplliesSelector:".pay-plan-applies-to-column-selector",cardRewardColumnSelector:".card-reward-column-selector",oneTimePaymentHeadButton:".payment-option-onetimepayment-button",paymentOptionApplicabilityMessageLayout:".payment-option-applicibility-message-layout",paymentOptionApplicabilityMessage:".payment-option-applicibility-message-layout .payment-option-applicibility-message",swatchActionButton:".payment-options-swatch-action-button",toggleExpanderButton:".toggle-payment-options-expander-button",
setDynamicHeight:{paymentPlanRow:{rowElementsSelector:".payment-options-payment-plan-head, .payment-option-payment-plan-row-value"},paymentOptionDetailsRow:{columnValueElementsSelector:".monthly-payment-table-payment-details-column-value",rowElementsSelector:".payment-option-payment-details-row-value, .payment-options-payment-details-head"},interestRow:{rowElementsSelector:".payment-option-interest-row-value, .payment-options-interest-head"},planAppliesToRow:{rowElementsSelector:".payment-options-plan-applies-to-head, .payment-option-plan-applies-to-row-value"}}},
comparePlansSelector:{comparePlansSidesheetSelector:"#compare-all-plans-sideSheet",comparePlansContentSelector:"#compare-all-plans-content",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#compare-all-plans-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".compare-plans-sidesheet-ajax-error",skeletonLoaderClass:".compare-plans-sidesheet-skeleton-loader",
comparePlansPaymentOptionSelector:".payment-plan-",comparePlansPaymentOptionWithLearnMoreSelector:".payment-plan-column-",comparePlansButtonIdSelector:"#monthlyPaymentOption",comparePlansColumnSelector:".payment-option-table-column",comparePlansColumnWithLearnMoreSelector:".payment-option-table-monthly-payments-column",comparePlansButtonSelector:".payment-option-side-sheet-comparison-button"},learnMoreSelector:{learnMoreSidesheetSelector:"#payment-option-learn-more-sideSheet",learnMoreContentSelector:"#payment-options-learn-more-ajax",
viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#payment-options-learn-more-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".learn-more-sidesheet-ajax-error",skeletonLoaderClass:".learn-more-sidesheet-skeleton-loader"},ajaxErrorReasons:{timeoutStatus:"Request Timeout"},classes:{hideSwatchMainViewClass:"payment-option-list-item-hidden",paymentOptionsList:".payment-options-list",
unavailableCompareAllPlansOption:"payment-options-comparison-sheet-unavailable-option",disabledComparisonPlanButton:"payment-option-comparison-sheet-disabled",auiDisabledButtonClass:"a-button-disabled",auiEnabledButtonClass:"a-button-normal",popOverHideClass:"popover-hide",popOverShowClass:"popover-show",colLeftRightBorder:"Payment-option-side-sheet-left-right-column-border",colTopBorder:"Payment-option-side-sheet-top-border",colBottomBorder:"Payment-option-side-sheet-bottom-border",cardRewardHideClass:"payment-options-card-reward-hide",
normalLeftBorder:"payment-option-column-normal-left-border",normalRightBorder:"payment-option-column-normal-right-border",selectedPaymentOptionBorder:"payment-option-selected-column-border",normalPaymentOptionBorder:"payment-option-column-normal-border",selectedButtonClass:"payment-option-side-sheet-comparison-button-selected",unselectedButtonClass:"payment-option-side-sheet-comparison-button-unselected",disabledPaymentOptionOrder:"payment-option-disabled-column-order",disabledPaymentOptionClass:"payment-option-disabled-column"},
animationTimeoutUnit:200,metricPrefix:"DPX:TwisterPlusCCCard:PaymentOptions:",metricPrefixPriceblock:"DPX:PriceBlockMessaging:PaymentOptions:",metricPrefixUFO:"DPX:UnifiedFinancingOffers:PaymentOptions:",classSelector:".",disabledPaymentOptionSelecter:"titleSupplement",popOverText:"popover",attributes:{ariaChecked:"aria-checked",ariaExpanded:"aria-expanded"}}});"use strict";p.when("A","cc-manager","payment-options-constants","payment-options-expander-state","payment-options-expander-actions","payment-options-client-side-metric",
"multi-card-exp-payment-options","payment-plan-state").register("payment-options-registration",function(a,d,f,h,g,c,k,e){function l(a){return"string"===typeof a}function w(a){for(var b=a.length-1;0<=b;b--){var c=a.get(b).id;if(c!==y&&!v("#"+c).parent().parent().parent().hasClass(f.classes.hideSwatchMainViewClass)){v("#"+c).parent().parent().parent().addClass(f.classes.hideSwatchMainViewClass);break}}}function b(){var b;var c=(b=v(f.selector.paymentOptionsDefaultPickupBuyingOptionData))&&"true"===
b.attr(f.selector.isBuyingOptionOverridePresentAttribute);b=b&&c?(b=b.attr(f.selector.pickUpBuyingOptionIndex))?b:y:void 0;return"#paymentOption_"+(b?b:a.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0)}function m(a){var b=a.executionInfo;b.cartType=f.parameters.cartTypes.addToCart;return{itemType:f.parameters.itemType,price:a.price,selectionType:f.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,
interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,formData:[{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:b}]}}var v=a.$;k=k.expTreatment;var t="T2"!==k&&"T3"!==k,x=f.featureRegistration.featureName;d.registerFeature(f.featureRegistration,
{init:function(c){a.$(b()).removeClass("a-hidden")},validateInputParams:function(a){return a&&a.formData&&1===a.formData.length&&a.itemType===f.validators.itemType&&l(a.priceAndTermCountDisplayString)&&l(a.orderSummaryDisplayString)&&l(a.interestDisplayString)&&"number"===typeof a.price&&"number"===typeof a.interestAmount&&l(a.bottomSheetFootnoteDisplayString)?!0:!1},cardCollapse:function(){var b=e.paymentOptionSelected.paymentOptionClickedFromSideSheet;t&&!b&&(c.increment("Expander:Auto:Collapse"),
b=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,g.collapsePaymentOptions(b),a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1)},refreshCard:function(){a.$(f.selector.refreshToggle).removeClass("refresh-toggle");a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand&&a.$(f.selector.refreshCCText).removeClass("a-hidden")},switchBuyingOption:function(b,c,
e,l,k,t){l=t&&-1!==t?t:b;a.$("[id^\x3dpaymentOption_]").addClass("a-hidden");b=a.$(".payment-options-selected-option").closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action");var p;a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander")!==y&&(c=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,b===y&&!0===c&&(p=a.$("[data-payment-options-emp-action]").data("payment-options-emp-action")));
var u;b&&(u=b.offerGroup);a.$("#paymentOption_"+l).removeClass("a-hidden");var F=v("#paymentOption_"+l).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander");c=v("#paymentOption_"+l+" #oneTimePaymentOptionSwatch");a.$(c).click();a.delay(function(){F.isExpand||v(f.selector.subtitleText).text(F.collapseSubtitle)},100);e=c=!1;d.ccRemovedSelectionsClear(x);b===y&&p!==y&&(k=a.$("#paymentOption_"+l+" [data-payment-options-emp-action]").data("payment-options-emp-action"),
c=k!==y,!0===c&&(v(f.selector.subtitleText).text(k.preselectionSubtitle),h.expanderSubtitle.monthlyPaymentOptionsCollapsedSubtitle=k.preselectionSubtitle,h.expanderSubtitle.monthlyPaymentOptionsExpandedSubtitle=k.preselectionSubtitle),!1===c&&d.ccRemovedSelectionUpdate(x,m(p)));if(u){p=v("#paymentOption_"+l+" .payment-options-financing-option");l=p.length;c=0<l;for(k=0;k<l;k++){t=p.get(k);var D=a.$(t).closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action"),
G=v("#"+t.id).parent().parent().parent(),H=G.hasClass(f.classes.hideSwatchMainViewClass);if(D&&u===D.offerGroup){e=!0;H&&(w(p),G.removeClass(f.classes.hideSwatchMainViewClass));a.$(t).click();var A=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection}}(!c||c&&!e)&&d.ccRemovedSelectionUpdate(x,m(b));g.collapsePaymentOptions(A)}}})});"use strict";p.when("A","cc-manager","payment-options-constants","payment-options-registration").register("cc-payment-options",
function(a,d,f){function h(a){var b=k("form#buyNowCheckout");if(0<b.length){var c=b.find("input[name\x3d"+f.parameters.itemType+"]");a=a.executionInfo;a.cartType=f.parameters.cartTypes.buyNow;a=JSON.stringify(a);1>c.length?k("\x3cinput\x3e").attr({type:f.paymentOfferInputElement.inputType,name:f.paymentOfferInputElement.name,value:a,id:"bnMshopPaymentOfferInfo"}).appendTo(b):(b=k("#bnMshopPaymentOfferInfo"),1<c.length?b.detach():b.val(a))}}function g(a){var b=a.executionInfo;b.sessionId=a.sessionId;
b.customerId=a.customerId;b.marketplaceId=a.marketplaceId;b.requestId=a.requestId;b.deviceType=a.deviceType;b.asin=a.asin;b.buyingOptionType=a.buyingOptionType;b.parentASIN=a.parentASIN;b.websiteDisplayGroup=a.websiteDisplayGroup}function c(a,b){return{itemType:f.parameters.itemType,price:a.price,selectionType:f.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,
isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:"mo",formData:b}}var k=a.$,e=f.featureRegistration.featureName,l;return{updatePaymentOptionSelection:function(a){if(!a)return!1;d.ccSelectionsClear(e);clearTimeout(l);k("#bnMshopPaymentOfferInfo").detach();var b=[],m;if(a.hasOwnProperty("executionDetails")&&0!==Object.keys(a.executionDetails).length){var v=a.executionDetails;Object.keys(v).forEach(function(c){if("paymentOfferInfoType"===
c){var e=JSON.parse(a.executionDetails.paymentOfferInfoType);e.sessionId=a.sessionId;e.customerId=a.customerId;e.marketplaceId=a.marketplaceId;e.requestId=a.requestId;e.deviceType=a.deviceType;e.asin=a.asin;e.buyingOptionType=a.buyingOptionType;e.parentASIN=a.parentASIN;e.websiteDisplayGroup=a.websiteDisplayGroup;a.executionDetails.paymentOfferInfoType=JSON.stringify(e);b.push([{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:JSON.parse(v[c])}])}else b.push([{inputType:f.paymentOfferInputElement.inputType,
inputName:c,inputValue:v[c]}])});for(var t=0;t<b.length;t++)if(m=c(a,b[t]),m=d.ccSelectionUpdate(e,m),!m)return!1}else if(a.hasOwnProperty("executionInfo")&&0!==Object.keys(a.executionInfo).length)g(a),b.push([{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:a.executionInfo}]),m=c(a,b[0]),m=d.ccSelectionUpdate(e,m);else return!0;h(a);l=setTimeout(function(){h(a)},1E3);return m}}});"use strict";p.when("A","cc-payment-options").register("payment-options-actions",
function(a,d){a.declarative("select-payment-option","click",function(a){d.updatePaymentOptionSelection(a.data)})});"use strict";p.when("A","payment-options-opt-out-state","compare-plan-modal","comparison-plans-state","payment-options-client-side-metric","price-block-messaging-constants","compare-plan-2_5-weblab-trigger").register("po-compare-plans-actions",function(a,d,f,h,g,c,k){function e(b){K(b.data.buyingOptionIndex,!1);f.updateModalHeader(b.data.buyingOptionIndex,b.data.comparisonTableHeaderText);
w(b);a.hide(n.MORE_OPTION_CLASS);m(h.paymentOptionSelected.paymentOptionSelectedButtonId)}function l(b){K(b.data.buyingOptionIndex,!1);f.updateModalHeader(b.data.buyingOptionIndex,b.data.comparisonTableHeaderText);a.hide(n.OFFER_SELECTION_SHEET_CLASS);a.hide(n.LEARN_MORE_SHEET_CLASS);b=q([n.COMPARISON_TABLE_PREFIX,b.data.buyingOptionIndex].join(c.DASH_SPLITTER));a.show(b)}function w(B){var e=B.data.buyingOptionIndex;B=B.data.selectText;a.hide(n.OFFER_SELECTION_SHEET_CLASS);a.hide(n.LEARN_MORE_SHEET_CLASS);
S(e,{buyingOptionIndex:e});W(e);var d=q([n.COMPARISON_TABLE_PREFIX,e].join(c.DASH_SPLITTER));a.show(d);d.find(n.COMPARISON_TABLE_COLUMN_CLASS).removeClass(r.COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER);d.find(n.COMPARISON_TABLE_COLUMN_CLASS).removeClass(r.COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND);d.find(n.COMPARISON_TABLE_CAN_DISABLE_CLASS).removeClass(r.COMPARISON_TABLE_DISABLED_COLUMN);d.find(n.COMPARISON_TABLE_COLUMN_CLASS).sort(function(a,b){a=q(a).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).paymentProductIndex;
b=q(b).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).paymentProductIndex;return a-b}).appendTo([n.COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX,e].join(c.DASH_SPLITTER));a.hide(O(e));q([n.COMPARISON_TABLE_MODAL_PREFIX,e].join(c.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_CLASS).removeClass(r.OFFER_SELECTION_DISABLE_ROW_CLASS);q.each(h.paymentOptionSelected.disabledPaymentOptionIds,function(a,b){if(b&&""!==b)if(v(b,r.OFFER_SELECTION_ROW_ACTION_PREFIX)){var B=
q("#"+b).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME);a=B.buyingOptionIndex;b=B.paymentProductIndex;B=[n.OFFER_SELECTION_ROW_ID_PREFIX,a,b,B.paymentOptionIndex].join(c.DASH_SPLITTER);q(B).addClass(r.OFFER_SELECTION_DISABLE_ROW_CLASS);var B=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,a,b].join(c.DASH_SPLITTER),e=q(B),B=e.children().length,e=e.children(n.OFFER_SELECTION_DISABLED_ROW_CLASS).length;B===e&&p(a,b)}else B=q("#"+b).parent().data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA),
a=B.buyingOptionIndex,b=B.paymentProductIndex,p(a,b)});d.find(n.COMPARISON_TABLE_COLUMN_CLASS).each(function(){var a=q(this).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);if(1===a.numberOfPaymentOptionsWithinProduct)return!0;if(q(this).hasClass(r.COMPARISON_TABLE_DISABLED_COLUMN))var B=q(this),a=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,a.buyingOptionIndex,a.paymentProductIndex].join(c.DASH_SPLITTER),a=q(a).children().first().find(".a-declarative").data(r.OFFER_SELECTION_ACTION_NAME_CAMEL_CASE);
else B=q(this),a=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,a.buyingOptionIndex,a.paymentProductIndex].join(c.DASH_SPLITTER),a=q(a).children().not("."+r.OFFER_SELECTION_DISABLE_ROW_CLASS).first().find(".a-declarative").data(r.OFFER_SELECTION_ACTION_NAME_CAMEL_CASE);b(B,a)});a.show(n.COMPARISON_TABLE_OPTION_LIKE);a.hide(n.COMPARISON_TABLE_MORE_OPTION);q(n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_CLASS).removeClass(r.COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED);q(n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_CLASS).text(B);
T(d.find(n.COMPARISON_TABLE_SELECT_ACTION_BUTTON),!1)}function b(b,c){b.find('[id^\x3d"'+r.COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX+'"]').html(c.paymentDetailsSubtitle);b.find('[id^\x3d"'+r.COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX+'"]').text(c.interestDisplayString);var e=b.find('[id^\x3d"'+r.COMPARISON_TABLE_INTEREST_APR_ID_PREFIX+'"]'),d=e.closest(n.COMPARE_PLAN_2_5_INTEREST_APR_CONTAINER);e.text(c.interestApr);d&&(d.removeClass(c.isZeroPercentAPROffer?r.COLOR_BASE:r.COLOR_SUCCESS),
d.addClass(c.isZeroPercentAPROffer?r.COLOR_SUCCESS:r.COLOR_BASE));b.find('[id^\x3d"'+r.COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX+'"]').text(c.planTotal);c.isOrderLevel?(a.show(b.find('[id^\x3d"'+r.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX+'"]')),a.hide(b.find('[id^\x3d"'+r.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX+'"]'))):(a.hide(b.find('[id^\x3d"'+r.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX+'"]')),a.show(b.find('[id^\x3d"'+r.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX+'"]')));b.find('[id^\x3d"'+
r.COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX+'"]').text(c.optionRewardText);b.find('[id^\x3d"'+r.COMPARISON_TABLE_LEARN_MORE_ID_PREFIX+'"]').closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_LEARN_MORE_ACTION_DATA).learnMoreViewDomId=c.learnMoreViewDomId}function m(b){""===b||"oneTimePaymentOption"===b||a.contains(h.paymentOptionSelected.disabledPaymentOptionIds,b)||(v(b,r.OFFER_SELECTION_ROW_ACTION_PREFIX)?(b=q("#"+b).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME),b={data:b},
D(b),H(b)):(b=q("#"+b).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA),b={data:b},t(b)))}function v(a,b){if(null===a||a===y||null===b||b===y||b.length>a.length)return!1;for(var c=0;c<b.length;c++)if(a[c]!==b[c])return!1;return!0}function t(b){w(b);a.hide(n.MORE_OPTION_CLASS);Q(b.data.buyingOptionIndex,b.data.paymentProductIndex,b.data.selectedText);z(b.data.buyingOptionIndex,b.data.paymentOptionSelectButtonId,b.data.buttonActionName)}function x(b,e){b=q(n.MORE_OPTION_PREFIX+
[b,e].join(c.DASH_SPLITTER));a.show(b)}function Q(a,b,e){var d=q([n.COMPARISON_TABLE_PREFIX,a].join(c.DASH_SPLITTER)),f=[n.COMPARISON_TABLE_COLUMN_ID_PREFIX,a,b].join(c.DASH_SPLITTER),g=[n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_ID_PREFIX,a,b].join(c.DASH_SPLITTER);a=[n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_ID,a,b].join(c.DASH_SPLITTER);d.find(f).addClass(r.COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER);d.find(f).addClass(r.COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND);d.find(g).addClass(r.COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED);
d.find(a).text(e);T(d.find(f).find(n.COMPARISON_TABLE_SELECT_ACTION_BUTTON),!0)}function p(a,b){a=[n.COMPARISON_TABLE_COLUMN_ID_PREFIX,a,b].join(c.DASH_SPLITTER);q(a).find(n.COMPARISON_TABLE_CAN_DISABLE_CLASS).addClass(r.COMPARISON_TABLE_DISABLED_COLUMN);q(a).appendTo(q(a).parent())}function u(b){C(b)&&x(b.data.buyingOptionIndex,b.data.paymentProductIndex);a.hide(O(b.data.buyingOptionIndex));f.updateModalHeader(b.data.buyingOptionIndex,b.data.comparisonTableHeaderText);a.hide(q("#"+b.data.currentViewDomId));
a.show(q("#"+b.data.comparisonTableDomId))}function C(b){return c.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in b.data?!0:(a.show(O(b.data.buyingOptionIndex)),!1)}function K(a,b){a=q([n.COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX,a].join(c.DASH_SPLITTER));b?a.animate({scrollLeft:0},100):a.scrollLeft(0)}function I(a){J(a.data.buyingOptionIndex,a.data.paymentProductIndex);var b=M(a.data.buyingOptionIndex).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA);c.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in
b&&v(b.paymentOptionSelectButtonId,r.OFFER_SELECTION_ROW_ACTION_PREFIX)&&(b={data:q("#"+b.paymentOptionSelectButtonId).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME)},D(b));f.updateModalHeader(a.data.buyingOptionIndex,a.data.offerSelectionHeaderText);N(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.shouldByPassMarketplaceCheck)}function L(a){F(a.data.buyingOptionIndex,a.data.paymentProductIndex);f.updateModalHeader(a.data.buyingOptionIndex,a.data.offerSelectionHeaderText);
N(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.shouldByPassMarketplaceCheck)}function J(b,e){var d=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,b,e].join(c.DASH_SPLITTER));d.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);d.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);a.hide(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,b,e].join(c.DASH_SPLITTER)));P(b,e,{buyingOptionIndex:b,paymentProductIndex:e})}
function F(b,e){var d=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,b,e].join(c.DASH_SPLITTER));d.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);d.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);a.hide(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,b,e].join(c.DASH_SPLITTER)))}function D(a){J(a.data.buyingOptionIndex,a.data.paymentProductIndex);A(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.paymentOptionIndex);
var b=a.data.buyingOptionIndex,c=a.data.paymentProductIndex,e=a.data.buttonActionName;a=q("#"+a.data.paymentOptionSelectButtonId).closest(n.SPAN_DECLARATIVE).data(e);P(b,c,a)}function G(a){F(a.data.buyingOptionIndex,a.data.paymentProductIndex)}function H(b){if(!(c.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in b.data))return a.show(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,b.data.buyingOptionIndex,b.data.paymentProductIndex].join(c.DASH_SPLITTER))),!1;w(b);Q(b.data.buyingOptionIndex,b.data.paymentProductIndex,
b.data.selectedText);x(b.data.buyingOptionIndex,b.data.paymentProductIndex);var e=b.data.buyingOptionIndex,d=b.data.paymentProductIndex;q(["#"+r.COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX,e,d].join(c.DASH_SPLITTER)).html(b.data.paymentDetailsSubtitle);q(["#"+r.COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX,e,d].join(c.DASH_SPLITTER)).text(b.data.interestDisplayString);var f=q(["#"+r.COMPARISON_TABLE_INTEREST_APR_ID_PREFIX,e,d].join(c.DASH_SPLITTER)),g=f.closest(n.COMPARE_PLAN_2_5_INTEREST_APR_CONTAINER);
f.text(b.data.interestApr);g&&(g.removeClass(b.data.isZeroPercentAPROffer?r.COLOR_BASE:r.COLOR_SUCCESS),g.addClass(b.data.isZeroPercentAPROffer?r.COLOR_SUCCESS:r.COLOR_BASE));q(["#"+r.COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX,e,d].join(c.DASH_SPLITTER)).text(b.data.planTotal);b.data.isOrderLevel?(a.show(q(["#"+r.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX,e,d].join(c.DASH_SPLITTER))),a.hide(q(["#"+r.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX,e,d].join(c.DASH_SPLITTER)))):(a.hide(q(["#"+r.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX,
e,d].join(c.DASH_SPLITTER))),a.show(q(["#"+r.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX,d].join(c.DASH_SPLITTER))));q(["#"+r.COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX,e,d].join(c.DASH_SPLITTER)).text(b.data.optionRewardText);q("#"+b.data.learnMoreLinkDomId).closest(n.SPAN_DECLARATIVE).data(b.data.learnMoreLinkActionName).learnMoreViewDomId=b.data.learnMoreViewDomId;a.show(q([n.COMPARISON_TABLE_ROW_VALUE_MORE_OPTION_ID,e,d].join(c.DASH_SPLITTER)));a.hide(q([n.COMPARISON_TABLE_ROW_VALUE_OPTION_LIKE_ID,
e,d].join(c.DASH_SPLITTER)));z(b.data.buyingOptionIndex,b.data.paymentOptionSelectButtonId,b.data.buttonActionName)}function A(a,b,e){var d=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,b].join(c.DASH_SPLITTER));a=[n.OFFER_SELECTION_ROW_ID_PREFIX,a,b,e].join(c.DASH_SPLITTER);d.find(a).addClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);d.find(a).addClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS)}function z(a,b,c){b=q("#"+b).closest(n.SPAN_DECLARATIVE).data(c);S(a,b);a=M(a);a.hasClass("a-button")&&
a.removeClass("a-button-disabled")}function N(b,e,d){a.hide(q([n.COMPARISON_TABLE_PREFIX,b].join(c.DASH_SPLITTER)));if(!(d||0<q([n.OFFER_SELECTION_VIEW_ID_PREFIX,b,e].join(c.DASH_SPLITTER)).find("."+r.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS).length)){A(b,e,0);d=n.OFFER_SELECTION_ROW_ACTION_CLASS.replace(".","")+c.DASH_SPLITTER+[b,e,0].join(c.DASH_SPLITTER);var f=r.OFFER_SELECTION_ROW_ACTION_NAME;d=q("#"+d).closest(n.SPAN_DECLARATIVE).data(f);P(b,e,d)}a.show(q([n.OFFER_SELECTION_VIEW_ID_PREFIX,
b,e].join(c.DASH_SPLITTER)))}function U(b){a.hide(q("#"+b.data.comparisonTableDomId));f.updateModalHeader(b.data.buyingOptionIndex,b.data.learnMoreHeaderText);a.show(q("#"+b.data.learnMoreViewDomId))}function V(a){return v(a,r.OFFER_SELECTION_ROW_ACTION_PREFIX)?q("#"+a).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME):q("#"+a).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA)}function T(a,b){a&&a.attr(X.ariaChecked,b)}function S(a,b){M(a).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA,
b);M(a).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_CHECKOUT_PLAN_ACTION_DATA,b)}function P(a,b,e){q([n.OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX,a,b].join(c.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_CONTINUE_ACTION_DATA,e);q([n.OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX,a,b].join(c.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_CHECKOUT_ACTION_DATA,e)}function W(a){a=M(a);a.hasClass("a-button")&&a.addClass("a-button-disabled")}function M(a){return q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,
a].join(c.DASH_SPLITTER))}function O(a){return q([n.COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX,a].join(c.DASH_SPLITTER))}var q=a.$,n=c.selector,r=c.classes,X=c.attributes;a.declarative("price-block-compare-plans","click",function(b){var m=b.data.changePlanBehavior,x=d.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet;h.paymentOptionSelected.paymentOptionSelectedButtonId&&"oneTimePaymentOption"!==h.paymentOptionSelected.paymentOptionSelectedButtonId?g.logNexusEventForChangePlansLink(b):g.logNexusEventForComparePlansLink(b);
a.loadImageManually(q(".comparison-table-comparison-card-image"));x||"OPT_OUT_PLAN"!==m?(g.incrementWithValuePriceBlockMessaging(c.metrics.COMPARE_PLAN_CLICK,1),b.data.isMxViewableExperienceEnabled?l(b):e(b),f.showModal(b),k.triggerWeblab()):(d.paymentOptionOptOutSelected.changePlanEventData=b,a.trigger("a:declarative:open-priceblock-change-plan-modal:click",b))});a.declarative("comparison-table-select-plan",["click","keydown"],function(b){if("keydown"!==b.type||13===b.$event.keyCode||32===b.$event.keyCode)g.logNexusEventForComparePlansOfferSelection(b),
a.loadImageManually(q(".compare-plan-payment-product-card-image")),b.data.shouldNotSelectFinancingOptionColumn||(b.data.isMxViewableExperienceEnabled||1<b.data.numberOfPaymentOptionsWithinProduct?(g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_SELECT_BUTTON_MORE_OFFER_CLICK,1),b.data.isMxViewableExperienceEnabled?L(b):I(b)):(g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_SELECT_BUTTON_SINGLE_OFFER_CLICK,1),t(b)))});a.declarative("offer-selection-select-row",["click","keydown"],function(b){if("keydown"!==
b.type||13===b.$event.keyCode||32===b.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_OFFER_SELECTION_SELECT_ROW_CLICK,1),b.data.isMxViewableExperienceEnabled?G(b):(D(b),a.hide(n.MORE_OPTION_CLASS))});a.declarative("compare-plan-offer-selection-continue",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_OFFER_SELECTION_CONTINUE_CLICK,1),a.data.isMxViewableExperienceEnabled||
H(a),u(a)});a.declarative("compare-plan-offer-selection-checkout",["click","keydown"],function(b){("keydown"!==b.type||13===b.$event.keyCode||32===b.$event.keyCode)&&c.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in b.data&&(f.hideModal(b.data.buyingOptionIndex),a.trigger("a:declarative:continue-checkout-update-buynow:click",b))});a.declarative("compare-plan-offer-selection-cancel",["click","keydown"],function(b){if("keydown"!==b.type||13===b.$event.keyCode||32===b.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_CANCEL_PLAN_CLICK,
1),g.logNexusEventForCancelPlan(b),f.hideModal(b.data.buyingOptionIndex),w(b),a.trigger("a:declarative:price-block-otp-action:click",b)});a.declarative("comparison-table-confirm-plan",["click","keydown"],function(b){if("keydown"!==b.type||13===b.$event.keyCode||32===b.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_CONFIRM_PLAN_WITHOUT_OFFER_SELECTED_CLICK,1),b.data.isMxViewableExperienceEnabled?f.hideModal(b.data.buyingOptionIndex):C(b)&&(g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_CONFIRM_PLAN_OFFER_SELECTED_CLICK,
1),a.trigger("a:declarative:price-block-select-payment-plan:click",b),f.hideModal(b.data.buyingOptionIndex))});a.declarative("comparison-table-checkout-plan",["click","keydown"],function(b){("keydown"!==b.type||13===b.$event.keyCode||32===b.$event.keyCode)&&c.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in b.data&&(f.hideModal(b.data.buyingOptionIndex),a.trigger("a:declarative:continue-checkout-update-buynow:click",b))});a.declarative("comparison-table-cancel-plan",["click","keydown"],function(b){if("keydown"!==
b.type||13===b.$event.keyCode||32===b.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_CANCEL_PLAN_CLICK,1),g.logNexusEventForCancelPlan(b),f.hideModal(b.data.buyingOptionIndex),w(b),a.trigger("a:declarative:price-block-otp-action:click",b)});a.declarative("comparison-table-learn-more","click",function(b){a.loadImageManually(q(".compare-plan-learn-more-feature-image-content"));a.loadImageManually(q(".compare-plan-payment-product-card-image"));g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_LEARN_MORE_CLICK,
1);U(b)});a.declarative("back-to-comparison-table",["click","keydown"],function(b){if("keydown"!==b.type||13===b.$event.keyCode||32===b.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_BACK_CLICK,1),u(b)});var Y=function(b,a){return b.id<a.id?-1:b.id>a.id?1:0};return{renderComparisonTable:e,renderViewableComparisonTable:l,selectPaymentOptionInComparisonTable:t,selectPaymentOptionInOfferSelection:D,selectPaymentOptionInViewableOfferSelection:G,confirmPlanInOfferSelection:H,renderOfferSelectionView:I,
renderViewableOfferSelectionView:L,renderLearnMoreView:U,selectAndConfirmPlan:function(b,a){m(a);q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,b].join(c.DASH_SPLITTER)).click()},isAnyOfferSelected:C,getMaxQuantityData:function(b){return V(b).maxQuantity},findMaximumMaxQuantity:function(b){var a=1;b=q([n.COMPARISON_TABLE_PREFIX,b].join(c.DASH_SPLITTER)).find(n.COMPARISON_TABLE_COLUMN_CLASS);q.each(b,function(b,e){b=q(e).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).parent().data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);
e=b.buyingOptionIndex;var d=b.paymentProductIndex;1<b.numberOfPaymentOptionsWithinProduct?(b=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,e,d].join(c.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_ACTION_CLASS),q.each(b,function(b,c){b=q(c).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME);a=Math.max(a,b.maxQuantity)})):a=Math.max(a,b.maxQuantity)});return a},getTotalOptionCount:function(b){var a=0;q([n.COMPARISON_TABLE_PREFIX,b].join(c.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).each(function(){var b=
q(this).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).numberOfPaymentOptionsWithinProduct;a+=b});return a},getTopEnabledOfferDataInComparisonTable:function(b){b=q([n.COMPARISON_TABLE_PREFIX,b].join(c.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).sort(Y);var e;q.each(b,function(b,d){if(e)return!1;b=q(d).parent().data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);var f=b.buyingOptionIndex,g=b.paymentProductIndex;if(1<b.numberOfPaymentOptionsWithinProduct)d=
q([n.OFFER_SELECTION_VIEW_ID_PREFIX,f,g].join(c.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_ACTION_CLASS),q.each(d,function(b,c){b=q(c).attr("id");if(!h.paymentOptionSelected.disabledPaymentOptionIds||!a.contains(h.paymentOptionSelected.disabledPaymentOptionIds,b))return e=b,!1});else if(d=q(d).attr("id"),!h.paymentOptionSelected.disabledPaymentOptionIds||!a.contains(h.paymentOptionSelected.disabledPaymentOptionIds,d))return e=d,!1});if(e)return V(e)},backToComparisonTable:u}});"use strict";p.when("A",
"compare-plan-row-constants").register("compare-plan-row-height-updater",function(a,d){var f=[d.COMPARE_PLAN_PAYMENT_DETAILS,d.COMPARE_PLAN_INTEREST_ROW];return{updateRowHeight:function(d){for(var g=0;g<f.length;g++){for(var c=a.$(d).find(f[g]),k,e=k=0;e<c.length;e++)c[e].offsetHeight>k&&(k=c[e].offsetHeight);if(0<k)for(e=0;e<c.length;e++)c[e].style.height=k.toString()+"px"}}}});"use strict";p.when("A").register("compare-plan-row-constants",function(a){return{COMPARE_PLAN_CARD_OPTION:".comparison-table-comparison-card-option",
COMPARE_PLAN_PAYMENT_DETAILS:".comparison-table-payment-details",COMPARE_PLAN_INTEREST_ROW:".comparison-table-interest-row-value",COMPARE_PLAN_TOTAL_AMOUNT:".comparison-table-total-amount",COMPARE_PLAN_APPLIES_TO_ROW:".comparison-table-plan-applies-to-row-value",COMPARE_PLAN_REWARD_ROW:".comparison-table-card-reward-row-value"}});"use strict";p.when("A").register("po-sidesheet-ajax-state",function(a){var d=a.$,f={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""},h={ajaxContent:"",isAjaxContentLoaded:!1,
ajaxContentAsin:""};return{getComparePlansState:function(a){return f[a]},setComparePlansState:function(a,c){f[a]=c},getLearnMoreState:function(a){return h[a]},setLearnMoreState:function(a,c){h[a]=c},checkInconsistentState:function(){if(f.isAjaxContentLoaded&&h.isAjaxContentLoaded){if(f.ajaxContentAsin!==h.ajaxContentAsin)return this.resetComparePlansState(),this.resetLearnMoreState(),!0;var a=d("#twister-plus-asin").val();if(f.ajaxContentAsin!==a)return this.resetComparePlansState(),this.resetLearnMoreState(),
!0}return!1},resetComparePlansState:function(){this.setComparePlansState("ajaxContent","");this.setComparePlansState("isAjaxContentLoaded",!1);this.setComparePlansState("ajaxContentAsin","")},resetLearnMoreState:function(){this.setLearnMoreState("ajaxContent","");this.setLearnMoreState("isAjaxContentLoaded",!1);this.setLearnMoreState("ajaxContentAsin","")}}});"use strict";p.when("A","payment-options-state","payment-options-opt-out-state","comparison-plans-state","po-compare-plans-actions","price-block-messaging-constants",
"payment-options-client-side-metric").register("ufo-compare-payment-plans",function(a,d,f,h,g,c,k){var e=a.$;a.declarative("compare-payment-plans","click",function(c){a.trigger("a:declarative:side-sheet:click",c);d.getWeblabData().isDesktopComparePlansAjaxEnabled?a.trigger("a:declarative:compare-payment-plans-ajax:click",c):g.renderPreselection(c)});a.declarative("price-block-compare-payment-plans","click",function(e){k.incrementWithValuePriceBlockMessaging(c.metrics.COMPARE_PLAN_CLICK,1);var w=e.data.changePlanBehavior,
b=f.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet;h.paymentOptionSelected.paymentOptionSelectedButtonId&&"oneTimePaymentOption"!==h.paymentOptionSelected.paymentOptionSelectedButtonId?k.logNexusEventForChangePlansLink(e):k.logNexusEventForComparePlansLink(e);b||"OPT_OUT_PLAN"!==w?(a.trigger("a:declarative:open-payment-options-side-sheet:click",e),d.getWeblabData().isDesktopComparePlansAjaxEnabled?a.trigger("a:declarative:compare-payment-plans-ajax:click",e):(g.renderPreselection(e),k.incrementWithValuePriceBlockMessaging(c.metrics.COMPARE_PLAN_RENDERED,
1))):(f.paymentOptionOptOutSelected.changePlanEventData=e,a.trigger("a:declarative:open-priceblock-change-plan-modal:click",e))});a.declarative("compare-payment-plans-ajax","click",function(a){g.loadAjaxContent(a)});a.declarative("overflow-sidesheet","click",function(c){var d=e(c.$currentTarget);d!==y&&null!==d&&(e("#"+c.data.paymentOptionSelectButtonId)[0].classList.contains("a-button-disabled")||a.trigger("a:declarative:monthly-payment-option-selection:click",c))})});"use strict";p.when("A","po-sidesheet-ajax-state",
"payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-plan-state").register("po-learn-more-actions",function(a,d,f,h,g,c){function k(){d.resetLearnMoreState();t(f.learnMoreSelector.skeletonLoaderClass).addClass("aok-hidden");t(f.learnMoreSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}function e(b,a){b=t(b);var c=w(),e=f.learnMoreSelector.preselectiedOptionSelector+"-"+c,d=f.learnMoreSelector.paymentOptionsCountSelector+"-"+c,k=f.learnMoreSelector.firsOfferIdSelector+
"-"+c;return 0!==b.filter(f.learnMoreSelector.viewModelFailedSelector+"-"+c).length?(g.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==b.filter(e).length?(g.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):b.filter(d).data("paymentPlansCount")!==a.numberOfPaymentOptions?(g.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):b.filter(k).data("firstOfferId")!==a.firstOfferId?(g.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function l(c,
e,g){t(f.learnMoreSelector.learnMoreSidesheetSelector).html(d.getLearnMoreState("ajaxContent"));g=f.learnMoreSelector.learnMoreContentSelector+"-"+g;g+=w();t(g).removeClass("aok-hidden");a.loadDescendantImagesManually(t(".payment-options-side-sheet-header"));a.loadDescendantImagesManually(t(".payment-options-side-sheet-option-summary"));a.loadDescendantImagesManually(t(".payment-options-side-sheet-comparison-group-container"));a.loadDescendantImagesManually(t(".payment-options-comparison-sheet-comparison-card-option"));
b(c,e)}function w(){return a.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function b(b,a){m(c.paymentOptionSelected.paymentOptionSelectedButtonId,b,a)}function m(b,a,c){v(a);t(function(){t("[id\x3d"+b+"]").removeClass(x.unselectedButton);t("[id\x3d"+b+"]").addClass(x.selectedButton);t("[id\x3d"+b+"]").children(0).children(0).text(c);t("[id\x3d"+b+"]").text(c)})}function v(b){t(x.sideSheetButton).removeClass(x.selectedButton);t(x.sideSheetButton).addClass(x.unselectedButton);
t(x.sideSheetButton).text(b);t(x.oneTimePaymentHeadButton).removeClass(x.selectedButton);t(x.oneTimePaymentHeadButton).addClass(x.unselectedButton);t(x.oneTimePaymentHeadButton).text(b)}var t=a.$,x=f.selector;a.on("PageRefresh:ATF",function(){d.resetLearnMoreState()});return{loadAjaxContent:function(b){var c=b.data.selectText,m=b.data.selectedText,x=t("#twister-plus-asin").val();null===x||""===x?(g.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),k()):d.getLearnMoreState("isAjaxContentLoaded")&&
!d.checkInconsistentState()?l(c,m,b.data.index):(t(f.learnMoreSelector.skeletonLoaderClass).removeClass("aok-hidden"),t(f.learnMoreSelector.ajaxErrorMessageSelector).addClass("aok-hidden"),a.ajax("/gp/product/ajax/paymentOptionsAjaxExperience?",{method:"get",timeout:1E4,params:{asin:x,showFeatures:"paymentOptionsLearnMoreSidesheetAjax,paymentOptions"},success:function(a){null===a||/^\s*$/.test(a)?(g.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),k()):e(a,b.data)?k():(d.setLearnMoreState("ajaxContent",
a),d.setLearnMoreState("isAjaxContentLoaded",!0),d.setLearnMoreState("ajaxContentAsin",x),l(c,m,b.data.index))},error:function(b,a){a===f.ajaxErrorReasons.timeoutStatus?g.incrementWithValue("Ajax:Failure:Timeout",1):g.incrementWithValue("Ajax:Failure",1);k()}}))},stopEventPropagation:function(b){b.$event.preventDefault();b.$event.stopImmediatePropagation()},preRenderSelectedFinancingOption:b}});"use strict";p.when("A","payment-options-state","po-learn-more-actions","payment-options-client-side-metric",
"payment-options-constants").register("payment-options-learn-more-events",function(a,d,f,h,g){a.declarative("payment-options-learn-more","click",function(c){h.increment("SideSheet:Link:Click");f.stopEventPropagation(c);a.trigger("a:declarative:side-sheet:click",c);!c.data.isComparePlansEvent&&d.getWeblabData().isDesktopLearnMoreAjaxEnabled?a.trigger("a:declarative:payment-options-learn-more-ajax:click",c):f.preRenderSelectedFinancingOption(c.data.selectText,c.data.selectedText)});a.declarative("payment-options-gil-skip-learn-more",
"click",function(a){h.incrementWithValue(g.metricConstants.skipLearnMoreMetricForDesktop,1);u.open(a.data.partnerUrl,"_blank","noopener")});a.declarative("payment-options-learn-more-ajax","click",function(a){f.loadAjaxContent(a)})});"use strict";p.when("A","payment-options-expander-actions","payment-options-expander-state","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(a,d,f,h,g){function c(a){if(b===y||null===b||null===a.data.isExpand||a.data.isExpand===y){if(null===
a.data.isExpand||a.data.isExpand===y)e("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1,a.data.isExpand=!1;d.initSubtitle(a);m&&d.hideLoaderAnimation(a.data.isExpand)}}function k(a){b=!0;var c=a.data.renderPreselection;f.autoScroll=!a.data.isAutoExpand;c||m?d.expandPaymentOptions(m,c):(v.isStarted||v.start(),d.expandSkeletonLoader(c));h.logNexusEventForSwatchExpansion(a)}var e=a.$,l=g.expTreatment,w=g.isFirstCard&&"T1"===l||"T2"===l||"T3"===l,b,m=f.isLoaded,
v=new h.Timer("Desktop:Expander:Loading:UserWaiting:Time"),t=new h.Timer("Desktop:Expander:Loading:Time");t.start();p.when("cc-payment-options").execute(function(){t.stop();v.isStarted&&v.stop();m=!0;d.hideLoaderAnimation(b);h.incrementWithValue("Container:Swatch:Amount",e(".payment-options-list-item").length)});a.declarative("toggle-payment-options-expander",["click","keydown"],function(f){if("keydown"!==f.type||13===f.$event.keyCode||32===f.$event.keyCode){c(f);b=f.data.isExpand;var g=f.data.renderPreselection;
!0===b?(b=!1,h.increment("Desktop:Expander:Click:Collapse"),d.collapsePaymentOptions(g)):!1===b&&k(f);e("[data-toggle-payment-options-expander]").each(function(){e(this).data("toggle-payment-options-expander").isExpand=b});a.trigger("a:declarative:expander-update-visible-payment-options:click",f)}});a.declarative("expand-payment-options-expander",function(b){if(!l||b.data.forceExpand)c(b),k(b),e("[data-toggle-payment-options-expander]").each(function(){e(this).data("toggle-payment-options-expander").isExpand=
!0})});w&&g.autoExpandCard()});"use strict";p.when("A","payment-options-expander-state","payment-options-constants","payment-options-client-side-metric","payment-options-swatch-actions","cc-manager").register("payment-options-expander-actions",function(a,d,f,h,g,c){function k(){if(d.autoScroll){var a=b(m.expanderContainer),c=a.offset().top+a.outerHeight();if(b(u).scrollTop()+b(u).height()<c){var c=a.offset().top,e=b(u).height(),a=a.height(),a=c-(e-a)/2;b("html, body").animate({scrollTop:a},d.animationTimeoutUnit)}}}
function e(a,c){a=a?t.monthlyPaymentOptionsExpandedSubtitle:c?t.monthlyPaymentOptionsExpandedSubtitle:t.loadingSubtitle;b(m.subtitleText).text(a);!1===c&&b(m.cardImage).fadeOut(f.animationTimeoutUnit)}function l(a){""!==t.monthlyPaymentOptionsCollapsedSubtitle&&b(m.subtitleText).text(t.monthlyPaymentOptionsCollapsedSubtitle);!1===a&&b(m.cardImage).fadeIn(f.animationTimeoutUnit)}function w(a,c){b(a)&&b(a).attr(v.ariaExpanded,c)}var b=a.$,m=f.selector,v=f.attributes,t=d.expanderSubtitle;return{initSubtitle:function(b){var a=
b.data.expandSubtitle;t.monthlyPaymentOptionsCollapsedSubtitle=b.data.collapseSubtitle;t.monthlyPaymentOptionsExpandedSubtitle=a},expandPaymentOptions:function(d,g){h.increment("Desktop:Expander:Click:Expand");h.increment("Desktop:Expander:Click:Expand:loading");b(m.expanderContent).addClass(m.paymentOptionExpand);b(m.expanderIcon).addClass("rotate");c.cardExpanded(f.featureRegistration.featureName);a.delay(function(){b(m.swatch).addClass(m.twisterPlusFadeIn);e(d,g);k()},f.animationTimeoutUnit);a.$(m.refreshToggle).hasClass("refresh-toggle")||
a.$(m.refreshCCText).removeClass("a-hidden");w(m.toggleExpanderButton,!0)},expandSkeletonLoader:function(c){h.increment("Desktop:Expander:Click:Expand");b(m.expanderContent).addClass(m.skeletonLoaderExpand);b(m.expanderIcon).addClass("rotate");a.delay(function(){c||(b(m.skeletonLoader).addClass(m.twisterPlusFadeIn),e(!1,c),k())},f.animationTimeoutUnit);w(m.toggleExpanderButton,!0)},hideLoaderAnimation:function(c,d){c&&b(m.skeletonLoader).removeClass(m.twisterPlusFadeIn);a.delay(function(){b(m.skeletonLoader).hide();
b(m.swatch).removeClass("invisible");c&&(b(m.subtitleText).text(t.monthlyPaymentOptionsExpandedSubtitle),b(m.expanderContent).addClass(m.paymentOptionExpand),a.delay(function(){b(m.swatch).addClass(m.twisterPlusFadeIn);e(!0,d);k()},f.animationTimeoutUnit))},f.animationTimeoutUnit)},collapsePaymentOptions:function(c){b(m.swatch).removeClass(m.twisterPlusFadeIn);d.isLoaded||c||b(m.skeletonLoader).removeClass(m.twisterPlusFadeIn);b(m.expanderIcon).removeClass("rotate");a.delay(function(){b(m.expanderContent).removeClass(m.paymentOptionExpand);
b(m.expanderContent).removeClass(m.skeletonLoaderExpand);l(c)},f.animationTimeoutUnit);w(m.toggleExpanderButton,!1);a.$(m.refreshCCText).hasClass("a-hidden")||a.$(m.refreshCCText).addClass("a-hidden")},showSubtitleInCollapsedView:l,showSubtitleInExpandedView:e,scrollToShowCompleteExpander:k}});"use strict";p.when("A","payment-options-state","payment-options-client-side-metric","cc-manager","payment-options-constants","payment-options-actions").register("payment-options-auto-expand",function(a,d,f,
h,g){var c=!1,k=function(){var e=document.getElementById("payment-options-expander-header"),k=d.getWeblabData().isAutoExpandWeblabInT1||d.getWeblabData().isAutoExpandWeblabInT2;if(e){if(e=k)e=h.getRenderedFeaturesList(),k=e[0]===g.featureRegistration.featureName,e=1===e.length&&k;e&&(e=JSON.parse(a.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander")),e.isAutoExpand=!0,a.trigger("a:declarative:expand-payment-options-expander",{data:e}),f.increment("Expander:AutoExpanded"),
c=!0)}};k();a.on("a:pageUpdate",k);return{isAutoExpanded:c}});"use strict";p.when("A").register("payment-options-expander-state",function(a){return{expanderSubtitle:{monthlyPaymentOptionsCollapsedSubtitle:"",monthlyPaymentOptionsExpandedSubtitle:"",loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(a){this.property=a}}});"use strict";p.when("A","payment-options-swatch-actions","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(a,
d,f,h){var g=a.$,c=!h.expTreatment||"T3"===h.expTreatment;a.declarative("payment-options-otp-action",["click","keydown"],function(k){if("keydown"!==k.type||13===k.$event.keyCode||32===k.$event.keyCode){f.increment("Swatch:OneTimePayment:Click");a.trigger("a:declarative:select-payment-option:click",{data:{}});var e=g(k.$currentTarget);e!==y&&null!==e&&(d.updateDefaultOptionSubtitle(k.data.defaultPOSubtitle,k.data.oneTimePaymentPOSubtitle),a.trigger("a:declarative:otp-selection:click",k),c||h.collapseCard())}});
a.declarative("payment-options-monthly-payment-action",["click","keydown"],function(d){if("keydown"!==d.type||13===d.$event.keyCode||32===d.$event.keyCode){var e=g(d.$currentTarget);e!==y&&null!==e&&(a.trigger("a:declarative:monthly-payment-option-selection:click",d),c||h.collapseCard(),f.logNexusEventForMonthlyPaymentSelection(d))}});a.declarative("payment-options-overflow","click",function(a){d.manageOverflow(a)});a.declarative("expander-update-visible-payment-options","click",function(a){var c=
g(a.$currentTarget);c!==y&&null!==c&&d.resetOverflowDefaultOptions(a)});a.declarative("update-swatch","click",function(a){"oneTimePaymentOption"===a.data.selectedPaymentOptionId?d.updateSwatchStyle(a.data.selectedPaymentOptionId):(d.updateSwatchStyle(a.data.selectedPaymentOptionId),d.updateFinancingOptionSubtitle(a.data.subtitleMessage,a.data.cardImageUrl))});a.declarative("disable-swatch","click",function(a){d.disableSwatch(a.$currentTarget)});a.declarative("enable-swatch","click",function(a){d.enableSwatch(a.$currentTarget)})});
"use strict";p.when("A","payment-options-expander-state","payment-options-constants","payment-plan-state").register("payment-options-swatch-actions",function(a,d,f,h){function g(a){e(l.swatchOption).removeClass(l.selectedOption);var c=e(l.swatchActionButton);c&&c.attr(b.ariaChecked,!1);a="oneTimePaymentOption"===a?e(l.oneTimePaymentOption):e("#"+a+"Swatch");a.addClass(l.selectedOption);(a=a.closest(l.swatchActionButton))&&a.attr(b.ariaChecked,!0)}function c(b){b.addClass(w.hideSwatchMainViewClass)}
function k(b,a){b.removeClass(w.hideSwatchMainViewClass);g(a);h.paymentOptionSelected.paymentOptionSelectedButtonId=a;h.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0}var e=a.$,l=f.selector,w=f.classes,b=f.attributes,m=d.expanderSubtitle;return{updateSwatchStyle:g,updateDefaultOptionSubtitle:function(b,a){m.monthlyPaymentOptionsCollapsedSubtitle=b;m.monthlyPaymentOptionsExpandedSubtitle=a;e(l.subtitleText).text(a);e(l.subtitle).removeClass("a-color-success");e(l.subtitle).addClass("a-color-tertiary");
e(l.checkmark).addClass("a-hidden");e(l.cardImage).attr("src","https://images-na.ssl-images-amazon.com/images/G/01/x-locale/common/transparent-pixel._V192234675_.gif")},updateFinancingOptionSubtitle:function(b,a){m.monthlyPaymentOptionsCollapsedSubtitle=b;m.monthlyPaymentOptionsExpandedSubtitle=b;e(l.subtitleText).text(b);e(l.subtitle).removeClass("a-color-tertiary");e(l.subtitle).addClass("a-color-success");e(l.checkmark).removeClass("a-hidden");e(l.cardImage).attr("src",a)},disableSwatch:function(b){var a=
b.find(l.financingOptions);a.removeClass(l.selectedOption);a.addClass(l.unavailableOption);b.addClass(l.disabledSwatch)},enableSwatch:function(b){b.find(l.financingOptions).removeClass(l.unavailableOption);b.removeClass(l.disabledSwatch)},manageOverflow:function(b){h.paymentOptionSelected.paymentOptionUnAvailableMsg=b.data.unAvailableMsg;var a=e("#"+b.data.paymentOptionSelectButtonId+"Swatch").parent().parent().parent();if(a.hasClass(w.hideSwatchMainViewClass)){for(var d=e(w.paymentOptionsList)[0].children,
f="",l=d.length-2;0<=l;l--)if(!e(d[l]).hasClass(w.hideSwatchMainViewClass)){f=e(d[l]);break}c(f);k(a,b.data.paymentOptionSelectButtonId)}else g(b.data.paymentOptionSelectButtonId),h.paymentOptionSelected.paymentOptionSelectedButtonId=b.data.paymentOptionSelectButtonId,h.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0},hideLastSwatch:c,unhideCorrespondingSwatch:k,resetOverflowDefaultOptions:function(b){if(!(3>=parseInt(b.data.numberOfPaymentOptions))){var a=e(w.paymentOptionsList)[0].children;
b="";for(var d=a.length-2;0<=d;d--)if(!e(a[d]).hasClass(w.hideSwatchMainViewClass)){b=e(a[d]);break}a=e(e(e(b.children()[0]).children()[0]).children()[0])[0];a.classList.contains(l.selectedOption)||"3"===a.id.match(/\d+/g)[0]||(c(b),e("#monthlyPaymentOption03Swatch").parent().parent().parent().removeClass(w.hideSwatchMainViewClass))}}}});"use strict";p.when("A").register("payment-plan-state",function(a){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"oneTimePaymentOption",paymentOptionClickedFromSideSheet:!1,
paymentOptionDisabledButtonId:"",paymentOptionDisabledTitleSuppliment:"",paymentOptionUnAvailableMsg:""},get isSelected(){return this.property},set isSelected(a){this.property=a}}});"use strict";p.when("A","payment-plan-state","payment-options-constants","payment-options-client-side-metric").execute(function(a,d,f,h){var g=a.$;a.declarative("otp-selection","click",function(c){var f=g(c.$currentTarget[0].parentNode);c=c.data.paymentOptionSelectButtonId;"payment-options-list-item"===f[0].parentNode.className?
d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(h.increment("SideSheet:OneTimePayment:Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=c;a.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId}})});a.declarative("monthly-payment-option-selection","click",function(c){c.data.hasOwnProperty("optionId")&&""!==c.data.optionId&&h.increment("Swatch:Financing:"+
c.data.optionId+":Click");h.increment("Swatch:MonthlyPayment:Click");a.trigger("a:declarative:select-payment-option:click",c);var f=g(c.$currentTarget);if(f!==y&&null!==f){var f=c.data.posubtitle,e=c.data.cardImageUrl,l=g(c.$currentTarget[0].parentNode),w=c.data.paymentOptionSelectButtonId;"payment-options-list-item"===l[0].parentNode.className?d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(c.data.hasOwnProperty("optionId")&&""!==c.data.optionId?h.increment("SideSheet:Financing:"+c.data.optionId+
":Click"):h.increment("SideSheet:Financing:"+c.data.executionInfo.offerType+":"+c.data.termType+":"+c.data.termCount+":Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=w;a.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId,subtitleMessage:f,cardImageUrl:e}});a.trigger("a:declarative:payment-options-overflow:click",c)}});a.declarative("compare-payment-plans-disable",
"click",function(a){d.paymentOptionSelected.paymentOptionUnAvailableMsg=a.data.paymentOptionUnAvailableMsg;a=a.data.disabledPaymentOptionId;var k=a.match(/\d+/g)[0],k="#"+f.disabledPaymentOptionSelecter+k;d.paymentOptionSelected.paymentOptionDisabledButtonId=a;d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment=g(k).text()});a.declarative("compare-payment-plans-enable","click",function(a){(a=a.data.enablePaymentOptionId)&&""!==a&&(a=a.match(/\d+/g)[0],d.paymentOptionSelected.paymentOptionDisabledButtonId=
"",g("#"+f.disabledPaymentOptionSelecter+a).text(d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment),d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment="",g("[id\x3d"+f.popOverText+a+"cell]").removeClass(f.classes.popOverShowClass),g("[id\x3d"+f.popOverText+a+"cell]").addClass(f.classes.popOverHideClass))})});"use strict";p.when("A","cc-payment-options","payment-options-client-side-metric").execute(function(a,d,f){a.declarative("payment-options-emp-action","change",function(a){d.updatePaymentOptionSelection(a.data)});
var h=a.debounce(function(){var d=a.$,c=d("#PaymentOptionsEmpAction");0<c.length&&c.trigger("change");0<d("#monthly-payments-not-applicable").length&&f.increment("Container:Render:Error");0<d(".payment-options-container").length&&f.increment("Container:Render:Success")},100);h();a.on("PageRefresh:ATF",h)});"use strict";p.when("A","price-block-payment-options","payment-options-client-side-metric","price-block-messaging-constants","ready").execute(function(a,d,f,h){var g=a.$;a.declarative("payment-options-emp-action-priceblock",
"change",function(a){d.updateUfoSelection(a.data)});var c=a.debounce(function(){var a=g("#PaymentOptionsEmpActionPriceBlock");0<a.length&&a.trigger("change");0<g("#monthly-payments-not-applicable").length&&f.incrementWithValuePriceBlockMessaging(h.metrics.RENDERED_FALSE,1);0<g(h.selector.PRICE_BLOCK_CONTAINER_CLASS).length&&0<g(h.selector.PRICE_BLOCK_STRING_CONTAINER).length&&f.incrementWithValuePriceBlockMessaging(h.metrics.RENDERED_TRUE,1);g(h.selector.CHECKBOX_PRICE_BLOCK).length&&g("#checkbox-price-block-inputId").removeAttr("disabled")},
100);c();a.on("PageRefresh:ATF",c)});"use strict";p.when("A","payment-options-client-side-metric","cc-payment-options","payment-options-constants").execute(function(a,d,f,h){var g=a.$;d=new d.Timer("Expander:Loading:Images:Time");d.start();f=function(){a.loadDescendantImagesManually(g(".payment-options-financing-option-card-image"));a.loadDescendantImagesManually(g(".payment-options-expander-heading-image-container"));a.loadDescendantImagesManually(g(".payment-option-detailed-feature-scroll"));a.loadDescendantImagesManually(g(".payment-options-side-sheet-header"));
a.loadDescendantImagesManually(g(".payment-options-side-sheet-option-summary"));a.loadDescendantImagesManually(g(".payment-options-side-sheet-comparison-group-container"));a.loadDescendantImagesManually(g(".payment-options-comparison-sheet-comparison-card-option"))};f();a.on("a:pageUpdate",f);d.stop()});"use strict";p.when("A","payment-options-swatch-actions","payment-options-constants","payment-options-state","cc-manager").execute(function(a,d,f,h,g){function c(a){var c=a.executionInfo;c.cartType=
f.parameters.cartTypes.addToCart;return{itemType:f.parameters.itemType,price:a.price,selectionType:f.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:!0,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,maxQuantity:a.maxQuantity,
displayQuantityMessage:!0,formData:[{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:c}]}}var k=a.$,e=f.selector,l=f.featureRegistration.featureName,w;a.on("a:dropdown:selected:quantity",function(b){var m=k("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0,v=k("#paymentOption_"+m+" .payment-options-list-item"),m=k("#paymentOption_"+m+" #oneTimePaymentOptionSwatch");b=b.value;for(var t=a.$(f.classSelector+e.selectedOption).closest(".payment-options-list-item").find("span.a-declarative").data(e.monthlyPaymentAction),
x=1;x<v.length;x++){var p=v.eq(x).find("span.a-declarative").data(e.monthlyPaymentAction),u=p.maxQuantity;u&&(b>u?(d.disableSwatch(v.eq(x)),u={data:{paymentOptionUnAvailableMsg:p.unAvailableText,numberOfPaymentOptions:p.numberOfPaymentOptions,disabledPaymentOptionId:p.paymentOptionSelectButtonId}},h.getWeblabData().isComparePlansRefactorWeblabInT1?a.trigger("a:declarative:compare-payment-plans-disable:click",u):d.disableOptionInCompareAllPlans(u),t&&p.offerGroup===t.offerGroup&&(k(m).click(),g.ccRemovedSelectionUpdate(l,
c(p)),w=p.offerGroup)):(d.enableSwatch(v.eq(x)),h.getWeblabData().isComparePlansRefactorWeblabInT1?a.trigger("a:declarative:compare-payment-plans-enable:click",{data:{enablePaymentOptionId:p.paymentOptionSelectButtonId}}):d.enableOptionInCompareAllPlans(p.numberOfPaymentOptions),w&&p.offerGroup===w&&(k(".tp-bbm-info-message-quantity-restriction-container").hasClass("tp-bbm-info-message-displayable")&&a.trigger("a:declarative:payment-options-monthly-payment-action:click",{$currentTarget:v.eq(x).find("span.a-declarative"),
data:p}),g.ccRemovedSelectionsClear(l))))}})});"use strict";p.when("A","payment-options-constants","price-block-message-actions","price-block-messaging-constants","comparison-plans-state","price-block-payment-options","po-compare-plans-actions","price-block-buy-box-utils").execute(function(a,d,f,h,g,c,k,e){function l(b,c){if(c.maxQuantity)if(b>c.maxQuantity){b=c.unAvailableMsg;var e=c.paymentOptionSelectButtonId;c=h.ID_PREFIX+d.disabledPaymentOptionSelecter+c.paymentOptionIndex;a.contains(g.paymentOptionSelected.disabledPaymentOptionIds,
e)||(g.paymentOptionSelected.paymentOptionUnAvailableMsg.push(b),g.paymentOptionSelected.disabledPaymentOptionIds.push(e),g.paymentOptionSelected.paymentOptionDisabledTitleSupplement.push(m(c).text()))}else 0<=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(c.paymentOptionSelectButtonId)&&(b=c.paymentOptionIndex,(c=c.paymentOptionSelectButtonId)&&""!==c&&a.contains(g.paymentOptionSelected.disabledPaymentOptionIds,c)&&(c=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(c),g.paymentOptionSelected.disabledPaymentOptionIds.splice(c,
1),m(h.ID_PREFIX+d.disabledPaymentOptionSelecter+b).text(g.paymentOptionSelected.paymentOptionDisabledTitleSupplement[c]),g.paymentOptionSelected.paymentOptionDisabledTitleSupplement.splice(c,1),g.paymentOptionSelected.paymentOptionUnAvailableMsg.splice(c,1),m("[id\x3d"+d.popOverText+b+"cell]").removeClass(d.classes.popOverShowClass),m("[id\x3d"+d.popOverText+b+"cell]").addClass(d.classes.popOverHideClass)))}function w(a){if(a=k.getTopEnabledOfferDataInComparisonTable(a))return a.paymentOptionSelectButtonId}
function b(a,b,e){E&&a.find(h.ID_PREFIX+E).length?0<=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(E)?(a={},a[v.MAX_QUANTITY_VARIABLE]=k.getMaxQuantityData(E)+1,f.showErrorMessage(h.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,b,!0,a),c.cancelUfoSelection()):k.selectAndConfirmPlan(C,E):y&&y!==u?f.resetPriceBlockMessageWithTopEligibleOffer(b):(a=k.getTotalOptionCount(C))&&a===g.paymentOptionSelected.disabledPaymentOptionIds.length&&(a={},a[v.MAX_QUANTITY_VARIABLE]=k.findMaximumMaxQuantity(C)+
1,f.showErrorMessage(h.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,b,!0,a))}var m=a.$,v=h.selector,t=h.classes,p=h.DASH_SPLITTER,u,y,E,C;a.on("a:dropdown:selected:quantity",function(a){if(m(v.PRICE_BLOCK_STRING_CONTAINER).length){C=e.getActiveBuyingOptionIndex();var c=a.value;a=m([v.COMPARISON_TABLE_MODAL_PREFIX,C].join(p));var d=a.find(v.COMPARISON_TABLE_COLUMN_CLASS);u=w(C);var f=m(v.PRICE_BLOCK_CONTAINER_PREFIX+C);m.each(d,function(a,b){a=m(b).find(v.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).parent().data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);
b=a.buyingOptionIndex;var e=a.paymentProductIndex;1<a.numberOfPaymentOptionsWithinProduct?(a=m([v.OFFER_SELECTION_VIEW_ID_PREFIX,b,e].join(p)).find(v.OFFER_SELECTION_ROW_ACTION_CLASS),m.each(a,function(a,b){a=m(b).closest(v.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME);l(c,a)})):l(c,a)});y=w(C);E=g.paymentOptionSelected.paymentOptionSelectedButtonId;b(a,f,d)}})});"use strict";p.when("A","price-block-ajax-weblab-trigger","price-block-ajax-constants").execute("price-block-ajax-rendering",
function(a,d,f){var h=a.$;0<h(f.COMPARE_PLAN_LINK_CLASS).length&&d.triggerWeblabC();var g=a.debounce(function(){0<h(f.COMPARE_PLAN_LINK_CLASS).length&&d.triggerWeblabC()},1500);a.on("PageRefresh:ATF",g)});"use strict";p.when("A","ready").register("price-block-ajax-constants",function(a){return{COMPARE_PLAN_LINK_CLASS:".compare-plan-link"}});"use strict";p.when("A").register("price-block-ajax-weblab-trigger",function(a){return{triggerWeblabC:function(){u.ue&&u.ue.trigger&&u.ue.trigger("PAYTECH_UFO_DP_PRICEBLOCK_AJAX_1157799",
"C")},triggerWeblabT1:function(){u.ue&&u.ue.trigger&&u.ue.trigger("PAYTECH_UFO_DP_PRICEBLOCK_AJAX_1157799","T1")}}});"use strict";p.when("A","payment-options-constants").register("payment-options-state",function(a,d){function f(){if(!g||0===Object.keys(g).length){var a=h(d.selector.paymentOptionsWeblabs).attr(d.selector.paymentOptionsWeblabsAttribute);a&&(g=JSON.parse(a))}return g}var h=a.$,g={};a={getWeblabData:f};f();return a});"use strict";p.when("A","compare-plan-row-constants","ready").register("price-block-messaging-constants",
function(a,d){var f={UNKNOWN:"UNKNOWN",PAYMENT_OFFER_INFO_TYPE:"paymentOfferInfoType",PAYMENT_OFFER_INFO_FIELD:"paymentOfferInfo",BLANK_STRING:"",ID_PREFIX:"#",CLASS_PREFIX:".",ONE_TIME_PAYMENT_OPTION_ID:"oneTimePaymentOption",DASH_SPLITTER:"-",PAYMENT_OPTION_SELECT_BUTTON_ID_KEY:"paymentOptionSelectButtonId",HIDDEN_CSS_CLASS:"aok-hidden",parameter:{cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"}},deviceType:{WEB:"web",MOBILE_WEB:"mobile",MOBILE_APP:"mobileApp"},paymentOfferInputElement:{inputType:"hidden",
poiFieldPlaceholder1:"paymentOfferInfo",poiFieldPlaceholder2:"items[0.base][additionalParameters][paymentOfferInfo]",poiIHIFiledPlaceholder1:"items[0.base][additionalParameters][installments][programId]",poiIHIFiledPlaceholder2:"isInstallmentsChecked",poiIHIFiledPlaceholder3:"installments-check",poiIHIFiledPlaceholder4:"installments-programId"},selector:{priceBlockMessageSinglePlanUnavailableMsg:"priceBlockMessageSinglePlanUnavailable",BUYBOX_ACCORDION:"#buybox .a-accordion",ADD_TO_CART_BUTTON_ID:"#add-to-cart-button, #installments-button, #add-to-cart-button-ubb-mobile, #pickup-add-to-cart-button",
BUYNOW_BUTTON_ID:"#buy-now-button",ACCORDION_ROW_CLASS:".accordion-row",DECLARATIVE_CLASS:".a-declarative",SPAN_DECLARATIVE:"span.a-declarative",DATA_ATTRIBUTE_ACTION:"action",OFFER_DISPLAY_GROUP:"#offerDisplayGroup",MOBILEAPP_TABS_ELEMENT_ID:"[id^\x3dtab_mobileapp_buybox_group]",TAB_GROUP_NAME:"data-csa-c-content-id",BUYBOX_TAB_ACTIVE:"#buybox .a-tab-heading.a-active",NO_TABS_GROUP_DESKTOP:"#buybox div:first-child",NO_TABS_GROUP_MOBILE:"#buybox div:first-child div:first-child",DEFAULT_WEB_GROUP_NAME:"desktop_buybox_group_1",
DEFAULT_MOBILE_WEB_GROUP_NAME:"mobile_buybox_group_1",DEFAULT_MOBILE_APP_GROUP_NAME:"mobileapp_buybox_group_1",PAYMENT_OFFER_INPUTS_CLASS:".paymentOfferInputs",PAYMENT_OFFER_INPUTS_CLASS_NAME:"paymentOfferInputs",PAYMENT_OFFER_INFO_INPUT:"input[name\x3d'paymentOfferInfo']",SELECT_BUTTON_TEXT_PREFIX:"#monthlyPaymentOption-button-text-",SELECT_BUTTON_TEXT_CLASS:".monthlyPaymentOption-button-text",SELECT_BUTTON_CLASS_PREFIX:".monthlyPaymentOption-",PRICE_BLOCK_CONTAINER_PREFIX:"#price-block-container-",
PRICE_BLOCK_CONTAINER_CLASS:".price-block-container",PRICE_BLOCK_STRING_CONTAINER:".price-block-label",CONFIRM_PLAN_BUTTON_CLASS:".payment-option-confirm-button",CANCEL_PLAN_BUTTON_ID:"#price-block-cancel-plan-button",COLUMN_ID_PREFIX:"#monthly-payment-option-column-",POPOVER_ID:"#popover{numericSuffix}cell",NUMERIC_SUFFIX_VARIABLE:"{numericSuffix}",MAX_QUANTITY_VARIABLE:"${maxQuantity}",DISABLED_PAYMENT_OPTION_PREFIX:"#titleSupplement",PRICE_BLOCK_AMOUNT_PREFIX_ID:"#price-block-amount-prefix",PRICE_BLOCK_AMOUNT_ID:"#price-block-amount",
PRICE_BLOCK_AMOUNT_SUFFIX_ID:"#price-block-amount-suffix",COMPARE_PLAN_LINK_SELECTED:"#compare-plan-link-text-selected",COMPARE_PLAN_LINK_UNSELECTED:"#compare-plan-link-text-not-selected",PRICE_BLOCK_STRING:"#price-block-message",OPTION_SELECTION_MESSAGE:"#option-selection-message",PREVIOUS_OPTION_ITEM_APPLICABILITY_MESSAGE:"#previous-option-item-applicability-message",PRICE_BLOCK_ALERT_ERROR:"#price-block-error-icon",PRICE_BLOCK_ERROR_STRING_ID:"#price-block-error-string",PRICE_BLOCK_ERROR_CONTAINER:"#price-block-error-message",
COMPARE_PLAN_LINK:"#compare-plan-link",ACTIVE_TAB:"#buybox .a-tab-heading.a-active",TAB_PREFIX:"#tab_",BUY_BOX_ACCORDION_ROWS:"#buyBoxAccordion",ACCORDION_ROW_FOR_BUYING_OPTION_INDEX:"\x3e[data-buying-option-index\x3d'{buyingOptionIndex}']",BUYING_OPTION_INDEX_VARIABLE:"{buyingOptionIndex}",ACTIVE_ACCORDION:".a-accordion-active",ADD_TO_CART_FORM_ID:"#addToCart",BUY_NOW_FORM_ID:"form#buyNow, form#buyNowCheckout",DELIVERY_TAB:"#offerDisplayGroupTabSet [id$\x3d'_buybox_group_1']",PICKUP_TAB:"#offerDisplayGroupTabSet [id$\x3d'_buybox_group_2']",
OFFER_DISPLAY_GROUP_TAB_SET:"#offerDisplayGroupTabSet",COMPARE_PLAN_AFTER_SHOW:"a:popover:afterShow:",SINGLE_PLAN_UNAVAILABLE_ID:"#priceBlockMessageSinglePlanUnavailable",PRICE_BLOCK_MSG:".price-block-msg",PRICE_BLOCK_INNER_AMOUNT:".price-block-inner-amount",PRICE_BLOCK_SUBTITLE_TEXT:".payment-option-subtitle-text",PRICE_BLOCK_SUCCESS:".payment-option-success",PRICE_BLOCK_OR_TEXT:".price-block-or-text",PRICE_BLOCK_AMOUNT:".price-block-amount",PRICE_BLOCK_EXTRA_TEXT:".price-block-extra-text",PRICE_BLOCK_ALERT:".price-block-icon",
PRICE_BLOCK_ALERT_SUCCESS:"#price-block-selected-icon",APEX_PRICE_BLOCK_CONTAINER:"#paymentOptions_PriceblockMessaging_feature_div",SIDE_SHEET_CLOSE_BUTTON:".payment-options-side-sheet-close-button",ONE_TIME_PAYMENT_OPTION_ID:"#oneTimePaymentOption",PAYMENT_OPTIONS_CHECKBOX:".payment-options-checkbox",COMPARISON_TABLE_COLUMN_CLASS:".comparison-table-product-column",COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS:".comparison-table-row-value-action",OFFER_SELECTION_SHEET_CLASS:".compare-plan-offer-selection-sheet",
LEARN_MORE_SHEET_CLASS:".compare-plan-learn-more-sheet",COMPARISON_TABLE_PREFIX:"#comparison-table",COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX:"#comparison-table-compare-sheet-monthly-payment",COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX:"#comparison-table-confirm-plan-button",COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX:"#comparison-table-error-message",COMPARISON_TABLE_MODAL_PREFIX:"#compare-plan-modal",COMPARISON_TABLE_OPTION_LIKE:".comparison-table-row-value-options-like",COMPARISON_TABLE_MORE_OPTION:".comparison-table-row-value-more-option",
COMPARISON_TABLE_SELECT_PLAN_BUTTON_CLASS:".comparison-table-modal-select-plan-button",COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_CLASS:".comparison-table-modal-select-plan-button-text",COMPARISON_TABLE_COLUMN_ID_PREFIX:"#monthly-comparison-table-column",COMPARISON_TABLE_SELECT_PLAN_BUTTON_ID_PREFIX:"#comparison-table-select-plan-button",COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_ID:"#comparison-table-modal-select-plan-button-text",COMPARISON_TABLE_ROW_VALUE_MORE_OPTION_ID:"#comparison-table-row-value-more-option",
COMPARISON_TABLE_ROW_VALUE_OPTION_LIKE_ID:"#comparison-table-row-value-options-like",COMPARISON_TABLE_MODAL_CLASS:".compare-plan-modal-wrapper",OFFER_SELECTION_ROW_CLASS:".compare-plan-offer-selection-value-row",OFFER_SELECTION_OPTION_LIST_ID_PREFIX:"#compare-plan-offer-selection-value-row-list",OFFER_SELECTION_ROW_ID_PREFIX:"#compare-plan-offer-selection-value-row",OFFER_SELECTION_VIEW_ID_PREFIX:"#compare-plan-offer-selection-sheet",OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX:"#compare-plan-offer-selection-error-message",
OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX:"#compare-plan-offer-selection-continue-button",OFFER_SELECTION_DISABLED_ROW_CLASS:".compare-plan-offer-selection-disabled-row",OFFER_SELECTION_ROW_ACTION_CLASS:".compare-plan-offer-selection-value-row-action",COMPARISON_TABLE_CAN_DISABLE_CLASS:".comparison-table-can-disable",COMPARISON_TABLE_CANCEL_BUTTON_CLASS:".comparison-table-modal-cancel-plan-button",COMPARISON_TABLE_SELECT_PLAN_WITH_OFFER_GROUP_CLASS_PREFIX:".compare-plan-select-plan",MORE_OPTION_CLASS:".comparison-table-more-options",
MORE_OPTION_PREFIX:"#payment-option-more-options-",COMPARISON_TABLE_SELECT_ACTION_BUTTON:".comparison-table-modal-select-action-button",COMPARE_PLAN_2_5_INTEREST_APR_CONTAINER:".interest-apr-container",COMPARE_PLAN_2_5_TREATMENT_CONTAINER:"#comparePlan2_5Treatment"}};a.$.extend(f.selector,d);f.classes={SELECTED_PAYMENT_OPTION_BORDER:"payment-option-selected-column-border",NORMAL_PAYMENT_OPTION_BORDER:"payment-option-column-normal-border",SELECTED_PAYMENT_OPTION_ORDER:"payment-option-selected-column-order",
CONFIRM_PLAN_BUTTON:"payment-option-confirm-button",DISABLED_PAYMENT_OPTION:"payment-option-disabled-column",DISABLED_PAYMENT_OPTION_ORDER:"payment-option-disabled-column-order",POPOVER_HIDE:"popover-hide",POPOVER_SHOW:"popover-show",DISABLED_PAYMENT_OPTION_ORDER_ENABLE_POINTER:"payment-option-disabled-column-enable-pointer",COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER:"comparison-table-selected-column-border",COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND:"comparison-table-selected-column-background",
COMPARISON_TABLE_DISABLED_COLUMN:"comparison-table-disabled-column",COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA:"comparison-table-select-plan",COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED:"comparison-table-modal-select-plan-button-selected",COMPARISON_TABLE_LEARN_MORE_ACTION_DATA:"comparison-table-learn-more",COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA:"comparison-table-confirm-plan",COMPARISON_TABLE_CHECKOUT_PLAN_ACTION_DATA:"comparison-table-checkout-plan",COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX:"comparison-table-payment-details-amount-text",
COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX:"comparison-table-interest-amount",COMPARISON_TABLE_INTEREST_APR_ID_PREFIX:"comparison-table-interest-apr",COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX:"comparison-table-total-amount",COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX:"cart-level-text",COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX:"item-level-text",COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX:"comparison-table-card-reward-text",COMPARISON_TABLE_LEARN_MORE_ID_PREFIX:"comparison-table-learn-more",OFFER_SELECTION_DISABLE_ROW_CLASS:"compare-plan-offer-selection-disabled-row",
OFFER_SELECTION_ROW_ACTION_PREFIX:"compare-plan-offer-selection-value-row-action",OFFER_SELECTION_ROW_ACTION_NAME:"offer-selection-select-row",OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS:"compare-plan-offer-selection-value-row-selected-border",OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS:"compare-plan-offer-selection-value-row-selected-background",OFFER_SELECTION_CONTINUE_ACTION_DATA:"compare-plan-offer-selection-continue",OFFER_SELECTION_CHECKOUT_ACTION_DATA:"compare-plan-offer-selection-checkout",
OFFER_SELECTION_ACTION_NAME_CAMEL_CASE:"offerSelectionSelectRow",MORE_OPTION_CLASS:".comparison-table-more-options",COLOR_SUCCESS:"a-color-success",COLOR_BASE:"a-color-base"};f.actionData={SELECT_BUTTON_CLICK_DATA:"priceBlockSelectPaymentPlan",CONFIRM_PLAN_CLICK_DATA:"paymentOptionConfirmPlan",BUYING_OPTION_INDEX:"buyingOptionIndex",COMPARE_PLAN_V2_ACTION_DATA:"priceBlockComparePlans"};f.attributes={TAB_CONTENT_ID:"data-csa-c-content-id",SELECT_PAYMENT_PLAN:"price-block-select-payment-plan",ariaChecked:"aria-checked"};
f.natcParams={paymentOfferInfo:"items[0.base][additionalParameters][paymentOfferInfo]",inHouseInstallments:"items[0.base][additionalParameters][installments][programId]"};f.classActions={ADD:"add",REMOVE:"remove"};f.errorMessageType={PAYMENT_OPTION_UNAVAILABLE:"paymentOptionUnavailable",PLAN_UNAVAILABLE_OVER_MAX_QUANTITY:"planUnavailableOverMaxQuantity"};f.metrics={RENDERED_TRUE:"PriceBlock2:Render:True:Desktop",RENDERED_FALSE:"PriceBlock2:Render:False:Desktop",SELECT_BUTTON_CLICK:"PriceBlock2:SelectButton:Click:Desktop",
CONFIRM_PLAN_CLICK:"PriceBlock2:ConfirmPlan:Click:Desktop",CANCEL_PLAN_CLICK:"PriceBlock2:CancelPlan:Click:Desktop",LEARN_MORE_CLICK:"PriceBlock2:LearnMore:Click:Desktop",COMPARE_PLAN_CLICK:"PriceBlock2:ComparisonPlanLink:Click:Desktop",COMPARE_PLAN_RENDERED:"PriceBlock2:ComparisonPlan:Rendered:Desktop",OFFER_SELECTION_SUCCESSFUL:"PriceBlock2:OfferSelection:Successful",PAYMENT_METHOD_CARD_SUPPLEMENT_CLICK:"PriceBlock2:PaymentMethodCardSupplement:Click:Mobile",CP2_SELECT_BUTTON_SINGLE_OFFER_CLICK:"PriceBlock2:CP2:SelectButtonSingleOffer:Click:Desktop",
CP2_CONFIRM_PLAN_OFFER_SELECTED_CLICK:"PriceBlock2:CP2:ConfirmPlanOfferSelected:Click:Desktop",CP2_CONFIRM_PLAN_WITHOUT_OFFER_SELECTED_CLICK:"PriceBlock2:CP2:ConfirmPlanNoOfferSelected:Click:Desktop",CP2_CANCEL_PLAN_CLICK:"PriceBlock2:CP2:CancelPlan:Click:Desktop",CP2_LEARN_MORE_CLICK:"PriceBlock2:CP2:LearnMore:Click:Desktop",CP2_SELECT_BUTTON_MORE_OFFER_CLICK:"PriceBlock2:CP2:SelectButtonMoreOffer:Click:Desktop",CP2_OFFER_SELECTION_SELECT_ROW_CLICK:"PriceBlock2:CP2:OfferSelectionSelectRow:Click:Desktop",
CP2_OFFER_SELECTION_CONTINUE_CLICK:"PriceBlock2:CP2:OfferSelectionContinue:Click:Desktop",CP2_BACK_CLICK:"PriceBlock2:CP2:Back:Click:Desktop"};f.supportedTargetTypes=["_self","_blank","_parent","_top","_unfencedTop"];return f});"use strict";p.when("A","price-block-messaging-constants","payment-options-opt-out-state","turbo-checkout-handler-pb","payment-options-client-side-metric","price-block-buy-box-utils","ready").register("price-block-payment-options",function(a,d,f,h,g,c){var k,e;function l(b,
c){b.data.buyingOptionType!==d.UNKNOWN&&(a.delay(function(){k=t(p(c));C(p(c),k,b,!0)}),e=t(u(c)),C(u(c),e,b,!1))}function w(a,b){a=I(a.data.executionDetails);var c=R(b);J(a,!0);L(a);K(a,c);b=E(b);J(a,!1);K(a,b);h.updateInputCheckbox(!0)}function b(){if(f.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet){var a={data:{executionDetails:{paymentOfferInfoType:'{"isOTP": true}'}}};l(a);w(a)}}function m(a){var b=JSON.parse(a.executionDetails.paymentOfferInfoType);b.sessionId=a.sessionId;b.customerId=
a.customerId;b.marketplaceId=a.marketplaceId;b.requestId=a.requestId;b.deviceType=a.deviceType;b.asin=a.asin;b.buyingOptionType=a.buyingOptionType;b.parentASIN=a.parentASIN;b.websiteDisplayGroup=a.websiteDisplayGroup;a.executionDetails.paymentOfferInfoType=JSON.stringify(b)}function v(a){var b=JSON.parse(a.executionDetails.paymentOfferInfoType);b.isFinancingCartLevel=a.isOrderLevel;a.executionDetails.paymentOfferInfoType=JSON.stringify(b)}function t(b){var c=[];b.each(function(){var b=A(this).parents(z.DECLARATIVE_CLASS);
if(0<b.length){var e;e=A(b).data(z.DATA_ATTRIBUTE_ACTION).split("-");for(var d=e[0],f=1;f<e.length;f++)var g=e[f].charAt(0).toUpperCase()+e[f].slice(1),d=d+g;e=d;b=a.copy(A(b).data(e));c.push({dataActionKey:e,initialFormData:b})}});return c}function p(a){return a||(a=A(z.OFFER_DISPLAY_GROUP))&&1===a.length?a.find(z.ADD_TO_CART_BUTTON_ID):(a=A(z.BUYBOX_ACCORDION))&&1===a.length?a.find(z.ADD_TO_CART_BUTTON_ID):A(z.ADD_TO_CART_BUTTON_ID)}function u(a){return a||(a=A(z.OFFER_DISPLAY_GROUP))&&1===a.length?
a.find(z.BUYNOW_BUTTON_ID):(a=A(z.BUYBOX_ACCORDION))&&1===a.length?a.find(z.BUYNOW_BUTTON_ID):A(z.BUYNOW_BUTTON_ID)}function R(a){return[a&&1===a.length?a.find(z.ADD_TO_CART_FORM_ID):A(z.ADD_TO_CART_FORM_ID)]}function E(a){return[a&&1===a.length?a.find(z.BUY_NOW_FORM_ID):A(z.BUY_NOW_FORM_ID)]}function C(a,b,c,e){var d=0,f=e?"addToCartData":"buyNowData",g=I(c.data.executionDetails);J(g,e);e&&L(g);a.each(function(){var a=A(this).parents(z.DECLARATIVE_CLASS);if(0<a.length){var c=b[d++];if(c!==y){Object.keys(N[f]).forEach(function(a,
b){delete c.initialFormData.inputs[a]});var e=A.extend({},c.initialFormData.inputs,g),l=A.extend({},c.initialFormData);l.inputs=e;a.data(c.dataActionKey,l)}}});N[f]=g}function K(a,b){var c=A("\x3cfieldset\x3e",{"class":z.PAYMENT_OFFER_INPUTS_CLASS_NAME});Object.keys(a).forEach(function(b){A("\x3cinput\x3e").attr({type:d.paymentOfferInputElement.inputType,name:b,value:a[b]}).appendTo(A(c))});var e=b[0].find(z.PAYMENT_OFFER_INPUTS_CLASS);e.length?A(e).replaceWith(c):b[0].append(c);return!!b[0].length}
function I(a){var b={};Object.keys(a).forEach(function(c){b[c===d.PAYMENT_OFFER_INFO_TYPE?d.PAYMENT_OFFER_INFO_FIELD:c]=a[c]});return b}function L(a){Object.keys(a).forEach(function(b){d.natcParams[b]&&(a[d.natcParams[b]]=a[b])})}function J(a,b){if(a[d.PAYMENT_OFFER_INFO_FIELD]){var c=JSON.parse(a[d.PAYMENT_OFFER_INFO_FIELD]);c.cartType=b?d.parameter.cartTypes.addToCart:d.parameter.cartTypes.buyNow;a[d.PAYMENT_OFFER_INFO_FIELD]=JSON.stringify(c)}}function F(a,b){var e=c.getActiveAccordionBuyBox(b);
b=I(a.data.executionDetails);a=a.data.deviceType;var f;f=R(e);var g=E(e);f=D(b,f)||D(b,g);a===d.deviceType.MOBILE_APP&&(a=t(p(e)),e=t(u(e)),f=G(b,a)||G(b,e)||f);return f}function D(b,c){c=c[0].find(z.PAYMENT_OFFER_INPUTS_CLASS);var e=Object.keys(b).length;b=JSON.parse(b.paymentOfferInfo).businessMetric;if(c.length){for(var d=0;d<c.length;d++){var f=c[d],g=A(f).find(z.PAYMENT_OFFER_INFO_INPUT).attr("value");if(f.children.length<e||!a.contains(g,b))return!1}return!0}return!1}function G(b,c){var e=JSON.parse(b.paymentOfferInfo).businessMetric;
if(c.length){for(var d=0;d<c.length;d++){var f=c[d].initialFormData.inputs,g=f.paymentOfferInfo;if(H(b,f)||!a.contains(g,e))return!1}return!0}return!1}function H(b,c){b=Object.keys(b);return a.filter(b,function(b){return 0>a.indexOfArray(Object.keys(c),b)}).length}var A=a.$,z=d.selector;k=[];e=[];var N={addToCartData:{},buyNowData:{}};return{updateUfoSelection:function(b,e){var f=b.data.deviceType,k=b.data.buyingOptionType;v(b.data);m(b.data);var h=d.metrics.OFFER_SELECTION_SUCCESSFUL+":"+f+":"+k+
":",k=c.getActiveAccordionBuyBox(e);f===d.deviceType.MOBILE_APP&&l(b,k);w(b,k);g.logNexusEventForMonthlyPaymentSelection(b);a.delay(function(){var a=F(b,e);g.incrementWithValuePriceBlockMessaging(h+a,1);g.incrementWithValuePriceBlockMessaging(d.metrics.OFFER_SELECTION_SUCCESSFUL+":"+a,1)})},triggerCheckout:function(a){var b;a&&(b=c.getActiveAccordionBuyBox(a));(a=u(b))&&a.click()},updateOneTimePaymentSelection:b,cancelUfoSelection:function(){A(z.PAYMENT_OFFER_INPUTS_CLASS).empty();(k.length||e.length)&&
l({data:{executionDetails:{}}});b();h.updateInputCheckbox(!1)},isPaymentOfferInputsUpdated:F}});"use strict";p.when("A","price-block-messaging-constants").register("turbo-checkout-handler-pb",function(a,d){var f=a.$,h,g={updateInputCheckbox:function(a){h=f(d.selector.PAYMENT_OPTIONS_CHECKBOX);f.each(h,function(d,e){d=f(e);e=d.prop("checked");!e&&a?d.prop("checked","true").trigger("change"):e&&!a&&d.click()})}};g.updateInputCheckbox(!1);a.on("PageRefresh:ATF",function(){g.updateInputCheckbox(!1)});
return g});"use strict";p.when("A").register("comparison-plans-state",function(a){function d(){f.paymentOptionSelected={paymentOptionSelectedButtonId:"",paymentOptionClickedFromSideSheet:!1,disabledPaymentOptionIds:[],paymentOptionDisabledTitleSupplement:[],paymentOptionUnAvailableMsg:[]}}var f={get isSelected(){return this.property},set isSelected(a){this.property=a}};d();a.on("PageRefresh:ATF",d);return f});"use strict";p.when("A").register("payment-options-opt-out-state",function(a){return{paymentOptionOptOutSelected:{isOneTimePaymentPreferenceSet:!1,
changePlanEventData:""},secondaryViewInstance:null}});"use strict";p.when("A","payment-options-client-side-metric","price-block-messaging-constants").register("payment-options-side-sheet",function(a,d,f){function h(a){e("#payment-options-side-sheet-container-"+a).show(function(){c(a,{right:"0px"})})}function g(a){e("#payment-options-side-sheet-container-"+a).show(function(){c(a,{right:"-600px"})})}function c(c,d,b){a.animate(e("#payment-options-side-sheet-container-"+c),d,300,b)}function k(a){d.incrementWithValuePriceBlockMessaging(f.metrics.PAYMENT_METHOD_CARD_SUPPLEMENT_CLICK,
1);a=a.data.url;var c=Object.fromEntries((new URL(a)).searchParams.entries());"${redirect_url}"===c.redirectUrl&&(a=a.replace("${redirect_url}",encodeURIComponent(u.location.href)));-1!==f.supportedTargetTypes.indexOf(c.target)?u.open(a,c.target):u.open(a)}var e=a.$;a.declarative("open-payment-options-side-sheet","click",function(c){var d=c.data.buyingOptionIndex;e(".payment-options-side-sheet-content").addClass("aok-hidden");var b=e("#payment-options-side-sheet-container-"+d+" #payment-options-side-sheet-main-section");
e("#"+c.data.contentId).removeClass("aok-hidden");b.removeClass("aok-hidden");e("#payment-options-side-sheet-container-"+d).removeClass("aok-hidden");c=c.data.buyingOptionIndex;e("body").css("overflow","hidden");a.show("#payment-options-side-sheet-dp-bg-"+c);h(c)});a.declarative("close-payment-options-side-sheet","click",function(c){c=c.data.buyingOptionIndex;g(c);a.hide("#payment-options-side-sheet-container-"+c);a.hide("#payment-options-side-sheet-dp-bg-"+c);e("body").css("overflow","scroll")});
a.declarative("payment-options-card-supplement","click",function(a){k(a)});a.declarative("payment-options-card-supplement-not-select","click",function(a){a.$event.stopPropagation();k(a)})});"use strict";p.when("A","po-learn-more-actions","price-block-messaging-constants","payment-options-client-side-metric").register("payment-options-price-block-learn-more-events",function(a,d,f,h){a.declarative("payment-options-price-block-learn-more","click",function(g){d.stopEventPropagation(g);h.incrementWithValuePriceBlockMessaging(f.metrics.LEARN_MORE_CLICK,
1);a.trigger("a:declarative:open-payment-options-side-sheet:click",g);d.preRenderSelectedFinancingOption(g.data.selectText,g.data.selectedText)});a.declarative("payment-options-gil-prequal-learn-more","click",function(a){h.incrementWithValuePriceBlockMessaging(f.metrics.PREQUAL_GET_PREQUALIFIED_CLICK,1);a=a.data.prequalUrl+"\x26redirectUrl\x3d"+encodeURIComponent(u.location.href);u.open(a,"_blank")})});"use strict";p.when("A","price-block-message-actions","price-block-payment-options","comparison-plans-state",
"price-block-messaging-constants","payment-options-client-side-metric").register("price-block-offer-selection-events",function(a,d,f,h,g,c){function k(a){var b=e(a.$currentTarget);b!==y&&null!==b&&(b=a.data.paymentOptionSelectButtonId,h.paymentOptionSelected.paymentOptionSelectedButtonId=b,b===g.ONE_TIME_PAYMENT_OPTION_ID?delete h.paymentOptionSelected.offerGroup:h.paymentOptionSelected.offerGroup=a.data.offerGroup)}var e=a.$,l=g.selector;a.declarative("price-block-select-payment-plan","click",function(g){c.logNexusEventForComparePlansOfferSelection(g);
var b=e(g.$currentTarget);b===y||null===b||a.contains(h.paymentOptionSelected.disabledPaymentOptionIds,g.data.paymentOptionSelectButtonId)||(b=g.data.buyingOptionIndex,f.updateUfoSelection(g,b),k(g),g=g.data.optionSelectedString,b=e(l.PRICE_BLOCK_CONTAINER_PREFIX+b),d.hideErrorMessage(b),d.updatePriceBlockMessageWithSelectedOption(g,b))});a.declarative("price-block-otp-action","click",function(a){var b=e(a.$currentTarget);b!==y&&null!==b&&(b=a.data.buyingOptionIndex,f.cancelUfoSelection(),k(a),a=
e(l.PRICE_BLOCK_CONTAINER_PREFIX+b),d.resetPriceBlockMessageWithTopEligibleOffer(a))});a.declarative("continue-checkout-update-buynow","click",function(c){var b=e(c.$currentTarget);b===y||null===b||a.contains(h.paymentOptionSelected.disabledPaymentOptionIds,c.data.paymentOptionSelectButtonId)||(b=c.data.buyingOptionIndex,f.updateUfoSelection(c,b),f.triggerCheckout(b))})});"use strict";p.when("A","price-block-payment-options","comparison-plans-state","price-block-messaging-constants","price-block-message-actions",
"po-compare-plans-actions","price-block-buy-box-utils").register("price-block-mod-buy-box-listener",function(a,d,f,h,g,c,k){var e=a.$,l=h.selector;a.on("a:tabs:offerDisplayGroup_tabs:select",function(c){e(l.PRICE_BLOCK_STRING_CONTAINER).length&&(c=h.ID_PREFIX+c.selectedTab.$tab[0].id,k.updateActiveTab(c),c=k.getActiveBuyingOptionIndex(c),a.trigger("a:declarative:update-offer-selection-on-switch-buying-option:click",c))});a.on("a:accordion:buybox-accordion:select",function(c){e(l.PRICE_BLOCK_STRING_CONTAINER).length&&
(c=parseInt(c.selectedRow.$row.index()),k.updateActiveBuyingOptionIndex(c),a.trigger("a:declarative:update-offer-selection-on-switch-buying-option:click",c))});a.declarative("update-offer-selection-on-switch-buying-option","click",function(a){var b=f.paymentOptionSelected.offerGroup,k=f.paymentOptionSelected.paymentOptionSelectedButtonId,v=e([l.COMPARISON_TABLE_MODAL_PREFIX,a].join(h.DASH_SPLITTER)),t=e(l.PRICE_BLOCK_CONTAINER_PREFIX+a);k===h.ONE_TIME_PAYMENT_OPTION_ID?v.length?v.find(l.COMPARISON_TABLE_CANCEL_BUTTON_CLASS).click():
g.hideErrorMessage(t):b&&(k=v.find(l.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS),b=v.find(e([l.COMPARISON_TABLE_SELECT_PLAN_WITH_OFFER_GROUP_CLASS_PREFIX,b].join(h.DASH_SPLITTER))),v&&b&&b.length?c.selectAndConfirmPlan(a,b.attr("id")):(a=v&&k&&k.length,d.cancelUfoSelection(),g.showErrorMessage(h.errorMessageType.PAYMENT_OPTION_UNAVAILABLE,t,a,{})))})});"use strict";p.when("A","price-block-messaging-constants").register("price-block-buy-box-utils",function(a,d){function f(){if(g(c.PRICE_BLOCK_STRING_CONTAINER).length){g(c.OFFER_DISPLAY_GROUP_TAB_SET).length&&
(m=d.ID_PREFIX+g(c.DELIVERY_TAB)[0].id,v=d.ID_PREFIX+g(c.PICKUP_TAB)[0].id);l={};var a=g(v),f=g(c.PRICE_BLOCK_CONTAINER_CLASS);a.length&&f.length&&(b=0===a.index()?0:parseInt(f.slice(-1).attr("id").split("-").pop()));h(b,v);a=g(c.ACTIVE_ACCORDION).data(e.BUYING_OPTION_INDEX);0===b?(h(a?a:1,m),p=v):(h(a?a:0,m),p=m)}}function h(a,b){b||(b=p);l[b]=a}var g=a.$,c=d.selector,k=d.attributes,e=d.actionData,l,p,b,m,v;f();a.on("PageRefresh:ATF",f);return{getActiveAccordionBuyBox:function(a,e){a=parseInt(a);
e=e?g(e):g(c.ACTIVE_TAB);e.length&&a!==y&&(e=a===b?g(v):g(m));var d,f;1===e.length?(d=e.attr(k.TAB_CONTENT_ID),f=g(c.TAB_PREFIX+d+" "+c.BUY_BOX_ACCORDION_ROWS)):f=g(c.BUY_BOX_ACCORDION_ROWS);var h;1===f.length?h=a||0===a?f.find(c.ACCORDION_ROW_FOR_BUYING_OPTION_INDEX.replace(c.BUYING_OPTION_INDEX_VARIABLE,a)):f.find(c.ACTIVE_ACCORDION):1===e.length&&(h=g(c.TAB_PREFIX+d));return h},updateActiveBuyingOptionIndex:h,updateActiveTab:function(a){p=a},getActiveBuyingOptionIndex:function(a){a||(a=p);return l[a]},
getActiveTab:function(){return p}}});"use strict";p.when("A","comparison-plans-state","price-block-messaging-constants","po-compare-plans-actions").register("price-block-message-actions",function(a,d,f,h){function g(d,f){a.hide(f.find(e.PRICE_BLOCK_ALERT_SUCCESS));c(d,f);k(b.CLEAR,f)}function c(b,c){var d=c.find(e.PRICE_BLOCK_AMOUNT_PREFIX_ID),f=c.find(e.PRICE_BLOCK_AMOUNT_ID),g=c.find(e.PRICE_BLOCK_AMOUNT_SUFFIX_ID),k=c.find(e.PRICE_BLOCK_INNER_AMOUNT);a.hide(c.find(e.PREVIOUS_OPTION_ITEM_APPLICABILITY_MESSAGE));
a.show(c.find(e.OPTION_SELECTION_MESSAGE));a.hide(d);a.hide(f);a.hide(g);a.hide(k);g.html(b.regularPriceBlockFragment);a.show(g);if(b=b.highlightedPriceBlockFragment)f.find(".a-price").length?(f.find(".a-price-symbol").text(b.currencySymbol),f.find(".a-price-whole").html(b.wholeNumber+'\x3cspan class\x3d"a-price-decimal"\x3e'+b.decimalSeparator+"\x3c/span\x3e"),f.find(".a-price-fraction").text(b.fractionalNumber),f.find(".a-offscreen").text(b.amountDisplayString)):f.html(b.amountDisplayString),a.show(f),
b.prefix&&(d.html(b.prefix),a.show(d)),a.show(k)}function k(c,d){c===b.CLEAR?(a.hide(d.find(e.COMPARE_PLAN_LINK_SELECTED)),a.show(d.find(e.COMPARE_PLAN_LINK_UNSELECTED))):c===b.SELECT&&(a.hide(d.find(e.COMPARE_PLAN_LINK_UNSELECTED)),a.show(d.find(e.COMPARE_PLAN_LINK_SELECTED)))}var e=f.selector,l=f.actionData,p={updatePriceBlockMessageWithSelectedOption:function(d,f){a.hide(e.PRICE_BLOCK_ALERT);a.show(f.find(e.PRICE_BLOCK_ALERT_SUCCESS));c(d,f);k(b.SELECT,f)},resetPriceBlockMessageWithTopEligibleOffer:function(a){var b=
a.find(e.COMPARE_PLAN_LINK).find(e.DECLARATIVE_CLASS).data(l.COMPARE_PLAN_V2_ACTION_DATA).buyingOptionIndex,b=h.getTopEnabledOfferDataInComparisonTable(b).optionNotSelectedString;p.hideErrorMessage(a);g(b,a)},updatePriceBlockMessageWithNotSelectedOption:g,showErrorMessage:function(c,d,f,g){a.hide(d.find(e.PRICE_BLOCK_ALERT_SUCCESS));a.hide(d.find(e.PRICE_BLOCK_STRING));a.show(d.find(e.PRICE_BLOCK_ALERT_ERROR));var h=d.find(e.PRICE_BLOCK_ERROR_STRING_ID);c=h.data(c);if(g)for(var l in g)g[l]&&(c=c.replace(l,
g[l]));h.html(c);a.show(d.find(e.PRICE_BLOCK_ERROR_CONTAINER));g=d.find(e.COMPARE_PLAN_LINK);k(b.SELECT,d);f?a.show(g):a.hide(g)},hideErrorMessage:function(b){a.hide(b.find(e.PRICE_BLOCK_ALERT_ERROR));a.hide(b.find(e.PRICE_BLOCK_ERROR_CONTAINER));a.show(b.find(e.PRICE_BLOCK_STRING));a.show(b.find(e.PRICE_BLOCK_ALERT_SUCCESS));a.show(b.find(e.COMPARE_PLAN_LINK))}},b={SELECT:"select",CLEAR:"clear"};return p});"use strict";p.when("A","a-modal","payment-options-opt-out-state","price-block-messaging-constants",
"payment-options-client-side-metric","ready").execute("payment-options-modal",function(a,d,f,h,g){var c={};a.declarative("open-priceblock-change-plan-modal","click",function(a){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:Link:Click");var e="priceblock-change-plan-modal-"+a.data.buyingOptionIndex;Object.hasOwn(c,e)||(c[e]=d.create(a.$target,{header:a.data.optOutModalHeader,name:e,dataStrategy:"preload",width:484}));c[e].show()});a.declarative("priceblock-change-plan-modal-cancel-button",
"click",function(a){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:CancelButton:Click");c["priceblock-change-plan-modal-"+a.data.buyingOptionIndex].hide()});a.declarative("priceblock-change-plan-modal-continue-button","click",function(k){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:ContinueButton:Click");k=f.paymentOptionOptOutSelected.changePlanEventData;for(var e=Object.keys(c),l=0;l<e.length;++l){var p=e[l];d.remove(p);delete c[p]}f.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet=
!0;e=a.copy(k);e.data.paymentOptionSelectButtonId=h.ONE_TIME_PAYMENT_OPTION_ID;a.trigger("a:declarative:price-block-otp-action:click",e);k=a.copy(k);a.trigger("a:declarative:price-block-compare-plans:click",k)})});"use strict";p.when("A","a-modal","price-block-messaging-constants","compare-plan-row-height-updater","ready").register("compare-plan-modal",function(a,d,f,h){var g=a.$;a.on("PageRefresh:ATF",function(){for(var a=g('[id^\x3d"compare-plan-modal-"]').length,f=0;f<a;f++){var e="compare_plan_"+
f;null!==d.get(e)&&d.remove(e)}});return{showModal:function(c){var g=c.data.buyingOptionIndex,e="compare_plan_"+g,l=d.get(e);if(!a.isListening(f.selector.COMPARE_PLAN_AFTER_SHOW+e))a.on(f.selector.COMPARE_PLAN_AFTER_SHOW+e,function(){h.updateRowHeight("#comparison-table-"+g)});null!==l?l.update({height:860<=u.innerHeight?770:u.innerHeight-90}):(l=c.data.numberOfPaymentOptions,l=d.create(c.$target,{name:e,dataStrategy:"preload",padding:"none",width:2>=Number(l)?530:Math.min(218*l+96,1180),height:860<=
u.innerHeight?770:u.innerHeight-90,header:c.data.comparisonTableHeaderText}));l.show()},hideModal:function(a){(a=d.get("compare_plan_"+a))&&a.hide()},updateModalHeader:function(a,f){(a=d.get("compare_plan_"+a))&&a.update({header:f})}}});"use strict";p.when("A","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-landing-page-events",function(a,d,f){a.declarative("acquisition-offer-see-details","click",function(a){f.incrementWithValuePriceBlockMessaging(d.metrics.ACQUISITION_OFFER_SEE_DETAILS_BUTTON_CLICK,
1);try{var g=JSON.parse(a.data.landingPageUrl.paymentOfferInfoType).bannerDetailsPageUrl;u.open(g,"_blank")}catch(c){f.incrementWithValue("AcquisitionOffer:Desktop:LandingPageUrlParsingError",1)}});a.declarative("acquisition-offer-learn-more","click",function(a){f.incrementWithValuePriceBlockMessaging(d.metrics.ACQUISITION_OFFER_LEARN_MORE_CLICK,1);try{var g=JSON.parse(a.data.landingPageUrl.paymentOfferInfoType).learnMoreUrl;u.open(g,"_blank")}catch(c){f.incrementWithValue("AcquisitionOffer:Desktop:LearnMoreUrlParsingError",
1)}})});"use strict";p.when("A","price-block-messaging-constants","payment-options-client-side-metric","comparison-plans-actions").register("checkbox-price-block-actions",function(a,d,f,h){function g(a){k(e.CHECKBOX_PRICE_BLOCK).data(e.CHECKBOX_PRICE_BLOCK_DATA_KEY,a)}function c(a){k(e.CHECKBOX_PRICE_BLOCK).data(e.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY,a)}var k=a.$,e=d.selector,l=d.actionData;return{getComparePlansV1SelectedOfferButtonId:function(){var a=e.COMPARE_PLAN_OFFER_BUTTON_ID_PREFIX,
b=k(e.CHECKBOX_PRICE_BLOCK).data(e.CHECKBOX_PRICE_BLOCK_DATA_KEY);b||(b=a+"01",g(b));return b},getComparePlansV2SelectedOfferButtonId:function(){var a=k(e.CHECKBOX_PRICE_BLOCK).data(e.CHECKBOX_PRICE_BLOCK_DATA_KEY);a||(a=e.CHECKBOX_PRICE_BLOCK_INITIAL_CP2_BUTTON,g(a));return a},getOptionNotSelectedString:function(){return k(e.CHECKBOX_PRICE_BLOCK).data(e.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY)},updateCheckboxPriceblockData:g,updateCheckboxPriceblockOptionNotSelectedString:c,updateCheckboxWithTopOffer:function(a){a=
a.find(e.COMPARE_PLAN_LINK).find(e.DECLARATIVE_CLASS).data(l.COMPARE_PLAN_LINK_ACTION_DATA).buyingOptionIndex;a=h.getTopEnabledOfferDataInComparisonTable(a);g(d.ID_PREFIX+a.paymentOptionSelectButtonId);c(a.optionNotSelectedString)},markCheckboxPriceblock:function(){document.getElementById(e.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!0},unmarkCheckboxPriceblock:function(){document.getElementById(e.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!1},triggerCheckboxSelectedActions:function(c,b){a.defer(function(){k(c).click();
k(b).click()})},triggerCheckboxUnCheckedActions:function(a){k(a).click()},hasCheckboxPriceblock:function(){return k(e.CHECKBOX_PRICE_BLOCK).length}}});"use strict";p.when("A").register("compare-plan-2_5-weblab-trigger",function(a){return{triggerWeblab:function(){var d=a.$("#comparePlan2_5Treatment");u.ue&&u.ue.trigger&&d.length&&u.ue.trigger("PAYTECH_UFO_DP_COMPARE_PLAN2_5_1317666",d.data("treatment"))}}})});
/* ******** */
(function(g){var k=window.AmazonUIPageJS||window.P,m=k._namespace||k.attributeErrors,b=m?m("DetailPageLoyaltyRewardPointsRedemptionAssets",""):k;b.guardFatal?b.guardFatal(g)(b,window):b.execute(function(){g(b,window)})})(function(g,k,m){var b=Object.freeze({PRIMARY:"PRIMARY",LIFETIME_EARNINGS:"LIFETIME_EARNINGS",CONSISTENCY_TYPE:"STRICT"}),l=Object.freeze({MODAL_NAME:"diamonds-redemption-modal-content",WIDTH:"395",PADDING:"none",HIDE_HEADER:!0,CLOSE_TYPE:"icon"});g.when("A","a-modal","redemption-bottom-sheet-aapi-util").register("redemption-bottom-sheet",
function(n,k,h){function m(f){function q(a,c){return a&&a.entity&&a.entity.balances?(a=a.entity.balances.find(function(a,e){return a.balanceType===c}))?a.amount:0:0}function r(a,d){if(a>=d)e(c.progressBarContents).addClass("aok-hidden");else{var b=a/d*100;g.when("a-meter").execute(function(){n.$(c.progressBar).find(".a-meter-bar")["0"].attributes["1"].nodeValue="width: "+b+"%;background-color: #008296; margin-left: -6%;";e(c.progressBarContents).removeClass("aok-hidden")})}}var d=f.data,p;p||(p=k.create(f.$target,
{name:l.MODAL_NAME,height:l.HEIGHT,width:l.WIDTH,padding:l.PADDING,hideHeader:l.HIDE_HEADER,closeType:l.CLOSE_TYPE}));e(c.redemptionSheetContentSpinnerClass).removeClass("aok-hidden");e(c.redemptionBottomSheetContentClass).addClass("aok-hidden");p.show();f=JSON.stringify({domain:d.currencyType,marketplaceId:d.marketplaceId,balanceTypes:[b.PRIMARY,b.LIFETIME_EARNINGS],consistencyType:b.CONSISTENCY_TYPE});h.getAAPIProductData(d.aapiEndpoint,d.csrfToken,d.language,f).done(function(a){var f=q(a,b.PRIMARY);
e(c.ajaxTextPointsDivClass).text(parseInt(f).toLocaleString(d.language));e(c.redemptionSheetContentSpinnerClass).addClass("aok-hidden");e(c.redemptionBottomSheetContentClass).removeClass("aok-hidden");d.lifetimeBalanceEnabled&&(a=q(a,b.LIFETIME_EARNINGS),f=parseInt(d.minimumLifetimeBalanceThreshold),e(c.remainingDiamondsTextDiv).text(parseInt(f-a).toLocaleString(d.language)),e(c.diamondsCollected).text(parseInt(a).toLocaleString(d.language)),e(c.minimumLifetimeBalanceRequired).text(parseInt(d.minimumLifetimeBalanceThreshold).toLocaleString(d.language)),
r(a,f))})}var e=n.$,c={redemptionBottomSheetContentClass:".redemption-bottom-sheet-container-class",ajaxTextPointsDivClass:".redemptionPointsTextDivClass",redemptionSheetContentSpinnerClass:".redemption-bottom-sheet-spinner-class",remainingDiamondsTextDiv:"#remainingDiamondsToCollect",diamondsCollected:"#diamondsCollectedNumerator",progressBarContents:"#progressBarContents",progressBar:"#progress-bar-bottom-sheet",minimumLifetimeBalanceRequired:"#diamondsCollectedDenominator"};n.declarative("diamonds-redemption-modal",
"click",function(c){m(c)})});"use strict";g.when("A").register("redemption-bottom-sheet-aapi-util",function(b){var g=b.$,h=document.querySelector('meta[name\x3d"encrypted-slate-token"]'),h=h?h.content:h;return{getAAPIProductData:function(b,e,c,f){return g.ajax({url:"https://"+b+"/custom/marbleserviceaapicontracts/marblesservice-getbalances-aapi",type:"POST",headers:{Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.response/v1"',
"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.request/v1"',"x-api-csrf-token":e,"Accept-Language":c,"x-amzn-encrypted-slate-token":h},data:f,xhrFields:{withCredentials:!0}})}}})});
/* ******** */
